{"time": "2026-02-19 11:03:42,155", "level": "WARNING", "logger": "fumorive", "message": "prometheus-fastapi-instrumentator not installed — metrics disabled"}
C:\Users\User\Fumorive\backend\main.py:325: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
C:\Users\User\Fumorive\backend\main.py:356: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("shutdown")
INFO:     Will watch for changes in these directories: ['C:\\Users\\User\\Fumorive\\backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [67684] using WatchFiles
{"time": "2026-02-19 11:03:43,435", "level": "WARNING", "logger": "fumorive", "message": "prometheus-fastapi-instrumentator not installed — metrics disabled"}
{"time": "2026-02-19 11:03:43,618", "level": "WARNING", "logger": "fumorive", "message": "prometheus-fastapi-instrumentator not installed — metrics disabled"}
INFO:     Started server process [18584]
INFO:     Waiting for application startup.
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.firebase", "message": "[OK] Firebase Admin SDK initialized successfully"}
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.data_buffer", "message": "[EEG_Buffer] Initialized with max_size=100, max_time=1.0s"}
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.eeg_relay", "message": "Created global EEG data buffer"}
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.data_buffer", "message": "[EEG_Buffer] Background worker started"}
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.eeg_relay", "message": "Started EEG data buffer background worker"}
{"time": "2026-02-19 11:03:47,786", "level": "INFO", "logger": "app.core.data_buffer", "message": "[EEG_Buffer] Background worker running"}
INFO:     Application startup complete.
{"time": "2026-02-19 11:03:48,062", "level": "INFO", "logger": "fumorive", "message": "request", "request_id": "398f2b62", "method": "GET", "path": "/api/v1/health/live", "status": 200, "duration_ms": 2.03, "client": "127.0.0.1", "slow": false}
{"time": "2026-02-19 11:04:49,080", "level": "INFO", "logger": "fumorive", "message": "request", "request_id": "4c8510a5", "method": "GET", "path": "/api/v1/health/metrics", "status": 200, "duration_ms": 1.09, "client": "127.0.0.1", "slow": false}
{"time": "2026-02-19 11:05:17,538", "level": "WARNING", "logger": "fumorive.errors", "message": "HTTP exception", "request_id": "1373da54", "status_code": 404, "detail": "Not Found", "path": "/health", "method": "GET"}
{"time": "2026-02-19 11:05:17,540", "level": "INFO", "logger": "fumorive", "message": "request", "request_id": "1373da54", "method": "GET", "path": "/health", "status": 404, "duration_ms": 4.67, "client": "127.0.0.1", "slow": false}
{"time": "2026-02-19 11:05:23,716", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "1fea01f1", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:23,921", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "1fea01f1", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 4343.48, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:05:40,319", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "ab481607", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:40,327", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "f1020bfd", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:40,332", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "96463538", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:40,337", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "1165df4c", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:40,340", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "ab481607", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16421.4, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:05:40,341", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "f1020bfd", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16422.41, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:05:40,341", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "96463538", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16422.41, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:05:40,341", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "1165df4c", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16422.41, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:05:46,506", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "5d171dd9", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:05:46,519", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "5d171dd9", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 4134.7, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:06:02,960", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "73a2dd53", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:06:02,967", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "aa23684d", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:06:02,970", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "7afb22d9", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:06:02,976", "level": "ERROR", "logger": "fumorive.errors", "message": "Unhandled database error", "request_id": "d3e5d84e", "path": "/api/v1/auth/login", "method": "POST", "exc": "(psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "exc_info": "Traceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npsycopg2.OperationalError: connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 72, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 299, in app\n    raise e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 294, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\slowapi\\extension.py\", line 734, in async_wrapper\n    response = await func(*args, **kwargs)  # type: ignore\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\app\\api\\routes\\auth.py\", line 91, in login\n    user = db.query(User).filter(User.email == form_data.username).first()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2748, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2180, in _execute_internal\n    conn = self._connection_for_bind(bind)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2047, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<string>\", line 2, in _connection_for_bind\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 1143, in _connection_for_bind\n    conn = bind.connect()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3269, in connect\n    return self._connection_cls(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 147, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2431, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 145, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 3293, in raw_connection\n    return self.pool.connect()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 452, in connect\n    return _ConnectionFairy._checkout(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 1269, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 716, in checkout\n    rec = pool._do_get()\n          ^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 169, in _do_get\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py\", line 167, in _do_get\n    return self._create_connection()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 393, in _create_connection\n    return _ConnectionRecord(self)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 678, in __init__\n    self.__connect()\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 902, in __connect\n    with util.safe_reraise():\n         ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py\", line 898, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py\", line 645, in connect\n    return dialect.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 616, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\User\\Fumorive\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py\", line 122, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}
{"time": "2026-02-19 11:06:02,983", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "73a2dd53", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16468.61, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:06:02,983", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "aa23684d", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16467.6, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:06:02,984", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "7afb22d9", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16469.66, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:06:02,985", "level": "WARNING", "logger": "fumorive", "message": "request", "request_id": "d3e5d84e", "method": "POST", "path": "/api/v1/auth/login", "status": 503, "duration_ms": 16470.19, "client": "127.0.0.1", "slow": true}
{"time": "2026-02-19 11:06:40,546", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select pg_catalog.version()", "asctime": "2026-02-19 11:06:40,546"}
{"time": "2026-02-19 11:06:40,547", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "asctime": "2026-02-19 11:06:40,547"}
{"time": "2026-02-19 11:06:40,552", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "select current_schema()", "asctime": "2026-02-19 11:06:40,552"}
{"time": "2026-02-19 11:06:40,552", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "asctime": "2026-02-19 11:06:40,552"}
{"time": "2026-02-19 11:06:40,558", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "show standard_conforming_strings", "asctime": "2026-02-19 11:06:40,558"}
{"time": "2026-02-19 11:06:40,558", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[raw sql] {}", "asctime": "2026-02-19 11:06:40,558"}
{"time": "2026-02-19 11:06:40,561", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "asctime": "2026-02-19 11:06:40,561"}
{"time": "2026-02-19 11:06:40,561", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT 1", "asctime": "2026-02-19 11:06:40,561"}
{"time": "2026-02-19 11:06:40,562", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00046s] {}", "asctime": "2026-02-19 11:06:40,562"}
{"time": "2026-02-19 11:06:40,564", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "asctime": "2026-02-19 11:06:40,564"}
{"time": "2026-02-19 11:06:40,592", "level": "INFO", "logger": "fumorive", "message": "request", "request_id": "84417df7", "method": "GET", "path": "/api/v1/health/ready", "status": 200, "duration_ms": 98.59, "client": "127.0.0.1", "slow": false}
{"time": "2026-02-19 11:06:54,630", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "BEGIN (implicit)", "asctime": "2026-02-19 11:06:54,630"}
{"time": "2026-02-19 11:06:54,632", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at \nFROM users \nWHERE users.email = %(email_1)s \n LIMIT %(param_1)s", "asctime": "2026-02-19 11:06:54,632"}
{"time": "2026-02-19 11:06:54,632", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "[generated in 0.00038s] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}", "asctime": "2026-02-19 11:06:54,632"}
{"time": "2026-02-19 11:06:54,848", "level": "INFO", "logger": "sqlalchemy.engine.Engine", "message": "ROLLBACK", "asctime": "2026-02-19 11:06:54,848"}
{"time": "2026-02-19 11:06:54,849", "level": "INFO", "logger": "fumorive", "message": "request", "request_id": "a29b5527", "method": "POST", "path": "/api/v1/auth/login", "status": 200, "duration_ms": 223.13, "client": "127.0.0.1", "slow": false}
INFO:     Shutting down
INFO:     Waiting for application shutdown.
{"time": "2026-02-19 11:07:23,926", "level": "INFO", "logger": "app.core.data_buffer", "message": "[EEG_Buffer] Stopped and flushed remaining data"}
{"time": "2026-02-19 11:07:23,926", "level": "INFO", "logger": "app.core.eeg_relay", "message": "Stopped EEG data buffer"}
INFO:     Application shutdown complete.
INFO:     Finished server process [18584]
INFO:     Stopping reloader process [67684]
