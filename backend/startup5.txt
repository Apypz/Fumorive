============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
2026-02-18 16:22:09,202 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 16:22:09,203 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:22:09,205 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 16:22:09,206 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:22:09,207 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 16:22:09,208 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:22:09,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:09,211 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:09,212 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:09,216 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:11,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:11,307 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:11,308 INFO sqlalchemy.engine.Engine [cached since 2.097s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:11,316 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:13,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:13,385 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:13,386 INFO sqlalchemy.engine.Engine [cached since 4.175s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:13,392 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:15,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:15,458 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:15,459 INFO sqlalchemy.engine.Engine [cached since 6.247s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:15,462 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:17,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:17,512 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:17,512 INFO sqlalchemy.engine.Engine [cached since 8.301s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:17,520 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:19,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:19,608 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:19,610 INFO sqlalchemy.engine.Engine [cached since 10.4s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:19,616 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:21,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:21,692 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:21,692 INFO sqlalchemy.engine.Engine [cached since 12.48s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:21,698 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:23,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:23,761 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:23,761 INFO sqlalchemy.engine.Engine [cached since 14.55s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:23,764 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:25,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:25,831 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:25,832 INFO sqlalchemy.engine.Engine [cached since 16.62s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:25,837 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:22:27,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:22:27,911 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:22:27,911 INFO sqlalchemy.engine.Engine [cached since 18.7s ago] {'email_1': 'notexist@test.com', 'param_1': 1}
2026-02-18 16:22:27,915 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:23,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:23,492 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:23,492 INFO sqlalchemy.engine.Engine [cached since 134.3s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:23,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:23,721 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:23,721 INFO sqlalchemy.engine.Engine [cached since 134.5s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:23,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:23,956 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:23,957 INFO sqlalchemy.engine.Engine [cached since 134.7s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:24,187 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:24,189 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:24,190 INFO sqlalchemy.engine.Engine [cached since 135s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:24,445 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:24,448 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:24,448 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:24,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:24,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:24,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:24,664 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:24,664 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:24,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:24,686 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:24,686 INFO sqlalchemy.engine.Engine [cached since 135.5s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:24,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:24,898 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:24,898 INFO sqlalchemy.engine.Engine [cached since 135.7s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:25,097 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,097 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:25,097 INFO sqlalchemy.engine.Engine [cached since 135.9s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:25,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,300 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:25,300 INFO sqlalchemy.engine.Engine [cached since 136.1s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:25,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,501 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:24:25,502 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:24:25,708 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,708 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,708 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,708 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,708 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,732 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,732 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'id': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2045', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,737 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,742 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,742 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'pk_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,752 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,752 INFO sqlalchemy.engine.Engine [cached since 0.02039s ago] {'id': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3861', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,756 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,760 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,761 INFO sqlalchemy.engine.Engine [cached since 0.01899s ago] {'pk_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:25,764 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,764 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,805 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,805 INFO sqlalchemy.engine.Engine [cached since 0.07306s ago] {'id': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1485', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,807 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,810 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,811 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,811 INFO sqlalchemy.engine.Engine [cached since 0.06929s ago] {'pk_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,818 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,818 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,819 INFO sqlalchemy.engine.Engine [cached since 0.08726s ago] {'id': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2589', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,821 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,824 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,824 INFO sqlalchemy.engine.Engine [cached since 0.08261s ago] {'pk_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:25,827 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,828 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,831 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,832 INFO sqlalchemy.engine.Engine [cached since 0.09996s ago] {'id': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9448', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,833 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,836 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,836 INFO sqlalchemy.engine.Engine [cached since 0.09496s ago] {'pk_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:25,839 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,843 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,844 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,844 INFO sqlalchemy.engine.Engine [cached since 0.1129s ago] {'id': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2941', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,845 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,849 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,850 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,850 INFO sqlalchemy.engine.Engine [cached since 0.1079s ago] {'pk_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,854 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,854 INFO sqlalchemy.engine.Engine [cached since 0.1232s ago] {'id': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3689', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,856 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,859 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,860 INFO sqlalchemy.engine.Engine [cached since 0.1184s ago] {'pk_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,864 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,865 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,865 INFO sqlalchemy.engine.Engine [cached since 0.1339s ago] {'id': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2047', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,866 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,870 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,870 INFO sqlalchemy.engine.Engine [cached since 0.1282s ago] {'pk_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,874 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,874 INFO sqlalchemy.engine.Engine [cached since 0.1428s ago] {'id': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2210', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,876 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,880 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,880 INFO sqlalchemy.engine.Engine [cached since 0.1384s ago] {'pk_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,885 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:25,885 INFO sqlalchemy.engine.Engine [cached since 0.1532s ago] {'id': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2301', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:25,887 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:25,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,889 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:25,889 INFO sqlalchemy.engine.Engine [cached since 0.1477s ago] {'pk_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:25,891 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,893 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,894 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,894 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,894 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,907 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,908 INFO sqlalchemy.engine.Engine [generated in 0.00077s] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,911 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,912 INFO sqlalchemy.engine.Engine [generated in 0.00038s] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,918 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,920 INFO sqlalchemy.engine.Engine [cached since 0.0123s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,922 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,922 INFO sqlalchemy.engine.Engine [cached since 0.01059s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:25,925 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,927 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,930 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,930 INFO sqlalchemy.engine.Engine [cached since 0.02272s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,932 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,932 INFO sqlalchemy.engine.Engine [cached since 0.02114s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,938 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,938 INFO sqlalchemy.engine.Engine [cached since 0.03048s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,939 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,939 INFO sqlalchemy.engine.Engine [cached since 0.02888s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:25,944 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,948 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,948 INFO sqlalchemy.engine.Engine [cached since 0.04002s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,950 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,950 INFO sqlalchemy.engine.Engine [cached since 0.03844s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:25,953 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,954 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,959 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,959 INFO sqlalchemy.engine.Engine [cached since 0.05109s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,961 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,961 INFO sqlalchemy.engine.Engine [cached since 0.0498s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,966 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,968 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,968 INFO sqlalchemy.engine.Engine [cached since 0.05993s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,969 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,970 INFO sqlalchemy.engine.Engine [cached since 0.05813s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,975 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,975 INFO sqlalchemy.engine.Engine [cached since 0.06738s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,978 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,978 INFO sqlalchemy.engine.Engine [cached since 0.06661s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:25,980 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,981 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,984 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,984 INFO sqlalchemy.engine.Engine [cached since 0.07649s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,986 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,986 INFO sqlalchemy.engine.Engine [cached since 0.07482s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:25,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:25,992 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:25,992 INFO sqlalchemy.engine.Engine [cached since 0.08401s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:25,995 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:25,995 INFO sqlalchemy.engine.Engine [cached since 0.08392s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:25,998 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,999 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:25,999 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,019 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,019 INFO sqlalchemy.engine.Engine [generated in 0.00029s] {'id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'param_1': 1}
2026-02-18 16:24:26,022 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,022 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'session_name': 'Updated 8024', 'sessions_id': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,024 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,027 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,027 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,027 INFO sqlalchemy.engine.Engine [cached since 0.286s ago] {'pk_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,034 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,034 INFO sqlalchemy.engine.Engine [cached since 0.01544s ago] {'id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'param_1': 1}
2026-02-18 16:24:26,035 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,037 INFO sqlalchemy.engine.Engine [cached since 0.01461s ago] {'session_name': 'Updated 5274', 'sessions_id': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,038 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,042 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,042 INFO sqlalchemy.engine.Engine [cached since 0.301s ago] {'pk_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,046 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:26,046 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,051 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,051 INFO sqlalchemy.engine.Engine [cached since 0.03157s ago] {'id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'param_1': 1}
2026-02-18 16:24:26,052 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,053 INFO sqlalchemy.engine.Engine [cached since 0.0307s ago] {'session_name': 'Updated 7104', 'sessions_id': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,055 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,057 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,057 INFO sqlalchemy.engine.Engine [cached since 0.3162s ago] {'pk_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,063 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,067 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,067 INFO sqlalchemy.engine.Engine [cached since 0.04758s ago] {'id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'param_1': 1}
2026-02-18 16:24:26,069 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,069 INFO sqlalchemy.engine.Engine [cached since 0.04708s ago] {'session_name': 'Updated 9321', 'sessions_id': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,070 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,073 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,073 INFO sqlalchemy.engine.Engine [cached since 0.3317s ago] {'pk_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,078 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,079 INFO sqlalchemy.engine.Engine [cached since 0.06015s ago] {'id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'param_1': 1}
2026-02-18 16:24:26,080 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,081 INFO sqlalchemy.engine.Engine [cached since 0.05919s ago] {'session_name': 'Updated 6333', 'sessions_id': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,082 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,086 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,086 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,086 INFO sqlalchemy.engine.Engine [cached since 0.3452s ago] {'pk_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,088 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,092 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,093 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,094 INFO sqlalchemy.engine.Engine [cached since 0.0741s ago] {'id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'param_1': 1}
2026-02-18 16:24:26,095 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,095 INFO sqlalchemy.engine.Engine [cached since 0.07328s ago] {'session_name': 'Updated 1753', 'sessions_id': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,096 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,099 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,099 INFO sqlalchemy.engine.Engine [cached since 0.3574s ago] {'pk_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,102 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,105 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,106 INFO sqlalchemy.engine.Engine [cached since 0.08655s ago] {'id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'param_1': 1}
2026-02-18 16:24:26,107 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,108 INFO sqlalchemy.engine.Engine [cached since 0.0855s ago] {'session_name': 'Updated 2568', 'sessions_id': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,109 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,112 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,112 INFO sqlalchemy.engine.Engine [cached since 0.3707s ago] {'pk_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,115 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,118 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,118 INFO sqlalchemy.engine.Engine [cached since 0.09917s ago] {'id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'param_1': 1}
2026-02-18 16:24:26,119 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,120 INFO sqlalchemy.engine.Engine [cached since 0.09822s ago] {'session_name': 'Updated 9074', 'sessions_id': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,121 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,124 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,124 INFO sqlalchemy.engine.Engine [cached since 0.3826s ago] {'pk_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,127 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,130 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,130 INFO sqlalchemy.engine.Engine [cached since 0.1109s ago] {'id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'param_1': 1}
2026-02-18 16:24:26,132 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,132 INFO sqlalchemy.engine.Engine [cached since 0.1099s ago] {'session_name': 'Updated 6140', 'sessions_id': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,133 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,136 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,136 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,136 INFO sqlalchemy.engine.Engine [cached since 0.3946s ago] {'pk_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,140 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,141 INFO sqlalchemy.engine.Engine [cached since 0.1219s ago] {'id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'param_1': 1}
2026-02-18 16:24:26,143 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,143 INFO sqlalchemy.engine.Engine [cached since 0.1216s ago] {'session_name': 'Updated 5898', 'sessions_id': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,145 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,149 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,149 INFO sqlalchemy.engine.Engine [cached since 0.4067s ago] {'pk_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,151 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,152 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,152 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,187 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,187 INFO sqlalchemy.engine.Engine [cached since 0.1678s ago] {'id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'param_1': 1}
2026-02-18 16:24:26,190 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,190 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'session_id': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 152308), 'alert_level': 'warning', 'fatigue_score': 78.42793603776623, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,203 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,208 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,208 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'pk_1': 273}
2026-02-18 16:24:26,215 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,215 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'pk_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,217 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,217 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'alert_count': 1, 'sessions_id': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,218 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,222 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,222 INFO sqlalchemy.engine.Engine [generated in 0.00031s] {'pk_1': 273}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:26,228 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,233 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,233 INFO sqlalchemy.engine.Engine [cached since 0.2135s ago] {'id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'param_1': 1}
2026-02-18 16:24:26,234 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,234 INFO sqlalchemy.engine.Engine [cached since 0.04446s ago] {'session_id': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 153430), 'alert_level': 'critical', 'fatigue_score': 90.17567627469404, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,237 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,240 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,241 INFO sqlalchemy.engine.Engine [cached since 0.03333s ago] {'pk_1': 274}
2026-02-18 16:24:26,244 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,244 INFO sqlalchemy.engine.Engine [cached since 0.03026s ago] {'pk_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,246 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,246 INFO sqlalchemy.engine.Engine [cached since 0.02993s ago] {'alert_count': 1, 'sessions_id': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,248 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,250 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,250 INFO sqlalchemy.engine.Engine [cached since 0.02902s ago] {'pk_1': 274}
2026-02-18 16:24:26,256 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,260 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,260 INFO sqlalchemy.engine.Engine [cached since 0.2415s ago] {'id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'param_1': 1}
2026-02-18 16:24:26,262 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,262 INFO sqlalchemy.engine.Engine [cached since 0.07252s ago] {'session_id': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 155698), 'alert_level': 'critical', 'fatigue_score': 76.65448704290992, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,264 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,267 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,267 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,267 INFO sqlalchemy.engine.Engine [cached since 0.05952s ago] {'pk_1': 275}
2026-02-18 16:24:26,268 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,268 INFO sqlalchemy.engine.Engine [cached since 0.05414s ago] {'pk_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,270 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,270 INFO sqlalchemy.engine.Engine [cached since 0.0537s ago] {'alert_count': 1, 'sessions_id': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,271 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,274 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,275 INFO sqlalchemy.engine.Engine [cached since 0.05334s ago] {'pk_1': 275}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,281 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,282 INFO sqlalchemy.engine.Engine [cached since 0.2625s ago] {'id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'param_1': 1}
2026-02-18 16:24:26,283 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,283 INFO sqlalchemy.engine.Engine [cached since 0.09335s ago] {'session_id': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 159346), 'alert_level': 'warning', 'fatigue_score': 93.03797346026087, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,285 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,288 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,288 INFO sqlalchemy.engine.Engine [cached since 0.08067s ago] {'pk_1': 276}
2026-02-18 16:24:26,290 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,290 INFO sqlalchemy.engine.Engine [cached since 0.07519s ago] {'pk_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,291 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,291 INFO sqlalchemy.engine.Engine [cached since 0.07446s ago] {'alert_count': 1, 'sessions_id': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,292 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,295 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,296 INFO sqlalchemy.engine.Engine [cached since 0.07495s ago] {'pk_1': 276}
2026-02-18 16:24:26,299 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,303 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,303 INFO sqlalchemy.engine.Engine [cached since 0.284s ago] {'id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'param_1': 1}
2026-02-18 16:24:26,305 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,305 INFO sqlalchemy.engine.Engine [cached since 0.1151s ago] {'session_id': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 161353), 'alert_level': 'warning', 'fatigue_score': 76.06017781384604, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,306 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,309 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,310 INFO sqlalchemy.engine.Engine [cached since 0.1024s ago] {'pk_1': 277}
2026-02-18 16:24:26,311 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,311 INFO sqlalchemy.engine.Engine [cached since 0.09712s ago] {'pk_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,313 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,313 INFO sqlalchemy.engine.Engine [cached since 0.09651s ago] {'alert_count': 1, 'sessions_id': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,314 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,317 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,317 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,318 INFO sqlalchemy.engine.Engine [cached since 0.09587s ago] {'pk_1': 277}
2026-02-18 16:24:26,319 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,324 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,324 INFO sqlalchemy.engine.Engine [cached since 0.3052s ago] {'id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'param_1': 1}
2026-02-18 16:24:26,326 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,326 INFO sqlalchemy.engine.Engine [cached since 0.1366s ago] {'session_id': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 165666), 'alert_level': 'warning', 'fatigue_score': 63.35594569844393, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,328 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,332 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,332 INFO sqlalchemy.engine.Engine [cached since 0.1251s ago] {'pk_1': 278}
2026-02-18 16:24:26,334 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,334 INFO sqlalchemy.engine.Engine [cached since 0.1198s ago] {'pk_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,335 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,336 INFO sqlalchemy.engine.Engine [cached since 0.1193s ago] {'alert_count': 1, 'sessions_id': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,337 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,340 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,340 INFO sqlalchemy.engine.Engine [cached since 0.1188s ago] {'pk_1': 278}
2026-02-18 16:24:26,344 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,347 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,348 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,348 INFO sqlalchemy.engine.Engine [cached since 0.3289s ago] {'id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'param_1': 1}
2026-02-18 16:24:26,349 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,349 INFO sqlalchemy.engine.Engine [cached since 0.16s ago] {'session_id': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 166666), 'alert_level': 'critical', 'fatigue_score': 92.91624973039814, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,352 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,355 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,355 INFO sqlalchemy.engine.Engine [cached since 0.1472s ago] {'pk_1': 279}
2026-02-18 16:24:26,356 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,357 INFO sqlalchemy.engine.Engine [cached since 0.1418s ago] {'pk_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,359 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,359 INFO sqlalchemy.engine.Engine [cached since 0.1421s ago] {'alert_count': 1, 'sessions_id': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,360 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,362 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,363 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,364 INFO sqlalchemy.engine.Engine [cached since 0.1415s ago] {'pk_1': 279}
2026-02-18 16:24:26,365 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:26,366 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,370 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,370 INFO sqlalchemy.engine.Engine [cached since 0.3511s ago] {'id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'param_1': 1}
2026-02-18 16:24:26,372 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,373 INFO sqlalchemy.engine.Engine [cached since 0.1823s ago] {'session_id': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 169670), 'alert_level': 'critical', 'fatigue_score': 61.382555053882875, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,374 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,377 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,377 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,377 INFO sqlalchemy.engine.Engine [cached since 0.1703s ago] {'pk_1': 280}
2026-02-18 16:24:26,379 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,379 INFO sqlalchemy.engine.Engine [cached since 0.1652s ago] {'pk_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,380 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,382 INFO sqlalchemy.engine.Engine [cached since 0.1647s ago] {'alert_count': 1, 'sessions_id': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,383 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,385 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,385 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,386 INFO sqlalchemy.engine.Engine [cached since 0.1638s ago] {'pk_1': 280}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,391 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,391 INFO sqlalchemy.engine.Engine [cached since 0.3723s ago] {'id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'param_1': 1}
2026-02-18 16:24:26,393 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,395 INFO sqlalchemy.engine.Engine [cached since 0.2044s ago] {'session_id': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 171667), 'alert_level': 'warning', 'fatigue_score': 79.65964054838489, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,396 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,399 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,399 INFO sqlalchemy.engine.Engine [cached since 0.1924s ago] {'pk_1': 281}
2026-02-18 16:24:26,401 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,401 INFO sqlalchemy.engine.Engine [cached since 0.1871s ago] {'pk_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,403 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,404 INFO sqlalchemy.engine.Engine [cached since 0.1867s ago] {'alert_count': 1, 'sessions_id': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,405 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,408 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,408 INFO sqlalchemy.engine.Engine [cached since 0.1863s ago] {'pk_1': 281}
2026-02-18 16:24:26,410 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:26,412 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,415 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,415 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,416 INFO sqlalchemy.engine.Engine [cached since 0.3963s ago] {'id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'param_1': 1}
2026-02-18 16:24:26,417 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:26,417 INFO sqlalchemy.engine.Engine [cached since 0.2271s ago] {'session_id': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 26, 172674), 'alert_level': 'critical', 'fatigue_score': 91.48986581825798, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:26,418 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,421 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,421 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,421 INFO sqlalchemy.engine.Engine [cached since 0.2145s ago] {'pk_1': 282}
2026-02-18 16:24:26,423 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,423 INFO sqlalchemy.engine.Engine [cached since 0.2091s ago] {'pk_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,426 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,426 INFO sqlalchemy.engine.Engine [cached since 0.2089s ago] {'alert_count': 1, 'sessions_id': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,426 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,429 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:26,430 INFO sqlalchemy.engine.Engine [cached since 0.2078s ago] {'pk_1': 282}
2026-02-18 16:24:26,433 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,452 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,453 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,456 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,457 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,461 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,466 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,467 INFO sqlalchemy.engine.Engine [cached since 0.01424s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,469 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,469 INFO sqlalchemy.engine.Engine [cached since 0.01316s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,475 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,476 INFO sqlalchemy.engine.Engine [cached since 0.02349s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,478 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,479 INFO sqlalchemy.engine.Engine [cached since 0.02352s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,482 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,487 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,487 INFO sqlalchemy.engine.Engine [cached since 0.03469s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,489 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,490 INFO sqlalchemy.engine.Engine [cached since 0.03384s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,492 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,496 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,498 INFO sqlalchemy.engine.Engine [cached since 0.04548s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,500 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,500 INFO sqlalchemy.engine.Engine [cached since 0.04444s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,504 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,505 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,511 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,511 INFO sqlalchemy.engine.Engine [cached since 0.05864s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,513 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,514 INFO sqlalchemy.engine.Engine [cached since 0.05757s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,519 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,519 INFO sqlalchemy.engine.Engine [cached since 0.06724s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,521 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,522 INFO sqlalchemy.engine.Engine [cached since 0.06609s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,527 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,527 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,529 INFO sqlalchemy.engine.Engine [cached since 0.07638s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,530 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,531 INFO sqlalchemy.engine.Engine [cached since 0.07531s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,536 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,536 INFO sqlalchemy.engine.Engine [cached since 0.08448s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,538 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,539 INFO sqlalchemy.engine.Engine [cached since 0.08313s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,540 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,541 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,542 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,543 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,548 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,548 INFO sqlalchemy.engine.Engine [cached since 0.09693s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,551 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,552 INFO sqlalchemy.engine.Engine [cached since 0.09591s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,555 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,563 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,563 INFO sqlalchemy.engine.Engine [cached since 0.5446s ago] {'id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'param_1': 1}
2026-02-18 16:24:26,568 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,569 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'session_id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,571 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,571 INFO sqlalchemy.engine.Engine [generated in 0.00038s] {'session_id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,576 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,577 INFO sqlalchemy.engine.Engine [cached since 0.5579s ago] {'id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'param_1': 1}
2026-02-18 16:24:26,580 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,580 INFO sqlalchemy.engine.Engine [cached since 0.01226s ago] {'session_id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,582 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,583 INFO sqlalchemy.engine.Engine [cached since 0.01181s ago] {'session_id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:26,584 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,588 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,589 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,589 INFO sqlalchemy.engine.Engine [cached since 0.5696s ago] {'id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'param_1': 1}
2026-02-18 16:24:26,590 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,590 INFO sqlalchemy.engine.Engine [cached since 0.0229s ago] {'session_id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,593 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,594 INFO sqlalchemy.engine.Engine [cached since 0.02289s ago] {'session_id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:26,595 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,596 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,601 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,601 INFO sqlalchemy.engine.Engine [cached since 0.582s ago] {'id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'param_1': 1}
2026-02-18 16:24:26,603 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,603 INFO sqlalchemy.engine.Engine [cached since 0.0353s ago] {'session_id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,605 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,605 INFO sqlalchemy.engine.Engine [cached since 0.03453s ago] {'session_id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,609 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,610 INFO sqlalchemy.engine.Engine [cached since 0.5903s ago] {'id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'param_1': 1}
2026-02-18 16:24:26,611 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,611 INFO sqlalchemy.engine.Engine [cached since 0.0436s ago] {'session_id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,613 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,614 INFO sqlalchemy.engine.Engine [cached since 0.04302s ago] {'session_id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:26,616 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,616 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,619 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,620 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,620 INFO sqlalchemy.engine.Engine [cached since 0.601s ago] {'id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'param_1': 1}
2026-02-18 16:24:26,621 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,622 INFO sqlalchemy.engine.Engine [cached since 0.05424s ago] {'session_id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,623 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,624 INFO sqlalchemy.engine.Engine [cached since 0.05368s ago] {'session_id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:26,627 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,633 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,633 INFO sqlalchemy.engine.Engine [cached since 0.6142s ago] {'id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'param_1': 1}
2026-02-18 16:24:26,635 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,636 INFO sqlalchemy.engine.Engine [cached since 0.06745s ago] {'session_id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,637 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,637 INFO sqlalchemy.engine.Engine [cached since 0.06615s ago] {'session_id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,641 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,641 INFO sqlalchemy.engine.Engine [cached since 0.6218s ago] {'id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'param_1': 1}
2026-02-18 16:24:26,643 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,643 INFO sqlalchemy.engine.Engine [cached since 0.07547s ago] {'session_id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,645 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,645 INFO sqlalchemy.engine.Engine [cached since 0.07435s ago] {'session_id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,649 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,649 INFO sqlalchemy.engine.Engine [cached since 0.6299s ago] {'id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'param_1': 1}
2026-02-18 16:24:26,650 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,651 INFO sqlalchemy.engine.Engine [cached since 0.08312s ago] {'session_id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,652 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,652 INFO sqlalchemy.engine.Engine [cached since 0.08182s ago] {'session_id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,657 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,657 INFO sqlalchemy.engine.Engine [cached since 0.6381s ago] {'id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'param_1': 1}
2026-02-18 16:24:26,659 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,660 INFO sqlalchemy.engine.Engine [cached since 0.09209s ago] {'session_id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,661 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,662 INFO sqlalchemy.engine.Engine [cached since 0.09113s ago] {'session_id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:26,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,665 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,672 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,672 INFO sqlalchemy.engine.Engine [cached since 0.6533s ago] {'id_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40'), 'param_1': 1}
2026-02-18 16:24:26,676 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,676 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {'param_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,678 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,679 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'param_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,689 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,690 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'param_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,696 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,696 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'param_1': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,699 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,699 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'id': 273}
2026-02-18 16:24:26,704 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,704 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'id': UUID('a5ee6864-a759-4966-9acf-b9e0c3813b40')}
2026-02-18 16:24:26,708 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,716 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,716 INFO sqlalchemy.engine.Engine [cached since 0.6972s ago] {'id_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d'), 'param_1': 1}
2026-02-18 16:24:26,718 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,718 INFO sqlalchemy.engine.Engine [cached since 0.04267s ago] {'param_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,719 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,719 INFO sqlalchemy.engine.Engine [cached since 0.04112s ago] {'param_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,725 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,725 INFO sqlalchemy.engine.Engine [cached since 0.03604s ago] {'param_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,727 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,727 INFO sqlalchemy.engine.Engine [cached since 0.03187s ago] {'param_1': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,730 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,730 INFO sqlalchemy.engine.Engine [cached since 0.03097s ago] {'id': 274}
2026-02-18 16:24:26,732 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,732 INFO sqlalchemy.engine.Engine [cached since 0.02867s ago] {'id': UUID('5fb36e92-5501-4fc2-90ed-ce1ff987000d')}
2026-02-18 16:24:26,736 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,745 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,745 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,746 INFO sqlalchemy.engine.Engine [cached since 0.7267s ago] {'id_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31'), 'param_1': 1}
2026-02-18 16:24:26,747 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,748 INFO sqlalchemy.engine.Engine [cached since 0.07251s ago] {'param_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,749 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,750 INFO sqlalchemy.engine.Engine [cached since 0.07095s ago] {'param_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,754 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,755 INFO sqlalchemy.engine.Engine [cached since 0.06519s ago] {'param_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,757 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,757 INFO sqlalchemy.engine.Engine [cached since 0.06104s ago] {'param_1': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,759 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,759 INFO sqlalchemy.engine.Engine [cached since 0.06022s ago] {'id': 275}
2026-02-18 16:24:26,761 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,762 INFO sqlalchemy.engine.Engine [cached since 0.05882s ago] {'id': UUID('7881d7a2-c3be-4c35-8733-b52c3859be31')}
2026-02-18 16:24:26,766 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,777 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,777 INFO sqlalchemy.engine.Engine [cached since 0.7584s ago] {'id_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278'), 'param_1': 1}
2026-02-18 16:24:26,779 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,780 INFO sqlalchemy.engine.Engine [cached since 0.1044s ago] {'param_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,781 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,781 INFO sqlalchemy.engine.Engine [cached since 0.103s ago] {'param_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,786 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,787 INFO sqlalchemy.engine.Engine [cached since 0.09708s ago] {'param_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,789 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,789 INFO sqlalchemy.engine.Engine [cached since 0.09322s ago] {'param_1': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,791 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,791 INFO sqlalchemy.engine.Engine [cached since 0.09231s ago] {'id': 276}
2026-02-18 16:24:26,793 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,793 INFO sqlalchemy.engine.Engine [cached since 0.08977s ago] {'id': UUID('0fd913d8-2add-4d40-8d1d-66d8b9fd5278')}
2026-02-18 16:24:26,797 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,804 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,804 INFO sqlalchemy.engine.Engine [cached since 0.7848s ago] {'id_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c'), 'param_1': 1}
2026-02-18 16:24:26,806 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,806 INFO sqlalchemy.engine.Engine [cached since 0.1306s ago] {'param_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,808 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,808 INFO sqlalchemy.engine.Engine [cached since 0.1295s ago] {'param_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,813 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,813 INFO sqlalchemy.engine.Engine [cached since 0.1241s ago] {'param_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,816 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,817 INFO sqlalchemy.engine.Engine [cached since 0.1204s ago] {'param_1': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,818 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,818 INFO sqlalchemy.engine.Engine [cached since 0.1195s ago] {'id': 277}
2026-02-18 16:24:26,820 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,820 INFO sqlalchemy.engine.Engine [cached since 0.1176s ago] {'id': UUID('aaa0fd76-d2f2-49d5-894d-5d5cb4b46c6c')}
2026-02-18 16:24:26,825 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,835 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,835 INFO sqlalchemy.engine.Engine [cached since 0.816s ago] {'id_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34'), 'param_1': 1}
2026-02-18 16:24:26,837 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,838 INFO sqlalchemy.engine.Engine [cached since 0.1622s ago] {'param_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,839 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,840 INFO sqlalchemy.engine.Engine [cached since 0.1612s ago] {'param_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,845 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,845 INFO sqlalchemy.engine.Engine [cached since 0.1552s ago] {'param_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,847 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,847 INFO sqlalchemy.engine.Engine [cached since 0.1508s ago] {'param_1': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,848 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,848 INFO sqlalchemy.engine.Engine [cached since 0.1498s ago] {'id': 278}
2026-02-18 16:24:26,850 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,850 INFO sqlalchemy.engine.Engine [cached since 0.1472s ago] {'id': UUID('0019c8b0-55ed-4bfc-a8e4-a6e1f3d4fa34')}
2026-02-18 16:24:26,855 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,862 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,862 INFO sqlalchemy.engine.Engine [cached since 0.8428s ago] {'id_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233'), 'param_1': 1}
2026-02-18 16:24:26,864 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,864 INFO sqlalchemy.engine.Engine [cached since 0.1885s ago] {'param_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,865 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,865 INFO sqlalchemy.engine.Engine [cached since 0.1869s ago] {'param_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,867 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,867 INFO sqlalchemy.engine.Engine [cached since 0.1774s ago] {'param_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,868 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,869 INFO sqlalchemy.engine.Engine [cached since 0.1721s ago] {'param_1': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,870 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,870 INFO sqlalchemy.engine.Engine [cached since 0.1711s ago] {'id': 280}
2026-02-18 16:24:26,872 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,872 INFO sqlalchemy.engine.Engine [cached since 0.1685s ago] {'id': UUID('fad5eae0-6084-4065-9be6-585705ac6233')}
2026-02-18 16:24:26,875 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,880 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,881 INFO sqlalchemy.engine.Engine [cached since 0.8616s ago] {'id_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031'), 'param_1': 1}
2026-02-18 16:24:26,882 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,882 INFO sqlalchemy.engine.Engine [cached since 0.207s ago] {'param_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,883 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,884 INFO sqlalchemy.engine.Engine [cached since 0.2054s ago] {'param_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,885 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,885 INFO sqlalchemy.engine.Engine [cached since 0.1962s ago] {'param_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,887 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,887 INFO sqlalchemy.engine.Engine [cached since 0.1917s ago] {'param_1': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,889 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,890 INFO sqlalchemy.engine.Engine [cached since 0.1908s ago] {'id': 279}
2026-02-18 16:24:26,891 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,891 INFO sqlalchemy.engine.Engine [cached since 0.188s ago] {'id': UUID('f8084a82-2839-40e4-a1cc-a2f8341d3031')}
2026-02-18 16:24:26,894 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,900 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,900 INFO sqlalchemy.engine.Engine [cached since 0.8808s ago] {'id_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2'), 'param_1': 1}
2026-02-18 16:24:26,902 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,902 INFO sqlalchemy.engine.Engine [cached since 0.2263s ago] {'param_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,903 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,904 INFO sqlalchemy.engine.Engine [cached since 0.2249s ago] {'param_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,905 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,905 INFO sqlalchemy.engine.Engine [cached since 0.2158s ago] {'param_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,906 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,906 INFO sqlalchemy.engine.Engine [cached since 0.2106s ago] {'param_1': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,908 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,909 INFO sqlalchemy.engine.Engine [cached since 0.2095s ago] {'id': 281}
2026-02-18 16:24:26,910 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,910 INFO sqlalchemy.engine.Engine [cached since 0.2072s ago] {'id': UUID('b89b6515-0e4d-4803-be99-cfccba4bc5f2')}
2026-02-18 16:24:26,913 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,920 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,920 INFO sqlalchemy.engine.Engine [cached since 0.9007s ago] {'id_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e'), 'param_1': 1}
2026-02-18 16:24:26,922 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:26,922 INFO sqlalchemy.engine.Engine [cached since 0.2462s ago] {'param_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,923 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:26,923 INFO sqlalchemy.engine.Engine [cached since 0.2446s ago] {'param_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,925 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:26,926 INFO sqlalchemy.engine.Engine [cached since 0.2357s ago] {'param_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,926 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:26,927 INFO sqlalchemy.engine.Engine [cached since 0.2307s ago] {'param_1': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,928 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:26,928 INFO sqlalchemy.engine.Engine [cached since 0.2296s ago] {'id': 282}
2026-02-18 16:24:26,930 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:26,930 INFO sqlalchemy.engine.Engine [cached since 0.2267s ago] {'id': UUID('5d0cce63-3dbf-404c-87ba-0beb679ff45e')}
2026-02-18 16:24:26,933 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,946 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:26,946 INFO sqlalchemy.engine.Engine [cached since 1.215s ago] {'id': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2487', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:26,948 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,951 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,951 INFO sqlalchemy.engine.Engine [cached since 1.209s ago] {'pk_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:26,953 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,960 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:26,960 INFO sqlalchemy.engine.Engine [cached since 1.052s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:26,962 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:26,962 INFO sqlalchemy.engine.Engine [cached since 1.05s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:26,964 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,969 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:26,969 INFO sqlalchemy.engine.Engine [cached since 1.237s ago] {'id': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4973', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:26,971 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,974 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,975 INFO sqlalchemy.engine.Engine [cached since 1.233s ago] {'pk_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,979 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:26,979 INFO sqlalchemy.engine.Engine [cached since 1.247s ago] {'id': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6956', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:26,981 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,983 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:26,983 INFO sqlalchemy.engine.Engine [cached since 1.242s ago] {'pk_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:26,985 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:26,985 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:26,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:26,995 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:26,995 INFO sqlalchemy.engine.Engine [cached since 0.9758s ago] {'id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'param_1': 1}
2026-02-18 16:24:26,997 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:26,997 INFO sqlalchemy.engine.Engine [cached since 0.9749s ago] {'session_name': 'Updated 9471', 'sessions_id': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:26,998 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:26,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,000 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,000 INFO sqlalchemy.engine.Engine [cached since 1.259s ago] {'pk_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,003 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,011 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,011 INFO sqlalchemy.engine.Engine [cached since 1.103s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,013 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,013 INFO sqlalchemy.engine.Engine [cached since 1.102s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,018 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,019 INFO sqlalchemy.engine.Engine [cached since 1.111s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,020 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,020 INFO sqlalchemy.engine.Engine [cached since 1.109s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,022 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,023 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,033 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,033 INFO sqlalchemy.engine.Engine [cached since 1.014s ago] {'id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'param_1': 1}
2026-02-18 16:24:27,035 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,036 INFO sqlalchemy.engine.Engine [cached since 1.014s ago] {'session_name': 'Updated 7891', 'sessions_id': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,036 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,039 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,040 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,040 INFO sqlalchemy.engine.Engine [cached since 1.299s ago] {'pk_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,045 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,052 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,053 INFO sqlalchemy.engine.Engine [cached since 1.034s ago] {'id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'param_1': 1}
2026-02-18 16:24:27,054 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,055 INFO sqlalchemy.engine.Engine [cached since 0.8651s ago] {'session_id': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 24838), 'alert_level': 'critical', 'fatigue_score': 88.4747491824788, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,056 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,060 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,060 INFO sqlalchemy.engine.Engine [cached since 0.8524s ago] {'pk_1': 283}
2026-02-18 16:24:27,062 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,062 INFO sqlalchemy.engine.Engine [cached since 0.847s ago] {'pk_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,063 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,063 INFO sqlalchemy.engine.Engine [cached since 0.8465s ago] {'alert_count': 1, 'sessions_id': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,064 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,067 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,068 INFO sqlalchemy.engine.Engine [cached since 0.8461s ago] {'pk_1': 283}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,072 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,074 INFO sqlalchemy.engine.Engine [cached since 1.054s ago] {'id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'param_1': 1}
2026-02-18 16:24:27,075 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,075 INFO sqlalchemy.engine.Engine [cached since 1.054s ago] {'session_name': 'Updated 2868', 'sessions_id': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,076 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,079 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,079 INFO sqlalchemy.engine.Engine [cached since 1.338s ago] {'pk_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,082 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,083 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,086 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,086 INFO sqlalchemy.engine.Engine [cached since 1.355s ago] {'id': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5051', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,088 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,091 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,091 INFO sqlalchemy.engine.Engine [cached since 1.35s ago] {'pk_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,095 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,096 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,097 INFO sqlalchemy.engine.Engine [cached since 1.364s ago] {'id': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7234', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,098 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,101 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,101 INFO sqlalchemy.engine.Engine [cached since 1.359s ago] {'pk_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,106 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,106 INFO sqlalchemy.engine.Engine [cached since 1.374s ago] {'id': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4041', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,107 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,110 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,111 INFO sqlalchemy.engine.Engine [cached since 1.369s ago] {'pk_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,116 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,116 INFO sqlalchemy.engine.Engine [cached since 1.384s ago] {'id': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9351', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,117 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,120 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,120 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,121 INFO sqlalchemy.engine.Engine [cached since 1.379s ago] {'pk_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,126 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,126 INFO sqlalchemy.engine.Engine [cached since 1.394s ago] {'id': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6846', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,128 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,130 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,131 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,131 INFO sqlalchemy.engine.Engine [cached since 1.389s ago] {'pk_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,135 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,135 INFO sqlalchemy.engine.Engine [cached since 1.404s ago] {'id': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6696', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,136 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,139 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,140 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,141 INFO sqlalchemy.engine.Engine [cached since 1.399s ago] {'pk_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,155 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,155 INFO sqlalchemy.engine.Engine [cached since 1.424s ago] {'id': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1103', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,162 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,165 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,166 INFO sqlalchemy.engine.Engine [cached since 1.424s ago] {'pk_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:27,167 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,167 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,167 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,167 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,168 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,168 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,168 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,187 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,188 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,188 INFO sqlalchemy.engine.Engine [cached since 1.281s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,191 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,191 INFO sqlalchemy.engine.Engine [cached since 1.279s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,196 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,197 INFO sqlalchemy.engine.Engine [cached since 1.289s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,198 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,198 INFO sqlalchemy.engine.Engine [cached since 1.287s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,204 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,204 INFO sqlalchemy.engine.Engine [cached since 1.185s ago] {'id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'param_1': 1}
2026-02-18 16:24:27,206 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,207 INFO sqlalchemy.engine.Engine [cached since 1.017s ago] {'session_id': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 168907), 'alert_level': 'warning', 'fatigue_score': 81.14269511351992, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,208 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,210 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,211 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,211 INFO sqlalchemy.engine.Engine [cached since 1.004s ago] {'pk_1': 284}
2026-02-18 16:24:27,212 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,214 INFO sqlalchemy.engine.Engine [cached since 0.9985s ago] {'pk_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,215 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,215 INFO sqlalchemy.engine.Engine [cached since 0.9978s ago] {'alert_count': 1, 'sessions_id': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,216 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,219 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,219 INFO sqlalchemy.engine.Engine [cached since 0.9967s ago] {'pk_1': 284}
2026-02-18 16:24:27,220 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,220 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,225 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,226 INFO sqlalchemy.engine.Engine [cached since 1.318s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,227 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,228 INFO sqlalchemy.engine.Engine [cached since 1.316s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,232 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,232 INFO sqlalchemy.engine.Engine [cached since 1.324s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,234 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,234 INFO sqlalchemy.engine.Engine [cached since 1.323s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,239 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,240 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,240 INFO sqlalchemy.engine.Engine [cached since 1.333s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,242 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,243 INFO sqlalchemy.engine.Engine [cached since 1.331s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,247 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,247 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,248 INFO sqlalchemy.engine.Engine [cached since 1.339s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,249 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,249 INFO sqlalchemy.engine.Engine [cached since 1.337s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,251 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,254 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,254 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,254 INFO sqlalchemy.engine.Engine [cached since 1.347s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,256 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,256 INFO sqlalchemy.engine.Engine [cached since 1.345s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,258 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,258 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,258 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,258 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,258 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,263 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,263 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,263 INFO sqlalchemy.engine.Engine [cached since 0.8112s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,265 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,265 INFO sqlalchemy.engine.Engine [cached since 0.8098s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,268 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,273 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,273 INFO sqlalchemy.engine.Engine [cached since 1.254s ago] {'id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'param_1': 1}
2026-02-18 16:24:27,275 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,276 INFO sqlalchemy.engine.Engine [cached since 1.085s ago] {'session_id': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 173906), 'alert_level': 'critical', 'fatigue_score': 74.00094265411997, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,277 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,280 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,280 INFO sqlalchemy.engine.Engine [cached since 1.072s ago] {'pk_1': 285}
2026-02-18 16:24:27,283 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,283 INFO sqlalchemy.engine.Engine [cached since 1.069s ago] {'pk_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,285 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,285 INFO sqlalchemy.engine.Engine [cached since 1.068s ago] {'alert_count': 1, 'sessions_id': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,287 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,290 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,291 INFO sqlalchemy.engine.Engine [cached since 1.069s ago] {'pk_1': 285}
2026-02-18 16:24:27,293 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,306 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,306 INFO sqlalchemy.engine.Engine [cached since 1.288s ago] {'id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'param_1': 1}
2026-02-18 16:24:27,308 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,309 INFO sqlalchemy.engine.Engine [cached since 1.287s ago] {'session_name': 'Updated 4463', 'sessions_id': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,310 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,312 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,313 INFO sqlalchemy.engine.Engine [cached since 1.571s ago] {'pk_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,318 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,323 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,323 INFO sqlalchemy.engine.Engine [cached since 1.304s ago] {'id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'param_1': 1}
2026-02-18 16:24:27,325 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,325 INFO sqlalchemy.engine.Engine [cached since 0.7577s ago] {'session_id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,327 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,327 INFO sqlalchemy.engine.Engine [cached since 0.7568s ago] {'session_id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,333 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,333 INFO sqlalchemy.engine.Engine [cached since 1.314s ago] {'id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'param_1': 1}
2026-02-18 16:24:27,335 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,335 INFO sqlalchemy.engine.Engine [cached since 1.313s ago] {'session_name': 'Updated 7478', 'sessions_id': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:27,336 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,338 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,339 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,339 INFO sqlalchemy.engine.Engine [cached since 1.598s ago] {'pk_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,343 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,344 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,344 INFO sqlalchemy.engine.Engine [cached since 1.325s ago] {'id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'param_1': 1}
2026-02-18 16:24:27,346 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,346 INFO sqlalchemy.engine.Engine [cached since 1.324s ago] {'session_name': 'Updated 3399', 'sessions_id': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:27,348 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,351 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,351 INFO sqlalchemy.engine.Engine [cached since 1.609s ago] {'pk_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,356 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,356 INFO sqlalchemy.engine.Engine [cached since 1.337s ago] {'id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'param_1': 1}
2026-02-18 16:24:27,357 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,358 INFO sqlalchemy.engine.Engine [cached since 1.336s ago] {'session_name': 'Updated 3344', 'sessions_id': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:27,359 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,362 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,362 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,362 INFO sqlalchemy.engine.Engine [cached since 1.621s ago] {'pk_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:27,365 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,368 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,368 INFO sqlalchemy.engine.Engine [cached since 1.349s ago] {'id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'param_1': 1}
2026-02-18 16:24:27,369 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,369 INFO sqlalchemy.engine.Engine [cached since 1.348s ago] {'session_name': 'Updated 6458', 'sessions_id': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:27,371 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,374 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,374 INFO sqlalchemy.engine.Engine [cached since 1.633s ago] {'pk_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,378 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,379 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,379 INFO sqlalchemy.engine.Engine [cached since 1.36s ago] {'id_1': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'param_1': 1}
2026-02-18 16:24:27,380 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,381 INFO sqlalchemy.engine.Engine [cached since 1.359s ago] {'session_name': 'Updated 9449', 'sessions_id': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:27,381 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,385 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,385 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,385 INFO sqlalchemy.engine.Engine [cached since 1.644s ago] {'pk_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,392 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,392 INFO sqlalchemy.engine.Engine [cached since 0.9393s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,394 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,394 INFO sqlalchemy.engine.Engine [cached since 0.9383s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,397 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,397 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,397 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,400 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,400 INFO sqlalchemy.engine.Engine [cached since 1.381s ago] {'id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'param_1': 1}
2026-02-18 16:24:27,402 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,402 INFO sqlalchemy.engine.Engine [cached since 1.38s ago] {'session_name': 'Updated 1880', 'sessions_id': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:27,402 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,407 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,407 INFO sqlalchemy.engine.Engine [cached since 1.665s ago] {'pk_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:27,410 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,410 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,410 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,411 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,416 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,417 INFO sqlalchemy.engine.Engine [cached since 0.9645s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,419 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,419 INFO sqlalchemy.engine.Engine [cached since 0.9632s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,422 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,442 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,442 INFO sqlalchemy.engine.Engine [cached since 1.423s ago] {'id_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4'), 'param_1': 1}
2026-02-18 16:24:27,444 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:27,444 INFO sqlalchemy.engine.Engine [cached since 0.7691s ago] {'param_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,446 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:27,446 INFO sqlalchemy.engine.Engine [cached since 0.7677s ago] {'param_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,448 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:27,448 INFO sqlalchemy.engine.Engine [cached since 0.7587s ago] {'param_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,449 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:27,450 INFO sqlalchemy.engine.Engine [cached since 0.7536s ago] {'param_1': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,452 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:27,452 INFO sqlalchemy.engine.Engine [cached since 0.7529s ago] {'id': 283}
2026-02-18 16:24:27,453 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:27,454 INFO sqlalchemy.engine.Engine [cached since 0.7502s ago] {'id': UUID('62c8788b-c602-48ea-a05c-92b851526cb4')}
2026-02-18 16:24:27,458 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,468 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,469 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,469 INFO sqlalchemy.engine.Engine [cached since 1.45s ago] {'id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'param_1': 1}
2026-02-18 16:24:27,472 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,473 INFO sqlalchemy.engine.Engine [cached since 0.9051s ago] {'session_id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,474 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,475 INFO sqlalchemy.engine.Engine [cached since 0.9041s ago] {'session_id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,480 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,480 INFO sqlalchemy.engine.Engine [cached since 1.461s ago] {'id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'param_1': 1}
2026-02-18 16:24:27,482 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,482 INFO sqlalchemy.engine.Engine [cached since 0.9145s ago] {'session_id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,484 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,484 INFO sqlalchemy.engine.Engine [cached since 0.9137s ago] {'session_id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:27,486 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,488 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,495 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,495 INFO sqlalchemy.engine.Engine [cached since 1.476s ago] {'id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'param_1': 1}
2026-02-18 16:24:27,497 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,497 INFO sqlalchemy.engine.Engine [cached since 1.308s ago] {'session_id': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 424904), 'alert_level': 'critical', 'fatigue_score': 71.7375516096771, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,499 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,503 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,503 INFO sqlalchemy.engine.Engine [cached since 1.296s ago] {'pk_1': 286}
2026-02-18 16:24:27,509 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,509 INFO sqlalchemy.engine.Engine [cached since 1.294s ago] {'pk_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,511 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,512 INFO sqlalchemy.engine.Engine [cached since 1.295s ago] {'alert_count': 1, 'sessions_id': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,513 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,516 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,517 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,517 INFO sqlalchemy.engine.Engine [cached since 1.295s ago] {'pk_1': 286}
2026-02-18 16:24:27,521 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,527 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,527 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,528 INFO sqlalchemy.engine.Engine [cached since 1.508s ago] {'id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'param_1': 1}
2026-02-18 16:24:27,530 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,530 INFO sqlalchemy.engine.Engine [cached since 1.34s ago] {'session_id': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 429905), 'alert_level': 'warning', 'fatigue_score': 84.13920650332929, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,532 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,535 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,535 INFO sqlalchemy.engine.Engine [cached since 1.327s ago] {'pk_1': 287}
2026-02-18 16:24:27,536 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,538 INFO sqlalchemy.engine.Engine [cached since 1.322s ago] {'pk_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:27,539 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,539 INFO sqlalchemy.engine.Engine [cached since 1.322s ago] {'alert_count': 1, 'sessions_id': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:27,541 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,544 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,545 INFO sqlalchemy.engine.Engine [cached since 1.323s ago] {'pk_1': 287}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,549 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,549 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,550 INFO sqlalchemy.engine.Engine [cached since 1.531s ago] {'id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'param_1': 1}
2026-02-18 16:24:27,551 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,552 INFO sqlalchemy.engine.Engine [cached since 1.362s ago] {'session_id': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 429905), 'alert_level': 'warning', 'fatigue_score': 71.63650164943782, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,554 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,557 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,557 INFO sqlalchemy.engine.Engine [cached since 1.35s ago] {'pk_1': 288}
2026-02-18 16:24:27,559 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,560 INFO sqlalchemy.engine.Engine [cached since 1.345s ago] {'pk_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:27,561 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,561 INFO sqlalchemy.engine.Engine [cached since 1.345s ago] {'alert_count': 1, 'sessions_id': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:27,562 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,566 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,566 INFO sqlalchemy.engine.Engine [cached since 1.344s ago] {'pk_1': 288}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,573 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,573 INFO sqlalchemy.engine.Engine [cached since 1.555s ago] {'id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'param_1': 1}
2026-02-18 16:24:27,576 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,576 INFO sqlalchemy.engine.Engine [cached since 1.386s ago] {'session_id': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 432414), 'alert_level': 'warning', 'fatigue_score': 86.99804555587474, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,578 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,581 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,582 INFO sqlalchemy.engine.Engine [cached since 1.374s ago] {'pk_1': 289}
2026-02-18 16:24:27,585 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,586 INFO sqlalchemy.engine.Engine [cached since 1.371s ago] {'pk_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:27,588 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,589 INFO sqlalchemy.engine.Engine [cached since 1.372s ago] {'alert_count': 1, 'sessions_id': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:27,592 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,597 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,597 INFO sqlalchemy.engine.Engine [cached since 1.375s ago] {'pk_1': 289}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,603 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,603 INFO sqlalchemy.engine.Engine [cached since 1.584s ago] {'id_1': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'param_1': 1}
2026-02-18 16:24:27,605 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,605 INFO sqlalchemy.engine.Engine [cached since 1.415s ago] {'session_id': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 433424), 'alert_level': 'critical', 'fatigue_score': 68.00844629033008, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,607 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,609 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,609 INFO sqlalchemy.engine.Engine [cached since 1.403s ago] {'pk_1': 290}
2026-02-18 16:24:27,612 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,613 INFO sqlalchemy.engine.Engine [cached since 1.398s ago] {'pk_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:27,615 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,615 INFO sqlalchemy.engine.Engine [cached since 1.398s ago] {'alert_count': 1, 'sessions_id': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:27,615 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,618 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,619 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,619 INFO sqlalchemy.engine.Engine [cached since 1.397s ago] {'pk_1': 290}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,623 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,624 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,624 INFO sqlalchemy.engine.Engine [cached since 1.605s ago] {'id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'param_1': 1}
2026-02-18 16:24:27,626 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,626 INFO sqlalchemy.engine.Engine [cached since 1.436s ago] {'session_id': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 430905), 'alert_level': 'warning', 'fatigue_score': 70.2398194016925, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,628 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,631 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,631 INFO sqlalchemy.engine.Engine [cached since 1.423s ago] {'pk_1': 291}
2026-02-18 16:24:27,633 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,633 INFO sqlalchemy.engine.Engine [cached since 1.418s ago] {'pk_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:27,634 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,634 INFO sqlalchemy.engine.Engine [cached since 1.418s ago] {'alert_count': 1, 'sessions_id': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:27,635 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,638 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,639 INFO sqlalchemy.engine.Engine [cached since 1.418s ago] {'pk_1': 291}
2026-02-18 16:24:27,641 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,641 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,643 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,643 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,643 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,650 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,650 INFO sqlalchemy.engine.Engine [cached since 1.63s ago] {'id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'param_1': 1}
2026-02-18 16:24:27,651 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:27,652 INFO sqlalchemy.engine.Engine [cached since 1.461s ago] {'session_id': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 27, 435430), 'alert_level': 'critical', 'fatigue_score': 74.35787714609853, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:27,653 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,656 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,656 INFO sqlalchemy.engine.Engine [cached since 1.449s ago] {'pk_1': 292}
2026-02-18 16:24:27,658 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,658 INFO sqlalchemy.engine.Engine [cached since 1.443s ago] {'pk_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:27,660 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,660 INFO sqlalchemy.engine.Engine [cached since 1.444s ago] {'alert_count': 1, 'sessions_id': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:27,661 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,665 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:27,666 INFO sqlalchemy.engine.Engine [cached since 1.444s ago] {'pk_1': 292}
2026-02-18 16:24:27,669 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,674 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,674 INFO sqlalchemy.engine.Engine [cached since 1.655s ago] {'id_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4'), 'param_1': 1}
2026-02-18 16:24:27,675 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:27,676 INFO sqlalchemy.engine.Engine [cached since 1.001s ago] {'param_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,677 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:27,677 INFO sqlalchemy.engine.Engine [cached since 0.9992s ago] {'param_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,679 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:27,679 INFO sqlalchemy.engine.Engine [cached since 0.9902s ago] {'param_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,681 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:27,681 INFO sqlalchemy.engine.Engine [cached since 0.9852s ago] {'param_1': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,682 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:27,683 INFO sqlalchemy.engine.Engine [cached since 0.9842s ago] {'id': 284}
2026-02-18 16:24:27,684 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:27,684 INFO sqlalchemy.engine.Engine [cached since 0.9814s ago] {'id': UUID('1bd52bb0-a06b-4d66-b8e6-df115f82a3b4')}
2026-02-18 16:24:27,688 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,701 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,701 INFO sqlalchemy.engine.Engine [cached since 1.682s ago] {'id_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517'), 'param_1': 1}
2026-02-18 16:24:27,703 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:27,704 INFO sqlalchemy.engine.Engine [cached since 1.028s ago] {'param_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,706 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:27,706 INFO sqlalchemy.engine.Engine [cached since 1.028s ago] {'param_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,708 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:27,708 INFO sqlalchemy.engine.Engine [cached since 1.019s ago] {'param_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,710 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:27,710 INFO sqlalchemy.engine.Engine [cached since 1.014s ago] {'param_1': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,713 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:27,713 INFO sqlalchemy.engine.Engine [cached since 1.014s ago] {'id': 285}
2026-02-18 16:24:27,715 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:27,715 INFO sqlalchemy.engine.Engine [cached since 1.012s ago] {'id': UUID('39507a48-580e-4e6f-afaf-8ec7e428c517')}
2026-02-18 16:24:27,719 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,731 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,731 INFO sqlalchemy.engine.Engine [cached since 2s ago] {'id': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7843', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,734 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,738 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,738 INFO sqlalchemy.engine.Engine [cached since 1.996s ago] {'pk_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:27,742 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,762 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,762 INFO sqlalchemy.engine.Engine [cached since 1.31s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,764 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,765 INFO sqlalchemy.engine.Engine [cached since 1.309s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,769 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,778 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,779 INFO sqlalchemy.engine.Engine [cached since 1.326s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,782 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,782 INFO sqlalchemy.engine.Engine [cached since 1.327s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,786 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,792 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,792 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,792 INFO sqlalchemy.engine.Engine [cached since 1.34s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,795 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,795 INFO sqlalchemy.engine.Engine [cached since 1.339s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,800 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,800 INFO sqlalchemy.engine.Engine [cached since 1.892s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,801 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,802 INFO sqlalchemy.engine.Engine [cached since 1.89s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,807 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,807 INFO sqlalchemy.engine.Engine [cached since 1.355s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,808 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,810 INFO sqlalchemy.engine.Engine [cached since 1.354s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,816 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,816 INFO sqlalchemy.engine.Engine [cached since 1.364s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,818 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,818 INFO sqlalchemy.engine.Engine [cached since 1.363s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,824 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,824 INFO sqlalchemy.engine.Engine [cached since 1.372s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,826 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,826 INFO sqlalchemy.engine.Engine [cached since 1.37s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,832 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,832 INFO sqlalchemy.engine.Engine [cached since 1.38s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:27,834 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,835 INFO sqlalchemy.engine.Engine [cached since 1.379s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:27,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,837 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,853 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,853 INFO sqlalchemy.engine.Engine [cached since 1.834s ago] {'id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'param_1': 1}
2026-02-18 16:24:27,855 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,855 INFO sqlalchemy.engine.Engine [cached since 1.287s ago] {'session_id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,857 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,857 INFO sqlalchemy.engine.Engine [cached since 1.286s ago] {'session_id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,862 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,862 INFO sqlalchemy.engine.Engine [cached since 1.844s ago] {'id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'param_1': 1}
2026-02-18 16:24:27,864 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,864 INFO sqlalchemy.engine.Engine [cached since 1.297s ago] {'session_id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:27,866 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,866 INFO sqlalchemy.engine.Engine [cached since 1.296s ago] {'session_id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:27,868 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,869 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,876 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,876 INFO sqlalchemy.engine.Engine [cached since 1.858s ago] {'id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'param_1': 1}
2026-02-18 16:24:27,879 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,879 INFO sqlalchemy.engine.Engine [cached since 1.312s ago] {'session_id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:27,880 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,880 INFO sqlalchemy.engine.Engine [cached since 1.31s ago] {'session_id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,885 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,885 INFO sqlalchemy.engine.Engine [cached since 1.866s ago] {'id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'param_1': 1}
2026-02-18 16:24:27,886 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,888 INFO sqlalchemy.engine.Engine [cached since 1.319s ago] {'session_id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:27,889 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,890 INFO sqlalchemy.engine.Engine [cached since 1.319s ago] {'session_id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,895 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,896 INFO sqlalchemy.engine.Engine [cached since 1.876s ago] {'id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'param_1': 1}
2026-02-18 16:24:27,897 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,898 INFO sqlalchemy.engine.Engine [cached since 1.33s ago] {'session_id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:27,899 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,899 INFO sqlalchemy.engine.Engine [cached since 1.328s ago] {'session_id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,903 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,903 INFO sqlalchemy.engine.Engine [cached since 1.884s ago] {'id_1': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'param_1': 1}
2026-02-18 16:24:27,905 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,905 INFO sqlalchemy.engine.Engine [cached since 1.338s ago] {'session_id_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:27,907 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,907 INFO sqlalchemy.engine.Engine [cached since 1.337s ago] {'session_id_1': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:27,909 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,909 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,912 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,913 INFO sqlalchemy.engine.Engine [cached since 1.893s ago] {'id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'param_1': 1}
2026-02-18 16:24:27,914 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:27,915 INFO sqlalchemy.engine.Engine [cached since 1.347s ago] {'session_id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:27,915 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:27,916 INFO sqlalchemy.engine.Engine [cached since 1.346s ago] {'session_id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:27,918 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,918 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:27,918 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,923 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,923 INFO sqlalchemy.engine.Engine [cached since 2.191s ago] {'id': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6412', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,925 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,927 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,928 INFO sqlalchemy.engine.Engine [cached since 2.186s ago] {'pk_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,931 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,932 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:27,932 INFO sqlalchemy.engine.Engine [cached since 2.2s ago] {'id': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7366', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:27,934 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,936 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,936 INFO sqlalchemy.engine.Engine [cached since 2.195s ago] {'pk_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:27,941 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,944 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,945 INFO sqlalchemy.engine.Engine [cached since 1.925s ago] {'id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'param_1': 1}
2026-02-18 16:24:27,946 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:27,946 INFO sqlalchemy.engine.Engine [cached since 1.924s ago] {'session_name': 'Updated 8443', 'sessions_id': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:27,947 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:27,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,950 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:27,951 INFO sqlalchemy.engine.Engine [cached since 2.209s ago] {'pk_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:27,954 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:27,955 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,965 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,965 INFO sqlalchemy.engine.Engine [cached since 1.946s ago] {'id_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142'), 'param_1': 1}
2026-02-18 16:24:27,967 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:27,967 INFO sqlalchemy.engine.Engine [cached since 1.292s ago] {'param_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,968 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:27,969 INFO sqlalchemy.engine.Engine [cached since 1.291s ago] {'param_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,971 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:27,972 INFO sqlalchemy.engine.Engine [cached since 1.283s ago] {'param_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,974 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:27,974 INFO sqlalchemy.engine.Engine [cached since 1.278s ago] {'param_1': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,975 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:27,976 INFO sqlalchemy.engine.Engine [cached since 1.277s ago] {'id': 286}
2026-02-18 16:24:27,976 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:27,977 INFO sqlalchemy.engine.Engine [cached since 1.274s ago] {'id': UUID('2e931b0b-7468-4d59-ac20-8cb9950c1142')}
2026-02-18 16:24:27,979 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:27,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:27,994 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:27,995 INFO sqlalchemy.engine.Engine [cached since 1.976s ago] {'id_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8'), 'param_1': 1}
2026-02-18 16:24:27,997 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:27,999 INFO sqlalchemy.engine.Engine [cached since 1.323s ago] {'param_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:28,001 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,002 INFO sqlalchemy.engine.Engine [cached since 1.323s ago] {'param_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:28,016 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,018 INFO sqlalchemy.engine.Engine [cached since 1.328s ago] {'param_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:28,024 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,024 INFO sqlalchemy.engine.Engine [cached since 1.328s ago] {'param_1': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:28,026 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,026 INFO sqlalchemy.engine.Engine [cached since 1.327s ago] {'id': 287}
2026-02-18 16:24:28,028 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,028 INFO sqlalchemy.engine.Engine [cached since 1.325s ago] {'id': UUID('3581adae-20b5-4b6d-aa0c-726aaaeef3b8')}
2026-02-18 16:24:28,032 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,045 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,045 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,046 INFO sqlalchemy.engine.Engine [cached since 2.026s ago] {'id_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919'), 'param_1': 1}
2026-02-18 16:24:28,048 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,049 INFO sqlalchemy.engine.Engine [cached since 1.374s ago] {'param_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:28,050 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,050 INFO sqlalchemy.engine.Engine [cached since 1.373s ago] {'param_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:28,053 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,053 INFO sqlalchemy.engine.Engine [cached since 1.364s ago] {'param_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:28,055 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,055 INFO sqlalchemy.engine.Engine [cached since 1.359s ago] {'param_1': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:28,057 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,057 INFO sqlalchemy.engine.Engine [cached since 1.358s ago] {'id': 289}
2026-02-18 16:24:28,058 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,059 INFO sqlalchemy.engine.Engine [cached since 1.355s ago] {'id': UUID('c568bf10-d4c3-4312-9db6-815943ac2919')}
2026-02-18 16:24:28,061 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,066 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,066 INFO sqlalchemy.engine.Engine [cached since 2.048s ago] {'id_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3'), 'param_1': 1}
2026-02-18 16:24:28,068 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,068 INFO sqlalchemy.engine.Engine [cached since 1.393s ago] {'param_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:28,069 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,070 INFO sqlalchemy.engine.Engine [cached since 1.392s ago] {'param_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:28,072 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,072 INFO sqlalchemy.engine.Engine [cached since 1.383s ago] {'param_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:28,074 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,074 INFO sqlalchemy.engine.Engine [cached since 1.379s ago] {'param_1': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:28,076 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,076 INFO sqlalchemy.engine.Engine [cached since 1.378s ago] {'id': 291}
2026-02-18 16:24:28,078 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,079 INFO sqlalchemy.engine.Engine [cached since 1.376s ago] {'id': UUID('fe5213f0-07e3-4830-93de-b703a5e50fe3')}
2026-02-18 16:24:28,082 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,089 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,089 INFO sqlalchemy.engine.Engine [cached since 2.07s ago] {'id_1': UUID('41561f24-0597-40b0-85f5-decc291a0025'), 'param_1': 1}
2026-02-18 16:24:28,091 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,091 INFO sqlalchemy.engine.Engine [cached since 1.416s ago] {'param_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:28,092 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,093 INFO sqlalchemy.engine.Engine [cached since 1.415s ago] {'param_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:28,095 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,095 INFO sqlalchemy.engine.Engine [cached since 1.405s ago] {'param_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:28,096 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,096 INFO sqlalchemy.engine.Engine [cached since 1.4s ago] {'param_1': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:28,097 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,098 INFO sqlalchemy.engine.Engine [cached since 1.399s ago] {'id': 292}
2026-02-18 16:24:28,099 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,099 INFO sqlalchemy.engine.Engine [cached since 1.396s ago] {'id': UUID('41561f24-0597-40b0-85f5-decc291a0025')}
2026-02-18 16:24:28,102 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,108 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,108 INFO sqlalchemy.engine.Engine [cached since 2.089s ago] {'id_1': UUID('91161660-10cd-4fac-ae93-95173a221713'), 'param_1': 1}
2026-02-18 16:24:28,110 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,111 INFO sqlalchemy.engine.Engine [cached since 1.436s ago] {'param_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:28,113 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,113 INFO sqlalchemy.engine.Engine [cached since 1.434s ago] {'param_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:28,114 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,114 INFO sqlalchemy.engine.Engine [cached since 1.425s ago] {'param_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:28,115 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,115 INFO sqlalchemy.engine.Engine [cached since 1.42s ago] {'param_1': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:28,117 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,117 INFO sqlalchemy.engine.Engine [cached since 1.418s ago] {'id': 290}
2026-02-18 16:24:28,118 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,118 INFO sqlalchemy.engine.Engine [cached since 1.416s ago] {'id': UUID('91161660-10cd-4fac-ae93-95173a221713')}
2026-02-18 16:24:28,121 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,127 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,127 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,128 INFO sqlalchemy.engine.Engine [cached since 2.109s ago] {'id_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3'), 'param_1': 1}
2026-02-18 16:24:28,129 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,130 INFO sqlalchemy.engine.Engine [cached since 1.455s ago] {'param_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:28,131 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,132 INFO sqlalchemy.engine.Engine [cached since 1.453s ago] {'param_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:28,133 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,133 INFO sqlalchemy.engine.Engine [cached since 1.443s ago] {'param_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:28,134 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,135 INFO sqlalchemy.engine.Engine [cached since 1.438s ago] {'param_1': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:28,136 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,136 INFO sqlalchemy.engine.Engine [cached since 1.437s ago] {'id': 288}
2026-02-18 16:24:28,137 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,138 INFO sqlalchemy.engine.Engine [cached since 1.435s ago] {'id': UUID('6e6f3c2c-28c0-4a85-834d-0dc7e35a8ad3')}
2026-02-18 16:24:28,142 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,149 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,149 INFO sqlalchemy.engine.Engine [cached since 2.241s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,150 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,151 INFO sqlalchemy.engine.Engine [cached since 2.24s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,154 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,159 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,159 INFO sqlalchemy.engine.Engine [cached since 2.251s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,161 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,161 INFO sqlalchemy.engine.Engine [cached since 2.249s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,164 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,174 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,174 INFO sqlalchemy.engine.Engine [cached since 2.155s ago] {'id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'param_1': 1}
2026-02-18 16:24:28,176 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,176 INFO sqlalchemy.engine.Engine [cached since 1.986s ago] {'session_id': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 38176), 'alert_level': 'critical', 'fatigue_score': 86.37831270939473, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,176 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,181 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,181 INFO sqlalchemy.engine.Engine [cached since 1.973s ago] {'pk_1': 293}
2026-02-18 16:24:28,182 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,183 INFO sqlalchemy.engine.Engine [cached since 1.968s ago] {'pk_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,184 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,184 INFO sqlalchemy.engine.Engine [cached since 1.967s ago] {'alert_count': 1, 'sessions_id': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,185 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,188 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,188 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,189 INFO sqlalchemy.engine.Engine [cached since 1.967s ago] {'pk_1': 293}
2026-02-18 16:24:28,192 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,195 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,196 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,196 INFO sqlalchemy.engine.Engine [cached since 2.177s ago] {'id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'param_1': 1}
2026-02-18 16:24:28,197 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,198 INFO sqlalchemy.engine.Engine [cached since 2.176s ago] {'session_name': 'Updated 1198', 'sessions_id': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,198 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,202 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,202 INFO sqlalchemy.engine.Engine [cached since 2.46s ago] {'pk_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:28,205 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,208 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,209 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,209 INFO sqlalchemy.engine.Engine [cached since 2.189s ago] {'id_1': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'param_1': 1}
2026-02-18 16:24:28,210 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,210 INFO sqlalchemy.engine.Engine [cached since 2.188s ago] {'session_name': 'Updated 2277', 'sessions_id': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,211 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,214 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,214 INFO sqlalchemy.engine.Engine [cached since 2.472s ago] {'pk_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,216 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,229 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,229 INFO sqlalchemy.engine.Engine [cached since 1.777s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,231 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,231 INFO sqlalchemy.engine.Engine [cached since 1.775s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,233 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,237 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,238 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,238 INFO sqlalchemy.engine.Engine [cached since 2.219s ago] {'id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'param_1': 1}
2026-02-18 16:24:28,240 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,240 INFO sqlalchemy.engine.Engine [cached since 2.051s ago] {'session_id': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 218915), 'alert_level': 'warning', 'fatigue_score': 69.40290252917205, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,241 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,244 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,245 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,245 INFO sqlalchemy.engine.Engine [cached since 2.038s ago] {'pk_1': 294}
2026-02-18 16:24:28,247 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,248 INFO sqlalchemy.engine.Engine [cached since 2.033s ago] {'pk_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,248 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,249 INFO sqlalchemy.engine.Engine [cached since 2.032s ago] {'alert_count': 1, 'sessions_id': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,250 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,254 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,254 INFO sqlalchemy.engine.Engine [cached since 2.032s ago] {'pk_1': 294}
2026-02-18 16:24:28,257 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,261 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,261 INFO sqlalchemy.engine.Engine [cached since 2.242s ago] {'id_1': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'param_1': 1}
2026-02-18 16:24:28,262 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,263 INFO sqlalchemy.engine.Engine [cached since 2.073s ago] {'session_id': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 219915), 'alert_level': 'critical', 'fatigue_score': 79.54378044117028, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,264 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,268 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,268 INFO sqlalchemy.engine.Engine [cached since 2.062s ago] {'pk_1': 295}
2026-02-18 16:24:28,271 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,271 INFO sqlalchemy.engine.Engine [cached since 2.057s ago] {'pk_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,271 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,273 INFO sqlalchemy.engine.Engine [cached since 2.056s ago] {'alert_count': 1, 'sessions_id': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,273 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,276 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,277 INFO sqlalchemy.engine.Engine [cached since 2.055s ago] {'pk_1': 295}
2026-02-18 16:24:28,279 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,285 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,286 INFO sqlalchemy.engine.Engine [cached since 2.555s ago] {'id': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1101', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,288 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,291 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,291 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,291 INFO sqlalchemy.engine.Engine [cached since 2.55s ago] {'pk_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,295 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,296 INFO sqlalchemy.engine.Engine [cached since 2.564s ago] {'id': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9240', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,297 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,301 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,301 INFO sqlalchemy.engine.Engine [cached since 2.559s ago] {'pk_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:28,303 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,303 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,307 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,307 INFO sqlalchemy.engine.Engine [cached since 2.288s ago] {'id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'param_1': 1}
2026-02-18 16:24:28,309 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,309 INFO sqlalchemy.engine.Engine [cached since 1.742s ago] {'session_id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,310 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,311 INFO sqlalchemy.engine.Engine [cached since 1.74s ago] {'session_id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,315 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,316 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,316 INFO sqlalchemy.engine.Engine [cached since 2.584s ago] {'id': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1770', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,318 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,319 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,320 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,320 INFO sqlalchemy.engine.Engine [cached since 2.579s ago] {'pk_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,324 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,325 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,325 INFO sqlalchemy.engine.Engine [cached since 2.593s ago] {'id': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8774', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,327 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,330 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,330 INFO sqlalchemy.engine.Engine [cached since 2.589s ago] {'pk_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,334 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,334 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,334 INFO sqlalchemy.engine.Engine [cached since 2.603s ago] {'id': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8278', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,337 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,339 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,339 INFO sqlalchemy.engine.Engine [cached since 2.598s ago] {'pk_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,344 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,344 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,344 INFO sqlalchemy.engine.Engine [cached since 2.613s ago] {'id': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5174', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,346 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,349 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,349 INFO sqlalchemy.engine.Engine [cached since 2.608s ago] {'pk_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,354 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,354 INFO sqlalchemy.engine.Engine [cached since 2.622s ago] {'id': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6770', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,356 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,358 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,358 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,359 INFO sqlalchemy.engine.Engine [cached since 2.617s ago] {'pk_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:28,360 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,361 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,361 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,362 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,362 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,362 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,376 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,376 INFO sqlalchemy.engine.Engine [cached since 2.469s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,378 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,379 INFO sqlalchemy.engine.Engine [cached since 2.467s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,384 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,384 INFO sqlalchemy.engine.Engine [cached since 1.932s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,386 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,386 INFO sqlalchemy.engine.Engine [cached since 1.931s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,392 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,393 INFO sqlalchemy.engine.Engine [cached since 2.485s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,394 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,395 INFO sqlalchemy.engine.Engine [cached since 2.483s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,397 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,397 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,399 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,403 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,404 INFO sqlalchemy.engine.Engine [cached since 1.952s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,406 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,406 INFO sqlalchemy.engine.Engine [cached since 1.951s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,413 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,413 INFO sqlalchemy.engine.Engine [cached since 2.506s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,415 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,416 INFO sqlalchemy.engine.Engine [cached since 2.504s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,419 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,421 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,421 INFO sqlalchemy.engine.Engine [cached since 2.513s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,423 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,423 INFO sqlalchemy.engine.Engine [cached since 2.512s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,428 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,428 INFO sqlalchemy.engine.Engine [cached since 2.521s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,431 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,431 INFO sqlalchemy.engine.Engine [cached since 2.519s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,435 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,435 INFO sqlalchemy.engine.Engine [cached since 2.527s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,437 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,437 INFO sqlalchemy.engine.Engine [cached since 2.526s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,442 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,442 INFO sqlalchemy.engine.Engine [cached since 2.534s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,443 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,444 INFO sqlalchemy.engine.Engine [cached since 2.532s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,448 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,448 INFO sqlalchemy.engine.Engine [cached since 2.429s ago] {'id_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d'), 'param_1': 1}
2026-02-18 16:24:28,449 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,449 INFO sqlalchemy.engine.Engine [cached since 1.775s ago] {'param_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,452 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,452 INFO sqlalchemy.engine.Engine [cached since 1.773s ago] {'param_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,454 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,454 INFO sqlalchemy.engine.Engine [cached since 1.765s ago] {'param_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,456 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,456 INFO sqlalchemy.engine.Engine [cached since 1.76s ago] {'param_1': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,457 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,458 INFO sqlalchemy.engine.Engine [cached since 1.759s ago] {'id': 293}
2026-02-18 16:24:28,459 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,459 INFO sqlalchemy.engine.Engine [cached since 1.756s ago] {'id': UUID('ba63ebf9-7332-45eb-ac4d-d2b3ed58cb7d')}
2026-02-18 16:24:28,462 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,464 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,464 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,464 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,465 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,465 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,465 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,481 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,481 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,482 INFO sqlalchemy.engine.Engine [cached since 2.463s ago] {'id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'param_1': 1}
2026-02-18 16:24:28,484 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,484 INFO sqlalchemy.engine.Engine [cached since 1.917s ago] {'session_id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,485 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,485 INFO sqlalchemy.engine.Engine [cached since 1.915s ago] {'session_id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:28,488 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,493 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,494 INFO sqlalchemy.engine.Engine [cached since 2.474s ago] {'id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'param_1': 1}
2026-02-18 16:24:28,495 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,495 INFO sqlalchemy.engine.Engine [cached since 2.473s ago] {'session_name': 'Updated 3406', 'sessions_id': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:28,496 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,499 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,500 INFO sqlalchemy.engine.Engine [cached since 2.758s ago] {'pk_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,504 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,504 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,504 INFO sqlalchemy.engine.Engine [cached since 2.486s ago] {'id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'param_1': 1}
2026-02-18 16:24:28,506 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,506 INFO sqlalchemy.engine.Engine [cached since 2.485s ago] {'session_name': 'Updated 4938', 'sessions_id': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:28,507 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,511 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,511 INFO sqlalchemy.engine.Engine [cached since 2.769s ago] {'pk_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:28,513 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,513 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,518 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,519 INFO sqlalchemy.engine.Engine [cached since 2.5s ago] {'id_1': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'param_1': 1}
2026-02-18 16:24:28,521 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,521 INFO sqlalchemy.engine.Engine [cached since 1.953s ago] {'session_id_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,523 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,524 INFO sqlalchemy.engine.Engine [cached since 1.953s ago] {'session_id_1': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:28,526 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,530 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,531 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,531 INFO sqlalchemy.engine.Engine [cached since 2.512s ago] {'id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'param_1': 1}
2026-02-18 16:24:28,532 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,533 INFO sqlalchemy.engine.Engine [cached since 2.511s ago] {'session_name': 'Updated 3359', 'sessions_id': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:28,534 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,535 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,536 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,536 INFO sqlalchemy.engine.Engine [cached since 2.795s ago] {'pk_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,542 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,542 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,542 INFO sqlalchemy.engine.Engine [cached since 2.523s ago] {'id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'param_1': 1}
2026-02-18 16:24:28,544 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,545 INFO sqlalchemy.engine.Engine [cached since 2.523s ago] {'session_name': 'Updated 2515', 'sessions_id': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:28,547 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,550 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,550 INFO sqlalchemy.engine.Engine [cached since 2.808s ago] {'pk_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,555 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,555 INFO sqlalchemy.engine.Engine [cached since 2.536s ago] {'id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'param_1': 1}
2026-02-18 16:24:28,556 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,557 INFO sqlalchemy.engine.Engine [cached since 2.535s ago] {'session_name': 'Updated 5661', 'sessions_id': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:28,558 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,561 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,561 INFO sqlalchemy.engine.Engine [cached since 2.82s ago] {'pk_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,566 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,566 INFO sqlalchemy.engine.Engine [cached since 2.548s ago] {'id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'param_1': 1}
2026-02-18 16:24:28,569 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,569 INFO sqlalchemy.engine.Engine [cached since 2.547s ago] {'session_name': 'Updated 5037', 'sessions_id': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:28,570 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,573 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,573 INFO sqlalchemy.engine.Engine [cached since 2.831s ago] {'pk_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,578 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,578 INFO sqlalchemy.engine.Engine [cached since 2.559s ago] {'id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'param_1': 1}
2026-02-18 16:24:28,580 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,580 INFO sqlalchemy.engine.Engine [cached since 2.558s ago] {'session_name': 'Updated 2717', 'sessions_id': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:28,581 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,584 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,584 INFO sqlalchemy.engine.Engine [cached since 2.842s ago] {'pk_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:28,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,588 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,597 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,597 INFO sqlalchemy.engine.Engine [cached since 2.579s ago] {'id_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636'), 'param_1': 1}
2026-02-18 16:24:28,599 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,600 INFO sqlalchemy.engine.Engine [cached since 1.925s ago] {'param_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,601 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,601 INFO sqlalchemy.engine.Engine [cached since 1.923s ago] {'param_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,603 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,603 INFO sqlalchemy.engine.Engine [cached since 1.914s ago] {'param_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,604 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,605 INFO sqlalchemy.engine.Engine [cached since 1.909s ago] {'param_1': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,607 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,607 INFO sqlalchemy.engine.Engine [cached since 1.908s ago] {'id': 294}
2026-02-18 16:24:28,609 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,609 INFO sqlalchemy.engine.Engine [cached since 1.906s ago] {'id': UUID('0a342e39-6ebc-4546-86d8-ae544a6b5636')}
2026-02-18 16:24:28,612 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,618 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,618 INFO sqlalchemy.engine.Engine [cached since 2.886s ago] {'id': UUID('5752f2af-337c-4e04-b27c-2e40d8048675'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5056', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,619 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,623 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,623 INFO sqlalchemy.engine.Engine [cached since 2.881s ago] {'pk_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:28,627 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,634 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,634 INFO sqlalchemy.engine.Engine [cached since 2.615s ago] {'id_1': UUID('46233812-01ee-4470-b679-91f305050a4d'), 'param_1': 1}
2026-02-18 16:24:28,635 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:28,635 INFO sqlalchemy.engine.Engine [cached since 1.96s ago] {'param_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,636 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:28,637 INFO sqlalchemy.engine.Engine [cached since 1.959s ago] {'param_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,639 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:28,639 INFO sqlalchemy.engine.Engine [cached since 1.95s ago] {'param_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,641 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:28,641 INFO sqlalchemy.engine.Engine [cached since 1.945s ago] {'param_1': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,642 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:28,642 INFO sqlalchemy.engine.Engine [cached since 1.944s ago] {'id': 295}
2026-02-18 16:24:28,644 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:28,645 INFO sqlalchemy.engine.Engine [cached since 1.941s ago] {'id': UUID('46233812-01ee-4470-b679-91f305050a4d')}
2026-02-18 16:24:28,649 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,666 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,666 INFO sqlalchemy.engine.Engine [cached since 2.647s ago] {'id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'param_1': 1}
2026-02-18 16:24:28,667 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,668 INFO sqlalchemy.engine.Engine [cached since 2.478s ago] {'session_id': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 591515), 'alert_level': 'critical', 'fatigue_score': 65.74770824810425, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,669 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,672 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,672 INFO sqlalchemy.engine.Engine [cached since 2.465s ago] {'pk_1': 296}
2026-02-18 16:24:28,674 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,675 INFO sqlalchemy.engine.Engine [cached since 2.46s ago] {'pk_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:28,676 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,676 INFO sqlalchemy.engine.Engine [cached since 2.459s ago] {'alert_count': 1, 'sessions_id': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:28,677 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,680 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,680 INFO sqlalchemy.engine.Engine [cached since 2.459s ago] {'pk_1': 296}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,685 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,685 INFO sqlalchemy.engine.Engine [cached since 2.666s ago] {'id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'param_1': 1}
2026-02-18 16:24:28,688 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,688 INFO sqlalchemy.engine.Engine [cached since 2.498s ago] {'session_id': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 590514), 'alert_level': 'critical', 'fatigue_score': 94.85548635266261, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,690 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,693 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,693 INFO sqlalchemy.engine.Engine [cached since 2.486s ago] {'pk_1': 297}
2026-02-18 16:24:28,694 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,695 INFO sqlalchemy.engine.Engine [cached since 2.481s ago] {'pk_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:28,696 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,697 INFO sqlalchemy.engine.Engine [cached since 2.48s ago] {'alert_count': 1, 'sessions_id': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:28,698 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,701 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,701 INFO sqlalchemy.engine.Engine [cached since 2.48s ago] {'pk_1': 297}
2026-02-18 16:24:28,705 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,705 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,709 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,709 INFO sqlalchemy.engine.Engine [cached since 2.802s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,711 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,711 INFO sqlalchemy.engine.Engine [cached since 2.8s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,714 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,718 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,718 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,718 INFO sqlalchemy.engine.Engine [cached since 2.7s ago] {'id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'param_1': 1}
2026-02-18 16:24:28,720 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,720 INFO sqlalchemy.engine.Engine [cached since 2.531s ago] {'session_id': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 628210), 'alert_level': 'critical', 'fatigue_score': 62.626349124351314, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,722 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,725 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,725 INFO sqlalchemy.engine.Engine [cached since 2.518s ago] {'pk_1': 298}
2026-02-18 16:24:28,727 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,727 INFO sqlalchemy.engine.Engine [cached since 2.512s ago] {'pk_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:28,728 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,729 INFO sqlalchemy.engine.Engine [cached since 2.512s ago] {'alert_count': 1, 'sessions_id': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:28,730 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,733 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,733 INFO sqlalchemy.engine.Engine [cached since 2.512s ago] {'pk_1': 298}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,738 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,738 INFO sqlalchemy.engine.Engine [cached since 2.719s ago] {'id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'param_1': 1}
2026-02-18 16:24:28,740 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,741 INFO sqlalchemy.engine.Engine [cached since 2.55s ago] {'session_id': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 628210), 'alert_level': 'critical', 'fatigue_score': 64.62889937483422, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,742 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,744 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,744 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,744 INFO sqlalchemy.engine.Engine [cached since 2.537s ago] {'pk_1': 299}
2026-02-18 16:24:28,747 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,747 INFO sqlalchemy.engine.Engine [cached since 2.532s ago] {'pk_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:28,749 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,749 INFO sqlalchemy.engine.Engine [cached since 2.532s ago] {'alert_count': 1, 'sessions_id': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:28,750 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,752 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,753 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,753 INFO sqlalchemy.engine.Engine [cached since 2.531s ago] {'pk_1': 299}
2026-02-18 16:24:28,755 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,756 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,760 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,760 INFO sqlalchemy.engine.Engine [cached since 2.741s ago] {'id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'param_1': 1}
2026-02-18 16:24:28,762 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,763 INFO sqlalchemy.engine.Engine [cached since 2.573s ago] {'session_id': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 630211), 'alert_level': 'warning', 'fatigue_score': 81.0972377388089, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,764 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,767 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,767 INFO sqlalchemy.engine.Engine [cached since 2.56s ago] {'pk_1': 300}
2026-02-18 16:24:28,769 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,769 INFO sqlalchemy.engine.Engine [cached since 2.555s ago] {'pk_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:28,771 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,771 INFO sqlalchemy.engine.Engine [cached since 2.554s ago] {'alert_count': 1, 'sessions_id': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:28,772 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,774 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,775 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,775 INFO sqlalchemy.engine.Engine [cached since 2.554s ago] {'pk_1': 300}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,781 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,781 INFO sqlalchemy.engine.Engine [cached since 2.762s ago] {'id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'param_1': 1}
2026-02-18 16:24:28,783 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,783 INFO sqlalchemy.engine.Engine [cached since 2.593s ago] {'session_id': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 630715), 'alert_level': 'warning', 'fatigue_score': 73.71926490822334, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,784 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,787 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,787 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,788 INFO sqlalchemy.engine.Engine [cached since 2.58s ago] {'pk_1': 301}
2026-02-18 16:24:28,790 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,791 INFO sqlalchemy.engine.Engine [cached since 2.576s ago] {'pk_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:28,792 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,792 INFO sqlalchemy.engine.Engine [cached since 2.575s ago] {'alert_count': 1, 'sessions_id': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:28,792 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,796 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,796 INFO sqlalchemy.engine.Engine [cached since 2.574s ago] {'pk_1': 301}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,800 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,800 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,801 INFO sqlalchemy.engine.Engine [cached since 2.782s ago] {'id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'param_1': 1}
2026-02-18 16:24:28,802 INFO sqlalchemy.engine.Engine INSERT INTO alerts (session_id, timestamp, alert_level, fatigue_score, eeg_contribution, face_contribution, trigger_reason, acknowledged) VALUES (%(session_id)s::UUID, %(timestamp)s, %(alert_level)s, %(fatigue_score)s, %(eeg_contribution)s, %(face_contribution)s, %(trigger_reason)s, %(acknowledged)s) RETURNING alerts.id
2026-02-18 16:24:28,802 INFO sqlalchemy.engine.Engine [cached since 2.613s ago] {'session_id': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'timestamp': datetime.datetime(2026, 2, 18, 9, 24, 28, 630715), 'alert_level': 'critical', 'fatigue_score': 62.06766341795412, 'eeg_contribution': 0.7, 'face_contribution': 0.4, 'trigger_reason': 'High theta/alpha ratio', 'acknowledged': False}
2026-02-18 16:24:28,804 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,807 INFO sqlalchemy.engine.Engine SELECT alerts.id, alerts.session_id, alerts.timestamp, alerts.alert_level, alerts.fatigue_score, alerts.eeg_contribution, alerts.face_contribution, alerts.trigger_reason, alerts.acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,807 INFO sqlalchemy.engine.Engine [cached since 2.601s ago] {'pk_1': 302}
2026-02-18 16:24:28,810 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,810 INFO sqlalchemy.engine.Engine [cached since 2.596s ago] {'pk_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:28,812 INFO sqlalchemy.engine.Engine UPDATE sessions SET alert_count=%(alert_count)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,812 INFO sqlalchemy.engine.Engine [cached since 2.595s ago] {'alert_count': 1, 'sessions_id': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:28,813 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,815 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE alerts.id = %(pk_1)s
2026-02-18 16:24:28,816 INFO sqlalchemy.engine.Engine [cached since 2.594s ago] {'pk_1': 302}
2026-02-18 16:24:28,819 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,819 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,819 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,829 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,829 INFO sqlalchemy.engine.Engine [cached since 3.098s ago] {'id': UUID('788278ff-85f1-4472-8b25-633d4988edbf'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3325', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,832 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,834 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,834 INFO sqlalchemy.engine.Engine [cached since 3.093s ago] {'pk_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,841 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:28,841 INFO sqlalchemy.engine.Engine [cached since 3.11s ago] {'id': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2643', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:28,844 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,847 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,847 INFO sqlalchemy.engine.Engine [cached since 3.105s ago] {'pk_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:28,849 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,851 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,859 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,859 INFO sqlalchemy.engine.Engine [cached since 2.841s ago] {'id_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675'), 'param_1': 1}
2026-02-18 16:24:28,862 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:28,862 INFO sqlalchemy.engine.Engine [cached since 2.84s ago] {'session_name': 'Updated 1468', 'sessions_id': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:28,863 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:28,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,866 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:28,866 INFO sqlalchemy.engine.Engine [cached since 3.124s ago] {'pk_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,872 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,873 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,873 INFO sqlalchemy.engine.Engine [cached since 2.421s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,875 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,875 INFO sqlalchemy.engine.Engine [cached since 2.42s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,881 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,882 INFO sqlalchemy.engine.Engine [cached since 2.429s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,883 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,884 INFO sqlalchemy.engine.Engine [cached since 2.428s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,886 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,887 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,888 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,897 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,897 INFO sqlalchemy.engine.Engine [cached since 2.445s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,900 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,900 INFO sqlalchemy.engine.Engine [cached since 2.444s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,906 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,906 INFO sqlalchemy.engine.Engine [cached since 2.454s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,908 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,908 INFO sqlalchemy.engine.Engine [cached since 2.453s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,911 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:28,911 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,916 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,916 INFO sqlalchemy.engine.Engine [cached since 3.008s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,918 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,918 INFO sqlalchemy.engine.Engine [cached since 3.006s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,923 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,926 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,927 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,927 INFO sqlalchemy.engine.Engine [cached since 2.475s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,929 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,929 INFO sqlalchemy.engine.Engine [cached since 2.474s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,935 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,935 INFO sqlalchemy.engine.Engine [cached since 2.483s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,937 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,938 INFO sqlalchemy.engine.Engine [cached since 2.482s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,943 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,943 INFO sqlalchemy.engine.Engine [cached since 2.491s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,944 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,946 INFO sqlalchemy.engine.Engine [cached since 2.49s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,950 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,951 INFO sqlalchemy.engine.Engine [cached since 3.043s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:28,952 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,952 INFO sqlalchemy.engine.Engine [cached since 3.041s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:28,955 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,956 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,956 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:28,956 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,964 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,964 INFO sqlalchemy.engine.Engine [cached since 2.945s ago] {'id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'param_1': 1}
2026-02-18 16:24:28,965 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,966 INFO sqlalchemy.engine.Engine [cached since 2.399s ago] {'session_id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:28,968 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,968 INFO sqlalchemy.engine.Engine [cached since 2.398s ago] {'session_id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:28,972 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,976 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,976 INFO sqlalchemy.engine.Engine [cached since 2.957s ago] {'id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'param_1': 1}
2026-02-18 16:24:28,978 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,979 INFO sqlalchemy.engine.Engine [cached since 2.411s ago] {'session_id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:28,981 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,981 INFO sqlalchemy.engine.Engine [cached since 2.41s ago] {'session_id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:28,985 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:28,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:28,993 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:28,994 INFO sqlalchemy.engine.Engine [cached since 2.975s ago] {'id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'param_1': 1}
2026-02-18 16:24:28,995 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:28,995 INFO sqlalchemy.engine.Engine [cached since 2.428s ago] {'session_id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:28,998 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:28,999 INFO sqlalchemy.engine.Engine [cached since 2.428s ago] {'session_id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,005 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,006 INFO sqlalchemy.engine.Engine [cached since 2.986s ago] {'id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'param_1': 1}
2026-02-18 16:24:29,008 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,009 INFO sqlalchemy.engine.Engine [cached since 2.441s ago] {'session_id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,011 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,011 INFO sqlalchemy.engine.Engine [cached since 2.441s ago] {'session_id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:29,015 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,015 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,023 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,023 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,023 INFO sqlalchemy.engine.Engine [cached since 3.004s ago] {'id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'param_1': 1}
2026-02-18 16:24:29,025 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,025 INFO sqlalchemy.engine.Engine [cached since 2.458s ago] {'session_id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,027 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,027 INFO sqlalchemy.engine.Engine [cached since 2.457s ago] {'session_id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,032 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,032 INFO sqlalchemy.engine.Engine [cached since 3.013s ago] {'id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'param_1': 1}
2026-02-18 16:24:29,034 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,034 INFO sqlalchemy.engine.Engine [cached since 2.466s ago] {'session_id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,035 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,036 INFO sqlalchemy.engine.Engine [cached since 2.465s ago] {'session_id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,041 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,042 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,042 INFO sqlalchemy.engine.Engine [cached since 3.023s ago] {'id_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf'), 'param_1': 1}
2026-02-18 16:24:29,045 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,046 INFO sqlalchemy.engine.Engine [cached since 3.024s ago] {'session_name': 'Updated 2669', 'sessions_id': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,048 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,051 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,051 INFO sqlalchemy.engine.Engine [cached since 3.31s ago] {'pk_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,059 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,060 INFO sqlalchemy.engine.Engine [cached since 3.04s ago] {'id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'param_1': 1}
2026-02-18 16:24:29,062 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,062 INFO sqlalchemy.engine.Engine [cached since 2.494s ago] {'session_id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,064 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,064 INFO sqlalchemy.engine.Engine [cached since 2.494s ago] {'session_id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:29,066 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,066 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,070 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,071 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,075 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,075 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,075 INFO sqlalchemy.engine.Engine [cached since 3.057s ago] {'id_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7'), 'param_1': 1}
2026-02-18 16:24:29,078 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,078 INFO sqlalchemy.engine.Engine [cached since 3.056s ago] {'session_name': 'Updated 9830', 'sessions_id': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,079 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,082 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,082 INFO sqlalchemy.engine.Engine [cached since 3.34s ago] {'pk_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,085 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,089 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,089 INFO sqlalchemy.engine.Engine [cached since 3.071s ago] {'id_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d'), 'param_1': 1}
2026-02-18 16:24:29,092 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,092 INFO sqlalchemy.engine.Engine [cached since 2.417s ago] {'param_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:29,093 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,093 INFO sqlalchemy.engine.Engine [cached since 2.415s ago] {'param_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:29,095 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,095 INFO sqlalchemy.engine.Engine [cached since 2.406s ago] {'param_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:29,096 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,096 INFO sqlalchemy.engine.Engine [cached since 2.401s ago] {'param_1': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:29,098 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,098 INFO sqlalchemy.engine.Engine [cached since 2.399s ago] {'id': 297}
2026-02-18 16:24:29,099 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,100 INFO sqlalchemy.engine.Engine [cached since 2.397s ago] {'id': UUID('78d80c46-77a7-4f7d-8a88-93164ee31e3d')}
2026-02-18 16:24:29,103 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,111 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,112 INFO sqlalchemy.engine.Engine [cached since 3.092s ago] {'id_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22'), 'param_1': 1}
2026-02-18 16:24:29,113 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,113 INFO sqlalchemy.engine.Engine [cached since 2.438s ago] {'param_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:29,114 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,114 INFO sqlalchemy.engine.Engine [cached since 2.436s ago] {'param_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:29,116 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,117 INFO sqlalchemy.engine.Engine [cached since 2.427s ago] {'param_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:29,118 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,118 INFO sqlalchemy.engine.Engine [cached since 2.422s ago] {'param_1': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:29,120 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,120 INFO sqlalchemy.engine.Engine [cached since 2.421s ago] {'id': 296}
2026-02-18 16:24:29,122 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,122 INFO sqlalchemy.engine.Engine [cached since 2.419s ago] {'id': UUID('0f169456-3ccc-41b5-bfb5-44b5c032ca22')}
2026-02-18 16:24:29,125 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,135 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,135 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,135 INFO sqlalchemy.engine.Engine [cached since 3.116s ago] {'id_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369'), 'param_1': 1}
2026-02-18 16:24:29,137 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,137 INFO sqlalchemy.engine.Engine [cached since 2.461s ago] {'param_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,138 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,139 INFO sqlalchemy.engine.Engine [cached since 2.461s ago] {'param_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,141 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,142 INFO sqlalchemy.engine.Engine [cached since 2.452s ago] {'param_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,143 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,143 INFO sqlalchemy.engine.Engine [cached since 2.447s ago] {'param_1': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,144 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,144 INFO sqlalchemy.engine.Engine [cached since 2.446s ago] {'id': 299}
2026-02-18 16:24:29,146 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,146 INFO sqlalchemy.engine.Engine [cached since 2.443s ago] {'id': UUID('31bcf397-ab85-42a7-a6c8-fc99968d9369')}
2026-02-18 16:24:29,149 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,156 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,157 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,157 INFO sqlalchemy.engine.Engine [cached since 3.138s ago] {'id_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748'), 'param_1': 1}
2026-02-18 16:24:29,159 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,159 INFO sqlalchemy.engine.Engine [cached since 2.484s ago] {'param_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:29,159 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,161 INFO sqlalchemy.engine.Engine [cached since 2.482s ago] {'param_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:29,162 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,162 INFO sqlalchemy.engine.Engine [cached since 2.473s ago] {'param_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:29,163 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,164 INFO sqlalchemy.engine.Engine [cached since 2.467s ago] {'param_1': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:29,165 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,165 INFO sqlalchemy.engine.Engine [cached since 2.466s ago] {'id': 298}
2026-02-18 16:24:29,166 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,166 INFO sqlalchemy.engine.Engine [cached since 2.463s ago] {'id': UUID('afa57108-8ed0-45f2-9541-7e17fec68748')}
2026-02-18 16:24:29,169 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,179 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,180 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,180 INFO sqlalchemy.engine.Engine [cached since 3.161s ago] {'id_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e'), 'param_1': 1}
2026-02-18 16:24:29,181 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,181 INFO sqlalchemy.engine.Engine [cached since 2.506s ago] {'param_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,182 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,183 INFO sqlalchemy.engine.Engine [cached since 2.505s ago] {'param_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,184 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,186 INFO sqlalchemy.engine.Engine [cached since 2.496s ago] {'param_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,187 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,187 INFO sqlalchemy.engine.Engine [cached since 2.491s ago] {'param_1': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,189 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,190 INFO sqlalchemy.engine.Engine [cached since 2.49s ago] {'id': 302}
2026-02-18 16:24:29,191 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,191 INFO sqlalchemy.engine.Engine [cached since 2.488s ago] {'id': UUID('8c7b020d-001b-4387-b575-02a9317ec39e')}
2026-02-18 16:24:29,194 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,206 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,206 INFO sqlalchemy.engine.Engine [cached since 3.187s ago] {'id_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b'), 'param_1': 1}
2026-02-18 16:24:29,208 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,208 INFO sqlalchemy.engine.Engine [cached since 2.533s ago] {'param_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,210 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,210 INFO sqlalchemy.engine.Engine [cached since 2.532s ago] {'param_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,212 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,212 INFO sqlalchemy.engine.Engine [cached since 2.523s ago] {'param_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,214 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,214 INFO sqlalchemy.engine.Engine [cached since 2.518s ago] {'param_1': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,216 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,217 INFO sqlalchemy.engine.Engine [cached since 2.518s ago] {'id': 300}
2026-02-18 16:24:29,219 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,219 INFO sqlalchemy.engine.Engine [cached since 2.515s ago] {'id': UUID('2bb6fb07-461c-48cb-b078-4cec3f60684b')}
2026-02-18 16:24:29,223 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,231 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,232 INFO sqlalchemy.engine.Engine [cached since 3.213s ago] {'id_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63'), 'param_1': 1}
2026-02-18 16:24:29,233 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,234 INFO sqlalchemy.engine.Engine [cached since 2.559s ago] {'param_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,235 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,235 INFO sqlalchemy.engine.Engine [cached since 2.557s ago] {'param_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,236 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,238 INFO sqlalchemy.engine.Engine [cached since 2.548s ago] {'param_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,239 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,240 INFO sqlalchemy.engine.Engine [cached since 2.544s ago] {'param_1': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,241 INFO sqlalchemy.engine.Engine DELETE FROM alerts WHERE alerts.id = %(id)s
2026-02-18 16:24:29,242 INFO sqlalchemy.engine.Engine [cached since 2.543s ago] {'id': 301}
2026-02-18 16:24:29,243 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,243 INFO sqlalchemy.engine.Engine [cached since 2.54s ago] {'id': UUID('7ce7cfc2-3f7c-41ca-8f70-bbcacb8c0e63')}
2026-02-18 16:24:29,246 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,259 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,260 INFO sqlalchemy.engine.Engine [cached since 2.808s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,262 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,262 INFO sqlalchemy.engine.Engine [cached since 2.807s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,266 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,278 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,278 INFO sqlalchemy.engine.Engine [cached since 3.259s ago] {'id_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675'), 'param_1': 1}
2026-02-18 16:24:29,279 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,280 INFO sqlalchemy.engine.Engine [cached since 2.712s ago] {'session_id_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,281 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,282 INFO sqlalchemy.engine.Engine [cached since 2.711s ago] {'session_id_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:29,283 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,291 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,291 INFO sqlalchemy.engine.Engine [cached since 3.559s ago] {'id': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6612', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,293 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,296 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,296 INFO sqlalchemy.engine.Engine [cached since 3.555s ago] {'pk_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,300 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,301 INFO sqlalchemy.engine.Engine [cached since 3.569s ago] {'id': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7768', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,303 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,306 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,307 INFO sqlalchemy.engine.Engine [cached since 3.565s ago] {'pk_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,309 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,309 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,315 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,316 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,316 INFO sqlalchemy.engine.Engine [cached since 2.864s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,318 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,318 INFO sqlalchemy.engine.Engine [cached since 2.862s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,323 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,323 INFO sqlalchemy.engine.Engine [cached since 2.871s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,325 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,325 INFO sqlalchemy.engine.Engine [cached since 2.87s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,327 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,328 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,333 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,333 INFO sqlalchemy.engine.Engine [cached since 3.314s ago] {'id_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675'), 'param_1': 1}
2026-02-18 16:24:29,334 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,334 INFO sqlalchemy.engine.Engine [cached since 2.659s ago] {'param_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,336 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,336 INFO sqlalchemy.engine.Engine [cached since 2.658s ago] {'param_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,338 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,338 INFO sqlalchemy.engine.Engine [cached since 2.649s ago] {'param_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,339 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,340 INFO sqlalchemy.engine.Engine [cached since 2.644s ago] {'param_1': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,342 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,343 INFO sqlalchemy.engine.Engine [cached since 2.639s ago] {'id': UUID('5752f2af-337c-4e04-b27c-2e40d8048675')}
2026-02-18 16:24:29,346 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,359 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,359 INFO sqlalchemy.engine.Engine [cached since 3.628s ago] {'id': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8214', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,361 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,363 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,364 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,364 INFO sqlalchemy.engine.Engine [cached since 3.622s ago] {'pk_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,369 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,369 INFO sqlalchemy.engine.Engine [cached since 3.462s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,372 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,372 INFO sqlalchemy.engine.Engine [cached since 3.461s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,375 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,379 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,379 INFO sqlalchemy.engine.Engine [cached since 3.471s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,380 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,381 INFO sqlalchemy.engine.Engine [cached since 3.469s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,384 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,384 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,392 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,393 INFO sqlalchemy.engine.Engine [cached since 3.373s ago] {'id_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7'), 'param_1': 1}
2026-02-18 16:24:29,394 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,395 INFO sqlalchemy.engine.Engine [cached since 2.827s ago] {'session_id_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,396 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,396 INFO sqlalchemy.engine.Engine [cached since 2.825s ago] {'session_id_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,401 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,401 INFO sqlalchemy.engine.Engine [cached since 3.382s ago] {'id_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf'), 'param_1': 1}
2026-02-18 16:24:29,403 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,404 INFO sqlalchemy.engine.Engine [cached since 2.836s ago] {'session_id_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,405 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,406 INFO sqlalchemy.engine.Engine [cached since 2.835s ago] {'session_id_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,411 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,411 INFO sqlalchemy.engine.Engine [cached since 3.679s ago] {'id': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2161', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,413 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,415 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,416 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,416 INFO sqlalchemy.engine.Engine [cached since 3.674s ago] {'pk_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:29,417 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,418 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,423 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,423 INFO sqlalchemy.engine.Engine [cached since 3.691s ago] {'id': UUID('287010c1-040e-4324-af21-8491ff33fd5a'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2282', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,424 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,426 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,427 INFO sqlalchemy.engine.Engine [cached since 3.685s ago] {'pk_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:29,428 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,431 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,432 INFO sqlalchemy.engine.Engine [cached since 3.7s ago] {'id': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7274', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,434 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,436 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,436 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,438 INFO sqlalchemy.engine.Engine [cached since 3.696s ago] {'pk_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,444 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,444 INFO sqlalchemy.engine.Engine [cached since 3.713s ago] {'id': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1683', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,445 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,449 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,449 INFO sqlalchemy.engine.Engine [cached since 3.708s ago] {'pk_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:29,452 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,452 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,454 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,469 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,470 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,471 INFO sqlalchemy.engine.Engine [cached since 3.563s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,473 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,474 INFO sqlalchemy.engine.Engine [cached since 3.562s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,478 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,486 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,486 INFO sqlalchemy.engine.Engine [cached since 3.467s ago] {'id_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536'), 'param_1': 1}
2026-02-18 16:24:29,488 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,489 INFO sqlalchemy.engine.Engine [cached since 3.467s ago] {'session_name': 'Updated 8279', 'sessions_id': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:29,491 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,494 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,494 INFO sqlalchemy.engine.Engine [cached since 3.752s ago] {'pk_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,500 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,500 INFO sqlalchemy.engine.Engine [cached since 3.768s ago] {'id': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7684', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,503 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,508 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,508 INFO sqlalchemy.engine.Engine [cached since 3.766s ago] {'pk_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,514 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,515 INFO sqlalchemy.engine.Engine [cached since 3.607s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,517 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,518 INFO sqlalchemy.engine.Engine [cached since 3.606s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,522 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,522 INFO sqlalchemy.engine.Engine [cached since 3.504s ago] {'id_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7'), 'param_1': 1}
2026-02-18 16:24:29,524 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,524 INFO sqlalchemy.engine.Engine [cached since 2.849s ago] {'param_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,525 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,525 INFO sqlalchemy.engine.Engine [cached since 2.847s ago] {'param_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,527 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,528 INFO sqlalchemy.engine.Engine [cached since 2.838s ago] {'param_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,529 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,529 INFO sqlalchemy.engine.Engine [cached since 2.833s ago] {'param_1': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,531 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,531 INFO sqlalchemy.engine.Engine [cached since 2.828s ago] {'id': UUID('df10bad4-3577-4697-ab06-a4ad15c4a1f7')}
2026-02-18 16:24:29,533 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,539 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,540 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,540 INFO sqlalchemy.engine.Engine [cached since 3.521s ago] {'id_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf'), 'param_1': 1}
2026-02-18 16:24:29,541 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,542 INFO sqlalchemy.engine.Engine [cached since 2.866s ago] {'param_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,543 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,544 INFO sqlalchemy.engine.Engine [cached since 2.865s ago] {'param_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,545 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,546 INFO sqlalchemy.engine.Engine [cached since 2.856s ago] {'param_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,547 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,547 INFO sqlalchemy.engine.Engine [cached since 2.851s ago] {'param_1': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,548 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,548 INFO sqlalchemy.engine.Engine [cached since 2.846s ago] {'id': UUID('788278ff-85f1-4472-8b25-633d4988edbf')}
2026-02-18 16:24:29,551 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,558 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,558 INFO sqlalchemy.engine.Engine [cached since 3.539s ago] {'id_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e'), 'param_1': 1}
2026-02-18 16:24:29,560 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,561 INFO sqlalchemy.engine.Engine [cached since 3.538s ago] {'session_name': 'Updated 5473', 'sessions_id': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,562 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,564 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,564 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,564 INFO sqlalchemy.engine.Engine [cached since 3.823s ago] {'pk_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,567 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,567 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,568 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:29,568 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,572 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,573 INFO sqlalchemy.engine.Engine [cached since 3.665s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,574 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,576 INFO sqlalchemy.engine.Engine [cached since 3.664s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,581 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,581 INFO sqlalchemy.engine.Engine [cached since 3.673s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,583 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,583 INFO sqlalchemy.engine.Engine [cached since 3.672s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,585 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,585 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,593 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,594 INFO sqlalchemy.engine.Engine [cached since 3.686s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,597 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,597 INFO sqlalchemy.engine.Engine [cached since 3.685s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,599 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,614 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,615 INFO sqlalchemy.engine.Engine [cached since 3.596s ago] {'id_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a'), 'param_1': 1}
2026-02-18 16:24:29,617 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,617 INFO sqlalchemy.engine.Engine [cached since 3.595s ago] {'session_name': 'Updated 1253', 'sessions_id': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:29,619 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,629 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,630 INFO sqlalchemy.engine.Engine [cached since 3.888s ago] {'pk_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:29,641 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,658 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,659 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,660 INFO sqlalchemy.engine.Engine [cached since 3.752s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,664 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,665 INFO sqlalchemy.engine.Engine [cached since 3.754s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,678 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,679 INFO sqlalchemy.engine.Engine [cached since 3.66s ago] {'id_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b'), 'param_1': 1}
2026-02-18 16:24:29,683 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,683 INFO sqlalchemy.engine.Engine [cached since 3.661s ago] {'session_name': 'Updated 7594', 'sessions_id': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:29,685 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,690 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,690 INFO sqlalchemy.engine.Engine [cached since 3.948s ago] {'pk_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:29,697 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,697 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,705 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,706 INFO sqlalchemy.engine.Engine [cached since 3.687s ago] {'id_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a'), 'param_1': 1}
2026-02-18 16:24:29,708 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,709 INFO sqlalchemy.engine.Engine [cached since 3.687s ago] {'session_name': 'Updated 9312', 'sessions_id': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:29,710 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,713 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,713 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,713 INFO sqlalchemy.engine.Engine [cached since 3.971s ago] {'pk_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,718 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,718 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,718 INFO sqlalchemy.engine.Engine [cached since 3.699s ago] {'id_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164'), 'param_1': 1}
2026-02-18 16:24:29,720 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,720 INFO sqlalchemy.engine.Engine [cached since 3.698s ago] {'session_name': 'Updated 3971', 'sessions_id': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:29,721 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,724 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,724 INFO sqlalchemy.engine.Engine [cached since 3.982s ago] {'pk_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,728 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,729 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,729 INFO sqlalchemy.engine.Engine [cached since 3.71s ago] {'id_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497'), 'param_1': 1}
2026-02-18 16:24:29,731 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,731 INFO sqlalchemy.engine.Engine [cached since 3.709s ago] {'session_name': 'Updated 3243', 'sessions_id': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:29,732 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,734 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,735 INFO sqlalchemy.engine.Engine [cached since 3.994s ago] {'pk_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:29,737 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,738 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,739 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,752 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,753 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,753 INFO sqlalchemy.engine.Engine [cached since 4.022s ago] {'id': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3568', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,755 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,757 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,758 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,758 INFO sqlalchemy.engine.Engine [cached since 4.016s ago] {'pk_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,762 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:29,762 INFO sqlalchemy.engine.Engine [cached since 4.031s ago] {'id': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6383', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:29,763 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,767 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,767 INFO sqlalchemy.engine.Engine [cached since 4.025s ago] {'pk_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:29,769 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,770 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,782 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,783 INFO sqlalchemy.engine.Engine [cached since 3.764s ago] {'id_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19'), 'param_1': 1}
2026-02-18 16:24:29,784 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,784 INFO sqlalchemy.engine.Engine [cached since 3.763s ago] {'session_name': 'Updated 7673', 'sessions_id': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:29,786 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,789 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,790 INFO sqlalchemy.engine.Engine [cached since 4.048s ago] {'pk_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:29,794 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,812 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,812 INFO sqlalchemy.engine.Engine [cached since 3.904s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,814 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,815 INFO sqlalchemy.engine.Engine [cached since 3.903s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,821 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,822 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,822 INFO sqlalchemy.engine.Engine [cached since 3.914s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,824 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,825 INFO sqlalchemy.engine.Engine [cached since 3.913s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,834 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:29,834 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,838 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,838 INFO sqlalchemy.engine.Engine [cached since 3.386s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,841 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,842 INFO sqlalchemy.engine.Engine [cached since 3.386s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,847 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,847 INFO sqlalchemy.engine.Engine [cached since 3.395s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,849 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,849 INFO sqlalchemy.engine.Engine [cached since 3.394s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,853 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,853 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,882 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,882 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,883 INFO sqlalchemy.engine.Engine [cached since 3.864s ago] {'id_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e'), 'param_1': 1}
2026-02-18 16:24:29,885 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,885 INFO sqlalchemy.engine.Engine [cached since 3.317s ago] {'session_id_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,886 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,887 INFO sqlalchemy.engine.Engine [cached since 3.316s ago] {'session_id_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,891 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,891 INFO sqlalchemy.engine.Engine [cached since 3.872s ago] {'id_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536'), 'param_1': 1}
2026-02-18 16:24:29,893 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,893 INFO sqlalchemy.engine.Engine [cached since 3.325s ago] {'session_id_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:29,894 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,895 INFO sqlalchemy.engine.Engine [cached since 3.324s ago] {'session_id_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,898 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,899 INFO sqlalchemy.engine.Engine [cached since 3.447s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,900 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,900 INFO sqlalchemy.engine.Engine [cached since 3.445s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,906 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,906 INFO sqlalchemy.engine.Engine [cached since 3.887s ago] {'id_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7'), 'param_1': 1}
2026-02-18 16:24:29,908 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,908 INFO sqlalchemy.engine.Engine [cached since 3.886s ago] {'session_name': 'Updated 9075', 'sessions_id': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:29,909 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,912 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,912 INFO sqlalchemy.engine.Engine [cached since 4.17s ago] {'pk_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,917 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,918 INFO sqlalchemy.engine.Engine [cached since 3.898s ago] {'id_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22'), 'param_1': 1}
2026-02-18 16:24:29,919 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:29,919 INFO sqlalchemy.engine.Engine [cached since 3.898s ago] {'session_name': 'Updated 6324', 'sessions_id': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:29,920 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:29,924 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,924 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:29,924 INFO sqlalchemy.engine.Engine [cached since 4.183s ago] {'pk_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:29,927 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,928 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,929 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:29,929 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,934 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,935 INFO sqlalchemy.engine.Engine [cached since 3.482s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,936 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,937 INFO sqlalchemy.engine.Engine [cached since 3.481s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,939 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,941 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,945 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,945 INFO sqlalchemy.engine.Engine [cached since 3.493s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,947 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,947 INFO sqlalchemy.engine.Engine [cached since 3.492s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,953 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,954 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,954 INFO sqlalchemy.engine.Engine [cached since 3.502s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,956 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,957 INFO sqlalchemy.engine.Engine [cached since 3.501s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,959 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:29,961 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,966 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:29,966 INFO sqlalchemy.engine.Engine [cached since 3.514s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:29,968 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:29,968 INFO sqlalchemy.engine.Engine [cached since 3.513s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:29,972 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:29,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:29,982 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:29,982 INFO sqlalchemy.engine.Engine [cached since 3.963s ago] {'id_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e'), 'param_1': 1}
2026-02-18 16:24:29,984 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:29,984 INFO sqlalchemy.engine.Engine [cached since 3.309s ago] {'param_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,985 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:29,986 INFO sqlalchemy.engine.Engine [cached since 3.307s ago] {'param_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,988 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:29,988 INFO sqlalchemy.engine.Engine [cached since 3.298s ago] {'param_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,989 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:29,990 INFO sqlalchemy.engine.Engine [cached since 3.294s ago] {'param_1': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,991 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:29,991 INFO sqlalchemy.engine.Engine [cached since 3.288s ago] {'id': UUID('720dbb36-14ae-4b16-a7a5-3847f1b4607e')}
2026-02-18 16:24:29,994 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,000 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,000 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,002 INFO sqlalchemy.engine.Engine [cached since 3.982s ago] {'id_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a'), 'param_1': 1}
2026-02-18 16:24:30,003 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,004 INFO sqlalchemy.engine.Engine [cached since 3.436s ago] {'session_id_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,005 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,005 INFO sqlalchemy.engine.Engine [cached since 3.435s ago] {'session_id_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,012 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,012 INFO sqlalchemy.engine.Engine [cached since 3.993s ago] {'id_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536'), 'param_1': 1}
2026-02-18 16:24:30,014 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,014 INFO sqlalchemy.engine.Engine [cached since 3.339s ago] {'param_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:30,015 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,015 INFO sqlalchemy.engine.Engine [cached since 3.337s ago] {'param_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:30,017 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,018 INFO sqlalchemy.engine.Engine [cached since 3.328s ago] {'param_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:30,019 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,019 INFO sqlalchemy.engine.Engine [cached since 3.323s ago] {'param_1': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:30,020 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,021 INFO sqlalchemy.engine.Engine [cached since 3.317s ago] {'id': UUID('0e479472-8b4d-4c6e-9689-d3652c1e8536')}
2026-02-18 16:24:30,024 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,028 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,032 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,032 INFO sqlalchemy.engine.Engine [cached since 4.013s ago] {'id_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b'), 'param_1': 1}
2026-02-18 16:24:30,034 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,034 INFO sqlalchemy.engine.Engine [cached since 3.467s ago] {'session_id_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,036 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,036 INFO sqlalchemy.engine.Engine [cached since 3.466s ago] {'session_id_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,043 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,051 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,051 INFO sqlalchemy.engine.Engine [cached since 4.032s ago] {'id_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a'), 'param_1': 1}
2026-02-18 16:24:30,054 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,054 INFO sqlalchemy.engine.Engine [cached since 3.486s ago] {'session_id_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,056 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,056 INFO sqlalchemy.engine.Engine [cached since 3.486s ago] {'session_id_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,062 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,063 INFO sqlalchemy.engine.Engine [cached since 3.611s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,064 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,066 INFO sqlalchemy.engine.Engine [cached since 3.61s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,072 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,072 INFO sqlalchemy.engine.Engine [cached since 4.053s ago] {'id_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164'), 'param_1': 1}
2026-02-18 16:24:30,074 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,075 INFO sqlalchemy.engine.Engine [cached since 3.507s ago] {'session_id_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,076 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,076 INFO sqlalchemy.engine.Engine [cached since 3.506s ago] {'session_id_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,078 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,079 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,080 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,086 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,086 INFO sqlalchemy.engine.Engine [cached since 4.067s ago] {'id_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497'), 'param_1': 1}
2026-02-18 16:24:30,089 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,090 INFO sqlalchemy.engine.Engine [cached since 3.522s ago] {'session_id_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,091 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,091 INFO sqlalchemy.engine.Engine [cached since 3.521s ago] {'session_id_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,094 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,112 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,112 INFO sqlalchemy.engine.Engine [cached since 4.093s ago] {'id_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a'), 'param_1': 1}
2026-02-18 16:24:30,114 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,114 INFO sqlalchemy.engine.Engine [cached since 3.439s ago] {'param_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,116 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,116 INFO sqlalchemy.engine.Engine [cached since 3.437s ago] {'param_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,118 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,118 INFO sqlalchemy.engine.Engine [cached since 3.428s ago] {'param_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,119 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,119 INFO sqlalchemy.engine.Engine [cached since 3.423s ago] {'param_1': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,121 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,122 INFO sqlalchemy.engine.Engine [cached since 3.418s ago] {'id': UUID('519ecd0d-55e0-4257-8558-27e40bb9dc8a')}
2026-02-18 16:24:30,125 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,133 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,133 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,133 INFO sqlalchemy.engine.Engine [cached since 4.115s ago] {'id_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b'), 'param_1': 1}
2026-02-18 16:24:30,135 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,136 INFO sqlalchemy.engine.Engine [cached since 3.46s ago] {'param_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,137 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,138 INFO sqlalchemy.engine.Engine [cached since 3.459s ago] {'param_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,139 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,140 INFO sqlalchemy.engine.Engine [cached since 3.45s ago] {'param_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,141 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,141 INFO sqlalchemy.engine.Engine [cached since 3.445s ago] {'param_1': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,143 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,143 INFO sqlalchemy.engine.Engine [cached since 3.44s ago] {'id': UUID('e6e50f63-c7a2-4620-bf14-b85d9c319c4b')}
2026-02-18 16:24:30,145 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,152 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,153 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,153 INFO sqlalchemy.engine.Engine [cached since 4.134s ago] {'id_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19'), 'param_1': 1}
2026-02-18 16:24:30,155 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,156 INFO sqlalchemy.engine.Engine [cached since 3.588s ago] {'session_id_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,157 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,157 INFO sqlalchemy.engine.Engine [cached since 3.586s ago] {'session_id_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,161 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,161 INFO sqlalchemy.engine.Engine [cached since 4.142s ago] {'id_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a'), 'param_1': 1}
2026-02-18 16:24:30,163 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,163 INFO sqlalchemy.engine.Engine [cached since 3.488s ago] {'param_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,164 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,164 INFO sqlalchemy.engine.Engine [cached since 3.486s ago] {'param_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,166 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,166 INFO sqlalchemy.engine.Engine [cached since 3.477s ago] {'param_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,168 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,169 INFO sqlalchemy.engine.Engine [cached since 3.472s ago] {'param_1': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,170 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,171 INFO sqlalchemy.engine.Engine [cached since 3.467s ago] {'id': UUID('287010c1-040e-4324-af21-8491ff33fd5a')}
2026-02-18 16:24:30,172 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,175 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,180 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,180 INFO sqlalchemy.engine.Engine [cached since 4.16s ago] {'id_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164'), 'param_1': 1}
2026-02-18 16:24:30,181 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,181 INFO sqlalchemy.engine.Engine [cached since 3.506s ago] {'param_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,183 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,183 INFO sqlalchemy.engine.Engine [cached since 3.505s ago] {'param_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,184 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,186 INFO sqlalchemy.engine.Engine [cached since 3.496s ago] {'param_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,187 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,187 INFO sqlalchemy.engine.Engine [cached since 3.491s ago] {'param_1': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,189 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,190 INFO sqlalchemy.engine.Engine [cached since 3.486s ago] {'id': UUID('919e9fe4-e8e4-47a4-af2b-6d4ef770d164')}
2026-02-18 16:24:30,193 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,202 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,202 INFO sqlalchemy.engine.Engine [cached since 4.184s ago] {'id_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497'), 'param_1': 1}
2026-02-18 16:24:30,205 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,205 INFO sqlalchemy.engine.Engine [cached since 3.53s ago] {'param_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,207 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,207 INFO sqlalchemy.engine.Engine [cached since 3.528s ago] {'param_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,208 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,209 INFO sqlalchemy.engine.Engine [cached since 3.519s ago] {'param_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,210 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,210 INFO sqlalchemy.engine.Engine [cached since 3.514s ago] {'param_1': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,211 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,211 INFO sqlalchemy.engine.Engine [cached since 3.508s ago] {'id': UUID('2c2b1b33-1cee-4295-962a-9f4ccc9dd497')}
2026-02-18 16:24:30,212 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,224 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,224 INFO sqlalchemy.engine.Engine [cached since 4.493s ago] {'id': UUID('544139a2-f9d2-457c-87bd-b16964c066d5'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5731', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,225 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,229 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,229 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,230 INFO sqlalchemy.engine.Engine [cached since 4.488s ago] {'pk_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,234 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,235 INFO sqlalchemy.engine.Engine [cached since 4.503s ago] {'id': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3173', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,236 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,239 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,239 INFO sqlalchemy.engine.Engine [cached since 4.498s ago] {'pk_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,241 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:30,242 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,247 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,247 INFO sqlalchemy.engine.Engine [cached since 3.795s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,250 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,250 INFO sqlalchemy.engine.Engine [cached since 3.794s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,252 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,257 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,257 INFO sqlalchemy.engine.Engine [cached since 4.238s ago] {'id_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19'), 'param_1': 1}
2026-02-18 16:24:30,258 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,259 INFO sqlalchemy.engine.Engine [cached since 3.583s ago] {'param_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,260 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,261 INFO sqlalchemy.engine.Engine [cached since 3.582s ago] {'param_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,262 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,262 INFO sqlalchemy.engine.Engine [cached since 3.573s ago] {'param_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,263 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,263 INFO sqlalchemy.engine.Engine [cached since 3.567s ago] {'param_1': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,264 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,265 INFO sqlalchemy.engine.Engine [cached since 3.562s ago] {'id': UUID('33a1dd8d-ddc7-4eb8-b52f-8962d5cdcc19')}
2026-02-18 16:24:30,268 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,275 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,275 INFO sqlalchemy.engine.Engine [cached since 3.823s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,277 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,277 INFO sqlalchemy.engine.Engine [cached since 3.822s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,280 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,289 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,289 INFO sqlalchemy.engine.Engine [cached since 4.382s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,292 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,292 INFO sqlalchemy.engine.Engine [cached since 4.38s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,299 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,299 INFO sqlalchemy.engine.Engine [cached since 4.392s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,301 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,301 INFO sqlalchemy.engine.Engine [cached since 4.39s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,302 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,307 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,307 INFO sqlalchemy.engine.Engine [cached since 4.288s ago] {'id_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7'), 'param_1': 1}
2026-02-18 16:24:30,309 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,309 INFO sqlalchemy.engine.Engine [cached since 3.741s ago] {'session_id_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,311 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,311 INFO sqlalchemy.engine.Engine [cached since 3.74s ago] {'session_id_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,313 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,314 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,317 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,317 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,317 INFO sqlalchemy.engine.Engine [cached since 4.299s ago] {'id_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22'), 'param_1': 1}
2026-02-18 16:24:30,319 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,320 INFO sqlalchemy.engine.Engine [cached since 3.753s ago] {'session_id_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,322 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,322 INFO sqlalchemy.engine.Engine [cached since 3.752s ago] {'session_id_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,325 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,329 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,330 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,330 INFO sqlalchemy.engine.Engine [cached since 4.598s ago] {'id': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6351', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,331 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,334 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,334 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,335 INFO sqlalchemy.engine.Engine [cached since 4.593s ago] {'pk_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:30,337 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,343 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,345 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,345 INFO sqlalchemy.engine.Engine [cached since 4.613s ago] {'id': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8028', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,347 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,349 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,350 INFO sqlalchemy.engine.Engine [cached since 4.609s ago] {'pk_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,356 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,356 INFO sqlalchemy.engine.Engine [cached since 4.624s ago] {'id': UUID('edf896f0-5678-4752-8a45-c472aadccaa2'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9978', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,358 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,361 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,361 INFO sqlalchemy.engine.Engine [cached since 4.619s ago] {'pk_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,365 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,365 INFO sqlalchemy.engine.Engine [cached since 4.634s ago] {'id': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7025', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,367 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,370 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,370 INFO sqlalchemy.engine.Engine [cached since 4.628s ago] {'pk_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:30,373 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,373 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,374 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,379 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,380 INFO sqlalchemy.engine.Engine [cached since 4.36s ago] {'id_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5'), 'param_1': 1}
2026-02-18 16:24:30,381 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,381 INFO sqlalchemy.engine.Engine [cached since 4.359s ago] {'session_name': 'Updated 9132', 'sessions_id': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,382 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,384 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,385 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,385 INFO sqlalchemy.engine.Engine [cached since 4.644s ago] {'pk_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,390 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,391 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,391 INFO sqlalchemy.engine.Engine [cached since 4.373s ago] {'id_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7'), 'param_1': 1}
2026-02-18 16:24:30,393 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,393 INFO sqlalchemy.engine.Engine [cached since 3.718s ago] {'param_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,394 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,394 INFO sqlalchemy.engine.Engine [cached since 3.716s ago] {'param_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,397 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,397 INFO sqlalchemy.engine.Engine [cached since 3.707s ago] {'param_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,398 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,398 INFO sqlalchemy.engine.Engine [cached since 3.702s ago] {'param_1': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,399 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,400 INFO sqlalchemy.engine.Engine [cached since 3.697s ago] {'id': UUID('0bfe831a-77c9-4438-ae50-ea08fa0dd6e7')}
2026-02-18 16:24:30,401 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,405 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,408 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,408 INFO sqlalchemy.engine.Engine [cached since 4.389s ago] {'id_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07'), 'param_1': 1}
2026-02-18 16:24:30,409 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,410 INFO sqlalchemy.engine.Engine [cached since 4.388s ago] {'session_name': 'Updated 9052', 'sessions_id': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,411 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,414 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,414 INFO sqlalchemy.engine.Engine [cached since 4.672s ago] {'pk_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,420 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,421 INFO sqlalchemy.engine.Engine [cached since 4.401s ago] {'id_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22'), 'param_1': 1}
2026-02-18 16:24:30,422 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,423 INFO sqlalchemy.engine.Engine [cached since 3.747s ago] {'param_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,424 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,424 INFO sqlalchemy.engine.Engine [cached since 3.746s ago] {'param_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,426 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,426 INFO sqlalchemy.engine.Engine [cached since 3.736s ago] {'param_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,427 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,427 INFO sqlalchemy.engine.Engine [cached since 3.731s ago] {'param_1': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,428 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,428 INFO sqlalchemy.engine.Engine [cached since 3.726s ago] {'id': UUID('fbfeeda5-1cdf-4fcb-80de-11719fbcec22')}
2026-02-18 16:24:30,432 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,435 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,439 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,439 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,440 INFO sqlalchemy.engine.Engine [cached since 4.708s ago] {'id': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3794', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,441 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,443 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,443 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,444 INFO sqlalchemy.engine.Engine [cached since 4.702s ago] {'pk_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:30,447 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,452 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,452 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,453 INFO sqlalchemy.engine.Engine [cached since 4.545s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,454 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,454 INFO sqlalchemy.engine.Engine [cached since 4.543s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,457 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,462 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,462 INFO sqlalchemy.engine.Engine [cached since 4.731s ago] {'id': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4529', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,464 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,467 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,467 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,468 INFO sqlalchemy.engine.Engine [cached since 4.726s ago] {'pk_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:30,470 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,475 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,475 INFO sqlalchemy.engine.Engine [cached since 4.567s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,477 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,477 INFO sqlalchemy.engine.Engine [cached since 4.565s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,480 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,483 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,483 INFO sqlalchemy.engine.Engine [cached since 4.576s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,485 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,485 INFO sqlalchemy.engine.Engine [cached since 4.574s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,490 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,492 INFO sqlalchemy.engine.Engine [cached since 4.583s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,493 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,494 INFO sqlalchemy.engine.Engine [cached since 4.582s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,497 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,497 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,508 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,508 INFO sqlalchemy.engine.Engine [cached since 4.6s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,509 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,509 INFO sqlalchemy.engine.Engine [cached since 4.598s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,515 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,520 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,520 INFO sqlalchemy.engine.Engine [cached since 4.612s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,522 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,522 INFO sqlalchemy.engine.Engine [cached since 4.61s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,525 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,528 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,530 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,530 INFO sqlalchemy.engine.Engine [cached since 4.511s ago] {'id_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274'), 'param_1': 1}
2026-02-18 16:24:30,533 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,533 INFO sqlalchemy.engine.Engine [cached since 4.511s ago] {'session_name': 'Updated 6330', 'sessions_id': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:30,534 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,537 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,537 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,538 INFO sqlalchemy.engine.Engine [cached since 4.796s ago] {'pk_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,547 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,559 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,559 INFO sqlalchemy.engine.Engine [cached since 4.54s ago] {'id_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660'), 'param_1': 1}
2026-02-18 16:24:30,561 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,561 INFO sqlalchemy.engine.Engine [cached since 4.54s ago] {'session_name': 'Updated 5325', 'sessions_id': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:30,562 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,566 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,566 INFO sqlalchemy.engine.Engine [cached since 4.824s ago] {'pk_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:30,569 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,576 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,576 INFO sqlalchemy.engine.Engine [cached since 4.558s ago] {'id_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34'), 'param_1': 1}
2026-02-18 16:24:30,578 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,578 INFO sqlalchemy.engine.Engine [cached since 4.557s ago] {'session_name': 'Updated 3867', 'sessions_id': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:30,579 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,581 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,582 INFO sqlalchemy.engine.Engine [cached since 4.84s ago] {'pk_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,586 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,587 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,587 INFO sqlalchemy.engine.Engine [cached since 4.568s ago] {'id_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2'), 'param_1': 1}
2026-02-18 16:24:30,589 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,589 INFO sqlalchemy.engine.Engine [cached since 4.568s ago] {'session_name': 'Updated 6988', 'sessions_id': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:30,591 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,593 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,593 INFO sqlalchemy.engine.Engine [cached since 4.852s ago] {'pk_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:30,598 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,598 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,604 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,605 INFO sqlalchemy.engine.Engine [cached since 4.873s ago] {'id': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6420', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,607 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,610 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,610 INFO sqlalchemy.engine.Engine [cached since 4.868s ago] {'pk_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,615 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,615 INFO sqlalchemy.engine.Engine [cached since 4.596s ago] {'id_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144'), 'param_1': 1}
2026-02-18 16:24:30,616 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,617 INFO sqlalchemy.engine.Engine [cached since 4.595s ago] {'session_name': 'Updated 2773', 'sessions_id': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:30,618 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,623 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,623 INFO sqlalchemy.engine.Engine [cached since 4.881s ago] {'pk_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:30,625 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,629 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:30,629 INFO sqlalchemy.engine.Engine [cached since 4.898s ago] {'id': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4104', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:30,630 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,633 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,633 INFO sqlalchemy.engine.Engine [cached since 4.892s ago] {'pk_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:30,636 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,640 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,644 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,644 INFO sqlalchemy.engine.Engine [cached since 4.625s ago] {'id_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56'), 'param_1': 1}
2026-02-18 16:24:30,645 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,646 INFO sqlalchemy.engine.Engine [cached since 4.623s ago] {'session_name': 'Updated 3184', 'sessions_id': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:30,646 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,649 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,649 INFO sqlalchemy.engine.Engine [cached since 4.907s ago] {'pk_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:30,653 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,664 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,664 INFO sqlalchemy.engine.Engine [cached since 4.212s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,666 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,666 INFO sqlalchemy.engine.Engine [cached since 4.211s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,670 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,675 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,676 INFO sqlalchemy.engine.Engine [cached since 4.224s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,677 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,677 INFO sqlalchemy.engine.Engine [cached since 4.222s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:30,682 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,687 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,689 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,689 INFO sqlalchemy.engine.Engine [cached since 4.781s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,690 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,691 INFO sqlalchemy.engine.Engine [cached since 4.779s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,695 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,703 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,704 INFO sqlalchemy.engine.Engine [cached since 4.795s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,705 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,705 INFO sqlalchemy.engine.Engine [cached since 4.794s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,748 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,773 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,774 INFO sqlalchemy.engine.Engine [cached since 4.754s ago] {'id_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5'), 'param_1': 1}
2026-02-18 16:24:30,776 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,777 INFO sqlalchemy.engine.Engine [cached since 4.209s ago] {'session_id_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,778 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,779 INFO sqlalchemy.engine.Engine [cached since 4.208s ago] {'session_id_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,781 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,788 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,789 INFO sqlalchemy.engine.Engine [cached since 4.77s ago] {'id_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07'), 'param_1': 1}
2026-02-18 16:24:30,791 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,791 INFO sqlalchemy.engine.Engine [cached since 4.224s ago] {'session_id_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,793 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,793 INFO sqlalchemy.engine.Engine [cached since 4.223s ago] {'session_id_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,796 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,808 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,808 INFO sqlalchemy.engine.Engine [cached since 4.789s ago] {'id_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd'), 'param_1': 1}
2026-02-18 16:24:30,810 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,810 INFO sqlalchemy.engine.Engine [cached since 4.788s ago] {'session_name': 'Updated 7269', 'sessions_id': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:30,811 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,814 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,814 INFO sqlalchemy.engine.Engine [cached since 5.073s ago] {'pk_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:30,818 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,823 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,824 INFO sqlalchemy.engine.Engine [cached since 4.372s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,826 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,827 INFO sqlalchemy.engine.Engine [cached since 4.371s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,830 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,833 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,834 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,834 INFO sqlalchemy.engine.Engine [cached since 4.815s ago] {'id_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3'), 'param_1': 1}
2026-02-18 16:24:30,835 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:30,836 INFO sqlalchemy.engine.Engine [cached since 4.814s ago] {'session_name': 'Updated 9500', 'sessions_id': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:30,837 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:30,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,842 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:30,842 INFO sqlalchemy.engine.Engine [cached since 5.1s ago] {'pk_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:30,846 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,849 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,849 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,850 INFO sqlalchemy.engine.Engine [cached since 4.398s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,852 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,852 INFO sqlalchemy.engine.Engine [cached since 4.396s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,856 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,860 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,860 INFO sqlalchemy.engine.Engine [cached since 4.841s ago] {'id_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5'), 'param_1': 1}
2026-02-18 16:24:30,861 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,862 INFO sqlalchemy.engine.Engine [cached since 4.186s ago] {'param_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,863 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,863 INFO sqlalchemy.engine.Engine [cached since 4.185s ago] {'param_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,865 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,865 INFO sqlalchemy.engine.Engine [cached since 4.176s ago] {'param_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,866 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,867 INFO sqlalchemy.engine.Engine [cached since 4.171s ago] {'param_1': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,868 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,868 INFO sqlalchemy.engine.Engine [cached since 4.165s ago] {'id': UUID('544139a2-f9d2-457c-87bd-b16964c066d5')}
2026-02-18 16:24:30,870 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,877 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,877 INFO sqlalchemy.engine.Engine [cached since 4.859s ago] {'id_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07'), 'param_1': 1}
2026-02-18 16:24:30,880 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:30,880 INFO sqlalchemy.engine.Engine [cached since 4.204s ago] {'param_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,881 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:30,881 INFO sqlalchemy.engine.Engine [cached since 4.203s ago] {'param_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,882 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:30,883 INFO sqlalchemy.engine.Engine [cached since 4.194s ago] {'param_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,884 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:30,885 INFO sqlalchemy.engine.Engine [cached since 4.188s ago] {'param_1': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,886 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:30,886 INFO sqlalchemy.engine.Engine [cached since 4.183s ago] {'id': UUID('aa0fd98d-5033-45d0-93dc-6ec48847fc07')}
2026-02-18 16:24:30,888 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,898 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,898 INFO sqlalchemy.engine.Engine [cached since 4.446s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,901 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,901 INFO sqlalchemy.engine.Engine [cached since 4.445s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,906 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,906 INFO sqlalchemy.engine.Engine [cached since 4.455s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,908 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,908 INFO sqlalchemy.engine.Engine [cached since 4.453s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,913 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,913 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,922 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,922 INFO sqlalchemy.engine.Engine [cached since 4.47s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,924 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,924 INFO sqlalchemy.engine.Engine [cached since 4.469s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,928 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,929 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,929 INFO sqlalchemy.engine.Engine [cached since 4.91s ago] {'id_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274'), 'param_1': 1}
2026-02-18 16:24:30,931 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,931 INFO sqlalchemy.engine.Engine [cached since 4.364s ago] {'session_id_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:30,933 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,933 INFO sqlalchemy.engine.Engine [cached since 4.363s ago] {'session_id_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,936 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:30,936 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,942 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,942 INFO sqlalchemy.engine.Engine [cached since 4.49s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:30,944 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,945 INFO sqlalchemy.engine.Engine [cached since 4.489s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:30,948 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,952 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,952 INFO sqlalchemy.engine.Engine [cached since 4.933s ago] {'id_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660'), 'param_1': 1}
2026-02-18 16:24:30,954 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,955 INFO sqlalchemy.engine.Engine [cached since 4.387s ago] {'session_id_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:30,956 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,956 INFO sqlalchemy.engine.Engine [cached since 4.386s ago] {'session_id_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:30,958 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,970 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,971 INFO sqlalchemy.engine.Engine [cached since 4.952s ago] {'id_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2'), 'param_1': 1}
2026-02-18 16:24:30,973 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,973 INFO sqlalchemy.engine.Engine [cached since 4.405s ago] {'session_id_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:30,974 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,974 INFO sqlalchemy.engine.Engine [cached since 4.404s ago] {'session_id_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:30,979 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:30,979 INFO sqlalchemy.engine.Engine [cached since 4.96s ago] {'id_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34'), 'param_1': 1}
2026-02-18 16:24:30,980 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:30,981 INFO sqlalchemy.engine.Engine [cached since 4.413s ago] {'session_id_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:30,982 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:30,982 INFO sqlalchemy.engine.Engine [cached since 4.412s ago] {'session_id_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:30,989 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:30,990 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,000 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,001 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,001 INFO sqlalchemy.engine.Engine [cached since 4.982s ago] {'id_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274'), 'param_1': 1}
2026-02-18 16:24:31,004 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,005 INFO sqlalchemy.engine.Engine [cached since 4.33s ago] {'param_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:31,006 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,008 INFO sqlalchemy.engine.Engine [cached since 4.329s ago] {'param_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:31,011 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,012 INFO sqlalchemy.engine.Engine [cached since 4.322s ago] {'param_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:31,013 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,014 INFO sqlalchemy.engine.Engine [cached since 4.318s ago] {'param_1': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:31,016 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,016 INFO sqlalchemy.engine.Engine [cached since 4.313s ago] {'id': UUID('ba42d2f7-eb50-441f-a975-c1f89626a274')}
2026-02-18 16:24:31,017 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,024 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,024 INFO sqlalchemy.engine.Engine [cached since 5.005s ago] {'id_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144'), 'param_1': 1}
2026-02-18 16:24:31,027 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,027 INFO sqlalchemy.engine.Engine [cached since 4.46s ago] {'session_id_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,028 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,029 INFO sqlalchemy.engine.Engine [cached since 4.459s ago] {'session_id_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,032 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,033 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,033 INFO sqlalchemy.engine.Engine [cached since 5.015s ago] {'id_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56'), 'param_1': 1}
2026-02-18 16:24:31,036 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,036 INFO sqlalchemy.engine.Engine [cached since 4.468s ago] {'session_id_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,037 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,038 INFO sqlalchemy.engine.Engine [cached since 4.467s ago] {'session_id_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:31,040 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,041 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,050 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,050 INFO sqlalchemy.engine.Engine [cached since 5.031s ago] {'id_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660'), 'param_1': 1}
2026-02-18 16:24:31,052 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,052 INFO sqlalchemy.engine.Engine [cached since 4.377s ago] {'param_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:31,053 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,054 INFO sqlalchemy.engine.Engine [cached since 4.375s ago] {'param_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:31,056 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,057 INFO sqlalchemy.engine.Engine [cached since 4.367s ago] {'param_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:31,058 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,058 INFO sqlalchemy.engine.Engine [cached since 4.362s ago] {'param_1': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:31,060 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,060 INFO sqlalchemy.engine.Engine [cached since 4.357s ago] {'id': UUID('22e099fc-841e-44fa-bf6d-fe740f8b0660')}
2026-02-18 16:24:31,061 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,073 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,073 INFO sqlalchemy.engine.Engine [cached since 5.342s ago] {'id': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9867', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,074 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,078 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,078 INFO sqlalchemy.engine.Engine [cached since 5.337s ago] {'pk_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,083 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,083 INFO sqlalchemy.engine.Engine [cached since 5.352s ago] {'id': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9493', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,085 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,087 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,089 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,089 INFO sqlalchemy.engine.Engine [cached since 5.347s ago] {'pk_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,093 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,093 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,098 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,099 INFO sqlalchemy.engine.Engine [cached since 5.079s ago] {'id_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2'), 'param_1': 1}
2026-02-18 16:24:31,100 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,101 INFO sqlalchemy.engine.Engine [cached since 4.425s ago] {'param_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:31,102 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,102 INFO sqlalchemy.engine.Engine [cached since 4.424s ago] {'param_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:31,105 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,105 INFO sqlalchemy.engine.Engine [cached since 4.416s ago] {'param_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:31,106 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,107 INFO sqlalchemy.engine.Engine [cached since 4.411s ago] {'param_1': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:31,109 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,109 INFO sqlalchemy.engine.Engine [cached since 4.405s ago] {'id': UUID('edf896f0-5678-4752-8a45-c472aadccaa2')}
2026-02-18 16:24:31,110 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,116 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,116 INFO sqlalchemy.engine.Engine [cached since 5.097s ago] {'id_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34'), 'param_1': 1}
2026-02-18 16:24:31,118 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,118 INFO sqlalchemy.engine.Engine [cached since 4.444s ago] {'param_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:31,121 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,121 INFO sqlalchemy.engine.Engine [cached since 4.443s ago] {'param_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:31,123 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,124 INFO sqlalchemy.engine.Engine [cached since 4.434s ago] {'param_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:31,125 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,125 INFO sqlalchemy.engine.Engine [cached since 4.429s ago] {'param_1': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:31,126 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,127 INFO sqlalchemy.engine.Engine [cached since 4.423s ago] {'id': UUID('f4cbfd91-b7da-402e-8888-4002aa385f34')}
2026-02-18 16:24:31,129 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,137 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,138 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,138 INFO sqlalchemy.engine.Engine [cached since 4.687s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,141 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,141 INFO sqlalchemy.engine.Engine [cached since 4.685s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,144 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,150 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,150 INFO sqlalchemy.engine.Engine [cached since 5.131s ago] {'id_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144'), 'param_1': 1}
2026-02-18 16:24:31,152 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,152 INFO sqlalchemy.engine.Engine [cached since 4.477s ago] {'param_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,154 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,154 INFO sqlalchemy.engine.Engine [cached since 4.476s ago] {'param_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,156 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,156 INFO sqlalchemy.engine.Engine [cached since 4.467s ago] {'param_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,157 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,157 INFO sqlalchemy.engine.Engine [cached since 4.461s ago] {'param_1': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,158 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,158 INFO sqlalchemy.engine.Engine [cached since 4.456s ago] {'id': UUID('e04fc74f-b7a0-427f-b154-2630dc9d5144')}
2026-02-18 16:24:31,161 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,167 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,167 INFO sqlalchemy.engine.Engine [cached since 5.148s ago] {'id_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56'), 'param_1': 1}
2026-02-18 16:24:31,170 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,170 INFO sqlalchemy.engine.Engine [cached since 4.495s ago] {'param_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,172 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,172 INFO sqlalchemy.engine.Engine [cached since 4.494s ago] {'param_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,173 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,174 INFO sqlalchemy.engine.Engine [cached since 4.485s ago] {'param_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,175 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,175 INFO sqlalchemy.engine.Engine [cached since 4.48s ago] {'param_1': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,177 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,177 INFO sqlalchemy.engine.Engine [cached since 4.474s ago] {'id': UUID('a5a47031-0a34-4f82-addb-1e590f3a4a56')}
2026-02-18 16:24:31,180 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,190 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,190 INFO sqlalchemy.engine.Engine [cached since 4.738s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,193 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,193 INFO sqlalchemy.engine.Engine [cached since 4.738s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,198 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,206 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,206 INFO sqlalchemy.engine.Engine [cached since 5.298s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,207 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,208 INFO sqlalchemy.engine.Engine [cached since 5.297s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,216 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,216 INFO sqlalchemy.engine.Engine [cached since 5.308s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,217 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,218 INFO sqlalchemy.engine.Engine [cached since 5.306s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:31,220 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,223 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,223 INFO sqlalchemy.engine.Engine [cached since 5.492s ago] {'id': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6440', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,225 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,229 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,229 INFO sqlalchemy.engine.Engine [cached since 5.487s ago] {'pk_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,231 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:31,232 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,235 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,235 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,235 INFO sqlalchemy.engine.Engine [cached since 5.504s ago] {'id': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8233', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,237 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,240 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,241 INFO sqlalchemy.engine.Engine [cached since 5.499s ago] {'pk_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,243 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,246 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,246 INFO sqlalchemy.engine.Engine [cached since 5.228s ago] {'id_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd'), 'param_1': 1}
2026-02-18 16:24:31,248 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,248 INFO sqlalchemy.engine.Engine [cached since 4.681s ago] {'session_id_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,251 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,251 INFO sqlalchemy.engine.Engine [cached since 4.68s ago] {'session_id_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:31,253 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,261 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,261 INFO sqlalchemy.engine.Engine [cached since 5.242s ago] {'id_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3'), 'param_1': 1}
2026-02-18 16:24:31,263 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,263 INFO sqlalchemy.engine.Engine [cached since 4.695s ago] {'session_id_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,264 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,264 INFO sqlalchemy.engine.Engine [cached since 4.694s ago] {'session_id_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:31,267 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,274 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,274 INFO sqlalchemy.engine.Engine [cached since 5.367s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,276 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,277 INFO sqlalchemy.engine.Engine [cached since 5.365s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,279 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,283 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,283 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,284 INFO sqlalchemy.engine.Engine [cached since 5.264s ago] {'id_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72'), 'param_1': 1}
2026-02-18 16:24:31,285 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,286 INFO sqlalchemy.engine.Engine [cached since 5.264s ago] {'session_name': 'Updated 3695', 'sessions_id': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,286 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,291 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,291 INFO sqlalchemy.engine.Engine [cached since 5.549s ago] {'pk_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,296 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,297 INFO sqlalchemy.engine.Engine [cached since 5.277s ago] {'id_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3'), 'param_1': 1}
2026-02-18 16:24:31,298 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,298 INFO sqlalchemy.engine.Engine [cached since 5.277s ago] {'session_name': 'Updated 5301', 'sessions_id': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,300 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,303 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,303 INFO sqlalchemy.engine.Engine [cached since 5.561s ago] {'pk_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,308 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:31,308 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,311 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,311 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,312 INFO sqlalchemy.engine.Engine [cached since 5.404s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,313 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,314 INFO sqlalchemy.engine.Engine [cached since 5.403s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,317 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,321 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,322 INFO sqlalchemy.engine.Engine [cached since 5.303s ago] {'id_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd'), 'param_1': 1}
2026-02-18 16:24:31,323 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,324 INFO sqlalchemy.engine.Engine [cached since 4.649s ago] {'param_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,325 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,326 INFO sqlalchemy.engine.Engine [cached since 4.647s ago] {'param_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,327 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,327 INFO sqlalchemy.engine.Engine [cached since 4.638s ago] {'param_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,329 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,330 INFO sqlalchemy.engine.Engine [cached since 4.633s ago] {'param_1': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,331 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,331 INFO sqlalchemy.engine.Engine [cached since 4.628s ago] {'id': UUID('4e969dc9-aeef-4b28-a263-a30fb2f67afd')}
2026-02-18 16:24:31,332 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,342 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,342 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,343 INFO sqlalchemy.engine.Engine [cached since 5.324s ago] {'id_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3'), 'param_1': 1}
2026-02-18 16:24:31,344 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,345 INFO sqlalchemy.engine.Engine [cached since 4.669s ago] {'param_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,346 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,346 INFO sqlalchemy.engine.Engine [cached since 4.668s ago] {'param_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,348 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,348 INFO sqlalchemy.engine.Engine [cached since 4.659s ago] {'param_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,350 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,350 INFO sqlalchemy.engine.Engine [cached since 4.654s ago] {'param_1': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,351 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,352 INFO sqlalchemy.engine.Engine [cached since 4.648s ago] {'id': UUID('d7bf5c9b-b09d-401e-870d-62393a9767e3')}
2026-02-18 16:24:31,355 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,361 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,361 INFO sqlalchemy.engine.Engine [cached since 5.629s ago] {'id': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7239', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,362 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,365 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,365 INFO sqlalchemy.engine.Engine [cached since 5.623s ago] {'pk_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,369 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,369 INFO sqlalchemy.engine.Engine [cached since 5.638s ago] {'id': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9991', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,371 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,374 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,374 INFO sqlalchemy.engine.Engine [cached since 5.633s ago] {'pk_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,378 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,379 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,380 INFO sqlalchemy.engine.Engine [cached since 5.647s ago] {'id': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5098', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,381 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,384 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,384 INFO sqlalchemy.engine.Engine [cached since 5.642s ago] {'pk_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,387 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,389 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,389 INFO sqlalchemy.engine.Engine [cached since 5.657s ago] {'id': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 9766', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,390 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,393 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,393 INFO sqlalchemy.engine.Engine [cached since 5.651s ago] {'pk_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:31,395 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,396 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,396 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,396 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,409 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,409 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,410 INFO sqlalchemy.engine.Engine [cached since 5.39s ago] {'id_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a'), 'param_1': 1}
2026-02-18 16:24:31,412 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,412 INFO sqlalchemy.engine.Engine [cached since 5.39s ago] {'session_name': 'Updated 1221', 'sessions_id': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,413 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,416 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,417 INFO sqlalchemy.engine.Engine [cached since 5.675s ago] {'pk_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,419 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,427 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,427 INFO sqlalchemy.engine.Engine [cached since 5.408s ago] {'id_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d'), 'param_1': 1}
2026-02-18 16:24:31,429 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,430 INFO sqlalchemy.engine.Engine [cached since 5.408s ago] {'session_name': 'Updated 2352', 'sessions_id': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,431 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,434 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,434 INFO sqlalchemy.engine.Engine [cached since 5.693s ago] {'pk_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,439 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,444 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,444 INFO sqlalchemy.engine.Engine [cached since 5.536s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,445 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,446 INFO sqlalchemy.engine.Engine [cached since 5.535s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,451 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,451 INFO sqlalchemy.engine.Engine [cached since 5.545s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,454 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,454 INFO sqlalchemy.engine.Engine [cached since 5.544s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:31,464 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,466 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,466 INFO sqlalchemy.engine.Engine [cached since 5.559s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,468 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,468 INFO sqlalchemy.engine.Engine [cached since 5.557s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,472 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,475 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,475 INFO sqlalchemy.engine.Engine [cached since 5.568s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,477 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,477 INFO sqlalchemy.engine.Engine [cached since 5.566s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,480 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,481 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,501 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,502 INFO sqlalchemy.engine.Engine [cached since 5.483s ago] {'id_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4'), 'param_1': 1}
2026-02-18 16:24:31,503 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,504 INFO sqlalchemy.engine.Engine [cached since 5.482s ago] {'session_name': 'Updated 7649', 'sessions_id': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:31,506 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,510 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,510 INFO sqlalchemy.engine.Engine [cached since 5.768s ago] {'pk_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,519 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,519 INFO sqlalchemy.engine.Engine [cached since 5.5s ago] {'id_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba'), 'param_1': 1}
2026-02-18 16:24:31,521 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,522 INFO sqlalchemy.engine.Engine [cached since 5.5s ago] {'session_name': 'Updated 6138', 'sessions_id': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:31,523 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,526 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,527 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,527 INFO sqlalchemy.engine.Engine [cached since 5.785s ago] {'pk_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:31,530 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,531 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,535 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,536 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,536 INFO sqlalchemy.engine.Engine [cached since 5.518s ago] {'id_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75'), 'param_1': 1}
2026-02-18 16:24:31,539 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,540 INFO sqlalchemy.engine.Engine [cached since 5.518s ago] {'session_name': 'Updated 6795', 'sessions_id': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:31,541 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,544 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,545 INFO sqlalchemy.engine.Engine [cached since 5.803s ago] {'pk_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,550 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,551 INFO sqlalchemy.engine.Engine [cached since 5.531s ago] {'id_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc'), 'param_1': 1}
2026-02-18 16:24:31,553 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,553 INFO sqlalchemy.engine.Engine [cached since 5.531s ago] {'session_name': 'Updated 8310', 'sessions_id': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:31,555 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,559 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,559 INFO sqlalchemy.engine.Engine [cached since 5.818s ago] {'pk_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:31,563 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:31,563 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,567 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,567 INFO sqlalchemy.engine.Engine [cached since 5.115s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,570 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,570 INFO sqlalchemy.engine.Engine [cached since 5.114s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,575 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,579 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,580 INFO sqlalchemy.engine.Engine [cached since 5.128s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,582 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,582 INFO sqlalchemy.engine.Engine [cached since 5.127s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,587 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,591 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,591 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,592 INFO sqlalchemy.engine.Engine [cached since 5.861s ago] {'id': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6685', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,593 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,597 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,597 INFO sqlalchemy.engine.Engine [cached since 5.856s ago] {'pk_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,602 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:31,603 INFO sqlalchemy.engine.Engine [cached since 5.871s ago] {'id': UUID('358f0442-969b-425a-ba4c-587417f90267'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3253', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:31,604 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,608 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,608 INFO sqlalchemy.engine.Engine [cached since 5.866s ago] {'pk_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:31,610 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,610 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,631 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,632 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,632 INFO sqlalchemy.engine.Engine [cached since 5.613s ago] {'id_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3'), 'param_1': 1}
2026-02-18 16:24:31,634 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,634 INFO sqlalchemy.engine.Engine [cached since 5.067s ago] {'session_id_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,636 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,636 INFO sqlalchemy.engine.Engine [cached since 5.066s ago] {'session_id_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:31,640 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,644 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,645 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,646 INFO sqlalchemy.engine.Engine [cached since 5.627s ago] {'id_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72'), 'param_1': 1}
2026-02-18 16:24:31,649 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,649 INFO sqlalchemy.engine.Engine [cached since 5.081s ago] {'session_id_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,650 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,651 INFO sqlalchemy.engine.Engine [cached since 5.08s ago] {'session_id_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,656 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,656 INFO sqlalchemy.engine.Engine [cached since 5.204s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,658 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,658 INFO sqlalchemy.engine.Engine [cached since 5.203s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,662 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,662 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,668 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,668 INFO sqlalchemy.engine.Engine [cached since 5.76s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,670 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,670 INFO sqlalchemy.engine.Engine [cached since 5.758s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,675 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,676 INFO sqlalchemy.engine.Engine [cached since 5.768s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,677 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,678 INFO sqlalchemy.engine.Engine [cached since 5.767s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,683 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,684 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,699 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,701 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,702 INFO sqlalchemy.engine.Engine [cached since 5.25s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,708 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,709 INFO sqlalchemy.engine.Engine [cached since 5.254s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,741 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,784 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,784 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,785 INFO sqlalchemy.engine.Engine [cached since 5.765s ago] {'id_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3'), 'param_1': 1}
2026-02-18 16:24:31,787 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,787 INFO sqlalchemy.engine.Engine [cached since 5.112s ago] {'param_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,790 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,791 INFO sqlalchemy.engine.Engine [cached since 5.112s ago] {'param_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,792 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,793 INFO sqlalchemy.engine.Engine [cached since 5.103s ago] {'param_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,794 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,794 INFO sqlalchemy.engine.Engine [cached since 5.098s ago] {'param_1': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,796 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,796 INFO sqlalchemy.engine.Engine [cached since 5.093s ago] {'id': UUID('5d86a5a8-d802-4461-a5ae-66df078d2cf3')}
2026-02-18 16:24:31,798 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,808 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,808 INFO sqlalchemy.engine.Engine [cached since 5.789s ago] {'id_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72'), 'param_1': 1}
2026-02-18 16:24:31,810 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,810 INFO sqlalchemy.engine.Engine [cached since 5.135s ago] {'param_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,812 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,812 INFO sqlalchemy.engine.Engine [cached since 5.134s ago] {'param_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,814 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,814 INFO sqlalchemy.engine.Engine [cached since 5.125s ago] {'param_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,816 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,816 INFO sqlalchemy.engine.Engine [cached since 5.12s ago] {'param_1': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,818 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,818 INFO sqlalchemy.engine.Engine [cached since 5.115s ago] {'id': UUID('2ec62ed3-e30b-4490-bc36-37d9e77e5f72')}
2026-02-18 16:24:31,820 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,826 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,827 INFO sqlalchemy.engine.Engine [cached since 5.808s ago] {'id_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a'), 'param_1': 1}
2026-02-18 16:24:31,829 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,829 INFO sqlalchemy.engine.Engine [cached since 5.261s ago] {'session_id_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,831 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,831 INFO sqlalchemy.engine.Engine [cached since 5.26s ago] {'session_id_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:31,835 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,843 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,843 INFO sqlalchemy.engine.Engine [cached since 5.824s ago] {'id_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d'), 'param_1': 1}
2026-02-18 16:24:31,844 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,844 INFO sqlalchemy.engine.Engine [cached since 5.277s ago] {'session_id_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,846 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,846 INFO sqlalchemy.engine.Engine [cached since 5.276s ago] {'session_id_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,853 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,853 INFO sqlalchemy.engine.Engine [cached since 5.834s ago] {'id_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f'), 'param_1': 1}
2026-02-18 16:24:31,856 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,856 INFO sqlalchemy.engine.Engine [cached since 5.834s ago] {'session_name': 'Updated 9762', 'sessions_id': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:31,858 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,861 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,861 INFO sqlalchemy.engine.Engine [cached since 6.12s ago] {'pk_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:31,866 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,870 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,871 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,871 INFO sqlalchemy.engine.Engine [cached since 5.852s ago] {'id_1': UUID('358f0442-969b-425a-ba4c-587417f90267'), 'param_1': 1}
2026-02-18 16:24:31,872 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:31,873 INFO sqlalchemy.engine.Engine [cached since 5.851s ago] {'session_name': 'Updated 4775', 'sessions_id': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:31,874 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:31,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,878 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:31,878 INFO sqlalchemy.engine.Engine [cached since 6.137s ago] {'pk_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:31,881 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,883 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,893 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,894 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,894 INFO sqlalchemy.engine.Engine [cached since 5.442s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,897 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,898 INFO sqlalchemy.engine.Engine [cached since 5.442s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,908 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,909 INFO sqlalchemy.engine.Engine [cached since 5.457s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,914 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,915 INFO sqlalchemy.engine.Engine [cached since 5.459s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,918 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,924 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,924 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,924 INFO sqlalchemy.engine.Engine [cached since 5.472s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,928 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,928 INFO sqlalchemy.engine.Engine [cached since 5.473s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,935 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:31,935 INFO sqlalchemy.engine.Engine [cached since 5.483s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:31,938 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:31,938 INFO sqlalchemy.engine.Engine [cached since 5.483s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:31,942 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,945 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:31,945 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,951 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,951 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,951 INFO sqlalchemy.engine.Engine [cached since 5.932s ago] {'id_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a'), 'param_1': 1}
2026-02-18 16:24:31,954 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,954 INFO sqlalchemy.engine.Engine [cached since 5.278s ago] {'param_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,956 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,957 INFO sqlalchemy.engine.Engine [cached since 5.278s ago] {'param_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,958 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,959 INFO sqlalchemy.engine.Engine [cached since 5.269s ago] {'param_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,961 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,961 INFO sqlalchemy.engine.Engine [cached since 5.265s ago] {'param_1': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,964 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,965 INFO sqlalchemy.engine.Engine [cached since 5.261s ago] {'id': UUID('5e96aecc-88fc-4127-af5e-b0c94721434a')}
2026-02-18 16:24:31,968 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:31,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:31,982 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:31,982 INFO sqlalchemy.engine.Engine [cached since 5.962s ago] {'id_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d'), 'param_1': 1}
2026-02-18 16:24:31,984 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:31,984 INFO sqlalchemy.engine.Engine [cached since 5.308s ago] {'param_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,985 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:31,985 INFO sqlalchemy.engine.Engine [cached since 5.307s ago] {'param_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,988 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:31,989 INFO sqlalchemy.engine.Engine [cached since 5.3s ago] {'param_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,991 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:31,992 INFO sqlalchemy.engine.Engine [cached since 5.295s ago] {'param_1': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,993 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:31,993 INFO sqlalchemy.engine.Engine [cached since 5.29s ago] {'id': UUID('6c6cbc3a-c4a4-4579-8476-88aac4f3304d')}
2026-02-18 16:24:31,995 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,010 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,010 INFO sqlalchemy.engine.Engine [cached since 6.278s ago] {'id': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4983', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,013 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,017 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,017 INFO sqlalchemy.engine.Engine [cached since 6.275s ago] {'pk_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,023 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,030 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,031 INFO sqlalchemy.engine.Engine [cached since 6.012s ago] {'id_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba'), 'param_1': 1}
2026-02-18 16:24:32,033 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,033 INFO sqlalchemy.engine.Engine [cached since 5.465s ago] {'session_id_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,035 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,036 INFO sqlalchemy.engine.Engine [cached since 5.465s ago] {'session_id_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,041 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,041 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,041 INFO sqlalchemy.engine.Engine [cached since 6.022s ago] {'id_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4'), 'param_1': 1}
2026-02-18 16:24:32,044 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,045 INFO sqlalchemy.engine.Engine [cached since 5.477s ago] {'session_id_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,046 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,047 INFO sqlalchemy.engine.Engine [cached since 5.477s ago] {'session_id_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,050 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,055 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,055 INFO sqlalchemy.engine.Engine [cached since 6.323s ago] {'id': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3686', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,058 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,061 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,061 INFO sqlalchemy.engine.Engine [cached since 6.319s ago] {'pk_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,064 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,066 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,069 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,070 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,070 INFO sqlalchemy.engine.Engine [cached since 6.05s ago] {'id_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc'), 'param_1': 1}
2026-02-18 16:24:32,072 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,072 INFO sqlalchemy.engine.Engine [cached since 5.505s ago] {'session_id_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,073 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,074 INFO sqlalchemy.engine.Engine [cached since 5.503s ago] {'session_id_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,079 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,079 INFO sqlalchemy.engine.Engine [cached since 6.06s ago] {'id_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75'), 'param_1': 1}
2026-02-18 16:24:32,082 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,083 INFO sqlalchemy.engine.Engine [cached since 5.515s ago] {'session_id_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,084 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,084 INFO sqlalchemy.engine.Engine [cached since 5.514s ago] {'session_id_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,085 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,086 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,100 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,100 INFO sqlalchemy.engine.Engine [cached since 6.192s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,101 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,102 INFO sqlalchemy.engine.Engine [cached since 6.191s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,105 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,114 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,115 INFO sqlalchemy.engine.Engine [cached since 6.096s ago] {'id_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba'), 'param_1': 1}
2026-02-18 16:24:32,116 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,117 INFO sqlalchemy.engine.Engine [cached since 5.441s ago] {'param_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,118 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,118 INFO sqlalchemy.engine.Engine [cached since 5.44s ago] {'param_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,120 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,121 INFO sqlalchemy.engine.Engine [cached since 5.431s ago] {'param_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,122 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,123 INFO sqlalchemy.engine.Engine [cached since 5.426s ago] {'param_1': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,124 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,125 INFO sqlalchemy.engine.Engine [cached since 5.421s ago] {'id': UUID('96a689de-b3a4-4e81-9715-7de04e3a33ba')}
2026-02-18 16:24:32,129 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,135 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,135 INFO sqlalchemy.engine.Engine [cached since 6.116s ago] {'id_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4'), 'param_1': 1}
2026-02-18 16:24:32,137 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,137 INFO sqlalchemy.engine.Engine [cached since 5.462s ago] {'param_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,139 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,139 INFO sqlalchemy.engine.Engine [cached since 5.461s ago] {'param_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,141 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,143 INFO sqlalchemy.engine.Engine [cached since 5.453s ago] {'param_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,143 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,144 INFO sqlalchemy.engine.Engine [cached since 5.448s ago] {'param_1': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,145 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,146 INFO sqlalchemy.engine.Engine [cached since 5.442s ago] {'id': UUID('708f0f17-94d2-40b0-bc5e-f2b1bc8120c4')}
2026-02-18 16:24:32,148 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,155 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,155 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,155 INFO sqlalchemy.engine.Engine [cached since 6.248s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,158 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,158 INFO sqlalchemy.engine.Engine [cached since 6.247s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,163 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,168 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,168 INFO sqlalchemy.engine.Engine [cached since 6.149s ago] {'id_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75'), 'param_1': 1}
2026-02-18 16:24:32,170 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,170 INFO sqlalchemy.engine.Engine [cached since 5.495s ago] {'param_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,171 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,172 INFO sqlalchemy.engine.Engine [cached since 5.494s ago] {'param_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,174 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,174 INFO sqlalchemy.engine.Engine [cached since 5.485s ago] {'param_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,175 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,175 INFO sqlalchemy.engine.Engine [cached since 5.48s ago] {'param_1': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,178 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,178 INFO sqlalchemy.engine.Engine [cached since 5.475s ago] {'id': UUID('bb886efd-6a39-43bf-b7ab-39c600eaec75')}
2026-02-18 16:24:32,180 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,185 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,185 INFO sqlalchemy.engine.Engine [cached since 6.166s ago] {'id_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc'), 'param_1': 1}
2026-02-18 16:24:32,187 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,188 INFO sqlalchemy.engine.Engine [cached since 5.513s ago] {'param_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,191 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,192 INFO sqlalchemy.engine.Engine [cached since 5.514s ago] {'param_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,197 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,197 INFO sqlalchemy.engine.Engine [cached since 5.508s ago] {'param_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,199 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,199 INFO sqlalchemy.engine.Engine [cached since 5.503s ago] {'param_1': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,201 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,201 INFO sqlalchemy.engine.Engine [cached since 5.498s ago] {'id': UUID('61354204-7006-4e4f-9e2a-5e1145be30dc')}
2026-02-18 16:24:32,204 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,215 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,215 INFO sqlalchemy.engine.Engine [cached since 6.483s ago] {'id': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2040', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,217 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,221 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,222 INFO sqlalchemy.engine.Engine [cached since 6.48s ago] {'pk_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,225 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,229 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,229 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,230 INFO sqlalchemy.engine.Engine [cached since 6.498s ago] {'id': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6984', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,231 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,234 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,235 INFO sqlalchemy.engine.Engine [cached since 6.493s ago] {'pk_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,240 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,251 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,251 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,252 INFO sqlalchemy.engine.Engine [cached since 6.232s ago] {'id_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d'), 'param_1': 1}
2026-02-18 16:24:32,253 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,254 INFO sqlalchemy.engine.Engine [cached since 6.232s ago] {'session_name': 'Updated 9445', 'sessions_id': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,257 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,260 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,260 INFO sqlalchemy.engine.Engine [cached since 6.519s ago] {'pk_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,269 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,269 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,269 INFO sqlalchemy.engine.Engine [cached since 5.817s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,272 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,272 INFO sqlalchemy.engine.Engine [cached since 5.816s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,277 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,278 INFO sqlalchemy.engine.Engine [cached since 5.826s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,280 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,280 INFO sqlalchemy.engine.Engine [cached since 5.825s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,282 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,283 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,283 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,291 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,292 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,292 INFO sqlalchemy.engine.Engine [cached since 6.273s ago] {'id_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e'), 'param_1': 1}
2026-02-18 16:24:32,294 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,295 INFO sqlalchemy.engine.Engine [cached since 6.273s ago] {'session_name': 'Updated 4801', 'sessions_id': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,296 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,299 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,299 INFO sqlalchemy.engine.Engine [cached since 6.558s ago] {'pk_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,305 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,309 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,309 INFO sqlalchemy.engine.Engine [cached since 6.402s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,312 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,312 INFO sqlalchemy.engine.Engine [cached since 6.401s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,318 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,318 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,319 INFO sqlalchemy.engine.Engine [cached since 6.411s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,320 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,322 INFO sqlalchemy.engine.Engine [cached since 6.41s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,324 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,327 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,333 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,333 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,334 INFO sqlalchemy.engine.Engine [cached since 6.314s ago] {'id_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f'), 'param_1': 1}
2026-02-18 16:24:32,335 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,335 INFO sqlalchemy.engine.Engine [cached since 5.768s ago] {'session_id_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,337 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,337 INFO sqlalchemy.engine.Engine [cached since 5.767s ago] {'session_id_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,344 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,344 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,345 INFO sqlalchemy.engine.Engine [cached since 6.325s ago] {'id_1': UUID('358f0442-969b-425a-ba4c-587417f90267'), 'param_1': 1}
2026-02-18 16:24:32,346 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,347 INFO sqlalchemy.engine.Engine [cached since 5.779s ago] {'session_id_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,348 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,349 INFO sqlalchemy.engine.Engine [cached since 5.778s ago] {'session_id_1': UUID('358f0442-969b-425a-ba4c-587417f90267'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,351 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,351 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,355 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,355 INFO sqlalchemy.engine.Engine [cached since 6.624s ago] {'id': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6089', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,357 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,361 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,361 INFO sqlalchemy.engine.Engine [cached since 6.62s ago] {'pk_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,366 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,366 INFO sqlalchemy.engine.Engine [cached since 6.635s ago] {'id': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4649', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,368 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,370 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,371 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,371 INFO sqlalchemy.engine.Engine [cached since 6.629s ago] {'pk_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:32,375 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,375 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,389 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,389 INFO sqlalchemy.engine.Engine [cached since 6.657s ago] {'id': UUID('5d696236-f57f-444a-a317-7fb80aeada26'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5401', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,391 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,393 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,395 INFO sqlalchemy.engine.Engine [cached since 6.653s ago] {'pk_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,399 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,400 INFO sqlalchemy.engine.Engine [cached since 6.668s ago] {'id': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2712', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,401 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,404 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,404 INFO sqlalchemy.engine.Engine [cached since 6.663s ago] {'pk_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:32,408 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,408 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,414 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,415 INFO sqlalchemy.engine.Engine [cached since 6.396s ago] {'id_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7'), 'param_1': 1}
2026-02-18 16:24:32,416 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,416 INFO sqlalchemy.engine.Engine [cached since 6.395s ago] {'session_name': 'Updated 7187', 'sessions_id': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,419 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,423 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,423 INFO sqlalchemy.engine.Engine [cached since 6.681s ago] {'pk_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,429 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,430 INFO sqlalchemy.engine.Engine [cached since 6.411s ago] {'id_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b'), 'param_1': 1}
2026-02-18 16:24:32,431 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,432 INFO sqlalchemy.engine.Engine [cached since 6.41s ago] {'session_name': 'Updated 6485', 'sessions_id': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,433 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,436 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,437 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,437 INFO sqlalchemy.engine.Engine [cached since 6.695s ago] {'pk_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,441 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,444 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,445 INFO sqlalchemy.engine.Engine [cached since 6.426s ago] {'id_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f'), 'param_1': 1}
2026-02-18 16:24:32,447 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,447 INFO sqlalchemy.engine.Engine [cached since 5.772s ago] {'param_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,448 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,449 INFO sqlalchemy.engine.Engine [cached since 5.77s ago] {'param_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,450 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,451 INFO sqlalchemy.engine.Engine [cached since 5.761s ago] {'param_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,452 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,452 INFO sqlalchemy.engine.Engine [cached since 5.757s ago] {'param_1': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,454 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,454 INFO sqlalchemy.engine.Engine [cached since 5.752s ago] {'id': UUID('c4ddcd1e-ba7d-4d16-b95e-8fc604673d7f')}
2026-02-18 16:24:32,457 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,461 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,464 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,464 INFO sqlalchemy.engine.Engine [cached since 6.445s ago] {'id_1': UUID('358f0442-969b-425a-ba4c-587417f90267'), 'param_1': 1}
2026-02-18 16:24:32,467 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,467 INFO sqlalchemy.engine.Engine [cached since 5.792s ago] {'param_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,468 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,469 INFO sqlalchemy.engine.Engine [cached since 5.791s ago] {'param_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,470 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,471 INFO sqlalchemy.engine.Engine [cached since 5.782s ago] {'param_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,473 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,473 INFO sqlalchemy.engine.Engine [cached since 5.777s ago] {'param_1': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,475 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,475 INFO sqlalchemy.engine.Engine [cached since 5.772s ago] {'id': UUID('358f0442-969b-425a-ba4c-587417f90267')}
2026-02-18 16:24:32,477 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,485 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,486 INFO sqlalchemy.engine.Engine [cached since 6.578s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,488 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,488 INFO sqlalchemy.engine.Engine [cached since 6.576s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,496 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,496 INFO sqlalchemy.engine.Engine [cached since 6.588s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,498 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,498 INFO sqlalchemy.engine.Engine [cached since 6.587s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,501 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,502 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,515 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,515 INFO sqlalchemy.engine.Engine [cached since 6.608s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,516 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,518 INFO sqlalchemy.engine.Engine [cached since 6.606s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,523 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,523 INFO sqlalchemy.engine.Engine [cached since 6.616s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,525 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,526 INFO sqlalchemy.engine.Engine [cached since 6.615s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,529 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,529 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,539 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,540 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,540 INFO sqlalchemy.engine.Engine [cached since 6.088s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,543 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,544 INFO sqlalchemy.engine.Engine [cached since 6.088s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,548 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,555 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,555 INFO sqlalchemy.engine.Engine [cached since 6.537s ago] {'id_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065'), 'param_1': 1}
2026-02-18 16:24:32,558 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,558 INFO sqlalchemy.engine.Engine [cached since 6.536s ago] {'session_name': 'Updated 2719', 'sessions_id': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:32,559 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,563 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,563 INFO sqlalchemy.engine.Engine [cached since 6.822s ago] {'pk_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,569 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,569 INFO sqlalchemy.engine.Engine [cached since 6.55s ago] {'id_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426'), 'param_1': 1}
2026-02-18 16:24:32,571 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,572 INFO sqlalchemy.engine.Engine [cached since 6.55s ago] {'session_name': 'Updated 6642', 'sessions_id': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:32,572 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,576 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,577 INFO sqlalchemy.engine.Engine [cached since 6.835s ago] {'pk_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:32,580 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,584 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,593 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,593 INFO sqlalchemy.engine.Engine [cached since 6.141s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,594 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,595 INFO sqlalchemy.engine.Engine [cached since 6.14s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,599 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,605 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,605 INFO sqlalchemy.engine.Engine [cached since 6.586s ago] {'id_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6'), 'param_1': 1}
2026-02-18 16:24:32,607 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,608 INFO sqlalchemy.engine.Engine [cached since 6.586s ago] {'session_name': 'Updated 5804', 'sessions_id': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:32,608 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,611 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,612 INFO sqlalchemy.engine.Engine [cached since 6.87s ago] {'pk_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,617 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,618 INFO sqlalchemy.engine.Engine [cached since 6.599s ago] {'id_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26'), 'param_1': 1}
2026-02-18 16:24:32,619 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,620 INFO sqlalchemy.engine.Engine [cached since 6.598s ago] {'session_name': 'Updated 4369', 'sessions_id': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:32,621 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,624 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,624 INFO sqlalchemy.engine.Engine [cached since 6.884s ago] {'pk_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:32,629 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,630 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,634 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,634 INFO sqlalchemy.engine.Engine [cached since 6.615s ago] {'id_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d'), 'param_1': 1}
2026-02-18 16:24:32,636 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,637 INFO sqlalchemy.engine.Engine [cached since 6.069s ago] {'session_id_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,639 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,640 INFO sqlalchemy.engine.Engine [cached since 6.069s ago] {'session_id_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,642 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,651 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,652 INFO sqlalchemy.engine.Engine [cached since 6.92s ago] {'id': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3093', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,654 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,657 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,657 INFO sqlalchemy.engine.Engine [cached since 6.915s ago] {'pk_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,661 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,662 INFO sqlalchemy.engine.Engine [cached since 6.93s ago] {'id': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4839', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,663 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,667 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,668 INFO sqlalchemy.engine.Engine [cached since 6.926s ago] {'pk_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:32,671 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,671 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,679 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,679 INFO sqlalchemy.engine.Engine [cached since 6.661s ago] {'id_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e'), 'param_1': 1}
2026-02-18 16:24:32,682 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,682 INFO sqlalchemy.engine.Engine [cached since 6.114s ago] {'session_id_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,683 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,684 INFO sqlalchemy.engine.Engine [cached since 6.113s ago] {'session_id_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,687 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,697 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,698 INFO sqlalchemy.engine.Engine [cached since 6.245s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,700 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,700 INFO sqlalchemy.engine.Engine [cached since 6.245s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,707 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,707 INFO sqlalchemy.engine.Engine [cached since 6.255s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,710 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,710 INFO sqlalchemy.engine.Engine [cached since 6.254s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,715 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,715 INFO sqlalchemy.engine.Engine [cached since 6.696s ago] {'id_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d'), 'param_1': 1}
2026-02-18 16:24:32,717 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,718 INFO sqlalchemy.engine.Engine [cached since 6.042s ago] {'param_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,719 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,719 INFO sqlalchemy.engine.Engine [cached since 6.04s ago] {'param_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,721 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,721 INFO sqlalchemy.engine.Engine [cached since 6.032s ago] {'param_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,722 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,723 INFO sqlalchemy.engine.Engine [cached since 6.027s ago] {'param_1': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,724 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,725 INFO sqlalchemy.engine.Engine [cached since 6.021s ago] {'id': UUID('2898b642-c8e6-4b0e-a6ff-ed39b1ddcc8d')}
2026-02-18 16:24:32,727 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,729 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,735 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,757 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,757 INFO sqlalchemy.engine.Engine [cached since 6.849s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,759 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,759 INFO sqlalchemy.engine.Engine [cached since 6.848s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,765 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,765 INFO sqlalchemy.engine.Engine [cached since 6.858s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,767 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,768 INFO sqlalchemy.engine.Engine [cached since 6.856s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,773 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,773 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,786 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,787 INFO sqlalchemy.engine.Engine [cached since 6.767s ago] {'id_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e'), 'param_1': 1}
2026-02-18 16:24:32,789 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,789 INFO sqlalchemy.engine.Engine [cached since 6.114s ago] {'param_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,791 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,791 INFO sqlalchemy.engine.Engine [cached since 6.113s ago] {'param_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,793 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,793 INFO sqlalchemy.engine.Engine [cached since 6.103s ago] {'param_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,794 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,795 INFO sqlalchemy.engine.Engine [cached since 6.098s ago] {'param_1': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,796 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,796 INFO sqlalchemy.engine.Engine [cached since 6.092s ago] {'id': UUID('f9008e0e-70ae-41ca-8079-db3a2d6ea36e')}
2026-02-18 16:24:32,798 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,808 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,808 INFO sqlalchemy.engine.Engine [cached since 6.789s ago] {'id_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7'), 'param_1': 1}
2026-02-18 16:24:32,810 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,811 INFO sqlalchemy.engine.Engine [cached since 6.243s ago] {'session_id_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,812 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,812 INFO sqlalchemy.engine.Engine [cached since 6.242s ago] {'session_id_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,815 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,819 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,820 INFO sqlalchemy.engine.Engine [cached since 6.801s ago] {'id_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b'), 'param_1': 1}
2026-02-18 16:24:32,823 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,823 INFO sqlalchemy.engine.Engine [cached since 6.255s ago] {'session_id_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,824 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,825 INFO sqlalchemy.engine.Engine [cached since 6.254s ago] {'session_id_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:32,828 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,841 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,842 INFO sqlalchemy.engine.Engine [cached since 6.389s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,844 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,844 INFO sqlalchemy.engine.Engine [cached since 6.388s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,847 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,851 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,851 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,852 INFO sqlalchemy.engine.Engine [cached since 6.833s ago] {'id_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf'), 'param_1': 1}
2026-02-18 16:24:32,854 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,855 INFO sqlalchemy.engine.Engine [cached since 6.833s ago] {'session_name': 'Updated 9458', 'sessions_id': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:32,856 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,859 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,859 INFO sqlalchemy.engine.Engine [cached since 7.118s ago] {'pk_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,864 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,864 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,865 INFO sqlalchemy.engine.Engine [cached since 6.846s ago] {'id_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860'), 'param_1': 1}
2026-02-18 16:24:32,867 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:32,867 INFO sqlalchemy.engine.Engine [cached since 6.846s ago] {'session_name': 'Updated 8725', 'sessions_id': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:32,870 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,873 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,873 INFO sqlalchemy.engine.Engine [cached since 7.131s ago] {'pk_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,880 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,880 INFO sqlalchemy.engine.Engine [cached since 6.428s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,883 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,883 INFO sqlalchemy.engine.Engine [cached since 6.427s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,886 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,886 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,887 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,892 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,893 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,893 INFO sqlalchemy.engine.Engine [cached since 6.874s ago] {'id_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7'), 'param_1': 1}
2026-02-18 16:24:32,895 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,895 INFO sqlalchemy.engine.Engine [cached since 6.22s ago] {'param_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,896 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,897 INFO sqlalchemy.engine.Engine [cached since 6.218s ago] {'param_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,899 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,899 INFO sqlalchemy.engine.Engine [cached since 6.21s ago] {'param_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,900 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,900 INFO sqlalchemy.engine.Engine [cached since 6.205s ago] {'param_1': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,902 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,902 INFO sqlalchemy.engine.Engine [cached since 6.199s ago] {'id': UUID('33b875ff-e0d5-4254-b31d-c445c18ca4f7')}
2026-02-18 16:24:32,905 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,914 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,915 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,915 INFO sqlalchemy.engine.Engine [cached since 6.896s ago] {'id_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b'), 'param_1': 1}
2026-02-18 16:24:32,917 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:32,917 INFO sqlalchemy.engine.Engine [cached since 6.242s ago] {'param_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,918 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:32,918 INFO sqlalchemy.engine.Engine [cached since 6.24s ago] {'param_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,919 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:32,921 INFO sqlalchemy.engine.Engine [cached since 6.231s ago] {'param_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,922 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:32,923 INFO sqlalchemy.engine.Engine [cached since 6.227s ago] {'param_1': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,924 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:32,924 INFO sqlalchemy.engine.Engine [cached since 6.221s ago] {'id': UUID('73dc0283-3f32-45b2-88d4-98a6ea62888b')}
2026-02-18 16:24:32,926 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,933 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,933 INFO sqlalchemy.engine.Engine [cached since 6.481s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,935 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,936 INFO sqlalchemy.engine.Engine [cached since 6.48s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,942 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,942 INFO sqlalchemy.engine.Engine [cached since 6.49s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:32,944 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,944 INFO sqlalchemy.engine.Engine [cached since 6.489s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:32,948 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,948 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,953 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,953 INFO sqlalchemy.engine.Engine [cached since 7.222s ago] {'id': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4646', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,955 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,959 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,959 INFO sqlalchemy.engine.Engine [cached since 7.217s ago] {'pk_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:32,961 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,971 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,971 INFO sqlalchemy.engine.Engine [cached since 6.952s ago] {'id_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065'), 'param_1': 1}
2026-02-18 16:24:32,973 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:32,973 INFO sqlalchemy.engine.Engine [cached since 6.405s ago] {'session_id_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:32,974 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:32,975 INFO sqlalchemy.engine.Engine [cached since 6.405s ago] {'session_id_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,980 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:32,981 INFO sqlalchemy.engine.Engine [cached since 7.249s ago] {'id': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3678', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:32,982 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:32,986 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,986 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:32,986 INFO sqlalchemy.engine.Engine [cached since 7.244s ago] {'pk_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:32,989 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:32,989 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:32,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:32,998 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:32,998 INFO sqlalchemy.engine.Engine [cached since 6.979s ago] {'id_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426'), 'param_1': 1}
2026-02-18 16:24:33,000 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,001 INFO sqlalchemy.engine.Engine [cached since 6.433s ago] {'session_id_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,002 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,003 INFO sqlalchemy.engine.Engine [cached since 6.432s ago] {'session_id_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,009 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,019 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,019 INFO sqlalchemy.engine.Engine [cached since 7.001s ago] {'id_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26'), 'param_1': 1}
2026-02-18 16:24:33,022 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,023 INFO sqlalchemy.engine.Engine [cached since 6.455s ago] {'session_id_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,024 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,025 INFO sqlalchemy.engine.Engine [cached since 6.454s ago] {'session_id_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,028 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,029 INFO sqlalchemy.engine.Engine [cached since 7.01s ago] {'id_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6'), 'param_1': 1}
2026-02-18 16:24:33,030 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,031 INFO sqlalchemy.engine.Engine [cached since 6.463s ago] {'session_id_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,032 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,032 INFO sqlalchemy.engine.Engine [cached since 6.462s ago] {'session_id_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,036 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,036 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,042 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,043 INFO sqlalchemy.engine.Engine [cached since 7.135s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,045 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,046 INFO sqlalchemy.engine.Engine [cached since 7.134s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,048 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,060 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,061 INFO sqlalchemy.engine.Engine [cached since 7.041s ago] {'id_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065'), 'param_1': 1}
2026-02-18 16:24:33,062 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,063 INFO sqlalchemy.engine.Engine [cached since 6.387s ago] {'param_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:33,064 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,064 INFO sqlalchemy.engine.Engine [cached since 6.386s ago] {'param_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:33,066 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,066 INFO sqlalchemy.engine.Engine [cached since 6.376s ago] {'param_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:33,067 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,067 INFO sqlalchemy.engine.Engine [cached since 6.371s ago] {'param_1': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:33,068 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,069 INFO sqlalchemy.engine.Engine [cached since 6.366s ago] {'id': UUID('a289bfc7-4732-46e5-837f-7a8ef07ef065')}
2026-02-18 16:24:33,073 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,080 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,080 INFO sqlalchemy.engine.Engine [cached since 7.172s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,082 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,082 INFO sqlalchemy.engine.Engine [cached since 7.17s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,085 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,091 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,092 INFO sqlalchemy.engine.Engine [cached since 7.073s ago] {'id_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426'), 'param_1': 1}
2026-02-18 16:24:33,093 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,095 INFO sqlalchemy.engine.Engine [cached since 6.419s ago] {'param_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,095 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,095 INFO sqlalchemy.engine.Engine [cached since 6.418s ago] {'param_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,098 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,098 INFO sqlalchemy.engine.Engine [cached since 6.408s ago] {'param_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,099 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,100 INFO sqlalchemy.engine.Engine [cached since 6.403s ago] {'param_1': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,101 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,101 INFO sqlalchemy.engine.Engine [cached since 6.398s ago] {'id': UUID('1cea9ae1-7342-4a03-a5c9-5d605df2e426')}
2026-02-18 16:24:33,103 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,116 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,117 INFO sqlalchemy.engine.Engine [cached since 7.097s ago] {'id_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26'), 'param_1': 1}
2026-02-18 16:24:33,118 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,119 INFO sqlalchemy.engine.Engine [cached since 6.443s ago] {'param_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,120 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,120 INFO sqlalchemy.engine.Engine [cached since 6.442s ago] {'param_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,122 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,122 INFO sqlalchemy.engine.Engine [cached since 6.433s ago] {'param_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,123 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,123 INFO sqlalchemy.engine.Engine [cached since 6.428s ago] {'param_1': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,125 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,125 INFO sqlalchemy.engine.Engine [cached since 6.422s ago] {'id': UUID('5d696236-f57f-444a-a317-7fb80aeada26')}
2026-02-18 16:24:33,127 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,135 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,135 INFO sqlalchemy.engine.Engine [cached since 7.116s ago] {'id_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6'), 'param_1': 1}
2026-02-18 16:24:33,138 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,138 INFO sqlalchemy.engine.Engine [cached since 6.463s ago] {'param_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,140 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,140 INFO sqlalchemy.engine.Engine [cached since 6.462s ago] {'param_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,141 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,142 INFO sqlalchemy.engine.Engine [cached since 6.453s ago] {'param_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,143 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,144 INFO sqlalchemy.engine.Engine [cached since 6.448s ago] {'param_1': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,146 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,146 INFO sqlalchemy.engine.Engine [cached since 6.443s ago] {'id': UUID('5f5fe868-290e-4da8-aaed-e4efbfedd4e6')}
2026-02-18 16:24:33,148 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,156 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,156 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,156 INFO sqlalchemy.engine.Engine [cached since 7.425s ago] {'id': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6552', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,158 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,161 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,161 INFO sqlalchemy.engine.Engine [cached since 7.419s ago] {'pk_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,167 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,167 INFO sqlalchemy.engine.Engine [cached since 7.435s ago] {'id': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8205', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,169 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,172 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,172 INFO sqlalchemy.engine.Engine [cached since 7.431s ago] {'pk_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,176 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,176 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,184 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,184 INFO sqlalchemy.engine.Engine [cached since 7.165s ago] {'id_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e'), 'param_1': 1}
2026-02-18 16:24:33,186 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,186 INFO sqlalchemy.engine.Engine [cached since 7.165s ago] {'session_name': 'Updated 1699', 'sessions_id': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,188 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,194 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,195 INFO sqlalchemy.engine.Engine [cached since 7.453s ago] {'pk_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,201 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,209 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,209 INFO sqlalchemy.engine.Engine [cached since 6.757s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,211 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,211 INFO sqlalchemy.engine.Engine [cached since 6.756s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,218 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,218 INFO sqlalchemy.engine.Engine [cached since 7.198s ago] {'id_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70'), 'param_1': 1}
2026-02-18 16:24:33,219 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,219 INFO sqlalchemy.engine.Engine [cached since 7.197s ago] {'session_name': 'Updated 2042', 'sessions_id': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,220 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,225 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,225 INFO sqlalchemy.engine.Engine [cached since 7.483s ago] {'pk_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,231 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,231 INFO sqlalchemy.engine.Engine [cached since 6.779s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,232 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,234 INFO sqlalchemy.engine.Engine [cached since 6.778s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,236 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,237 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,237 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,245 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,245 INFO sqlalchemy.engine.Engine [cached since 7.338s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,247 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,248 INFO sqlalchemy.engine.Engine [cached since 7.336s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,252 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,253 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,253 INFO sqlalchemy.engine.Engine [cached since 7.346s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,255 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,256 INFO sqlalchemy.engine.Engine [cached since 7.344s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,258 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,259 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,263 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,263 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,264 INFO sqlalchemy.engine.Engine [cached since 7.532s ago] {'id': UUID('91bed65e-a0bf-4643-a270-f44df6f85643'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3149', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,266 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,268 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,269 INFO sqlalchemy.engine.Engine [cached since 7.527s ago] {'pk_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,273 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,285 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,285 INFO sqlalchemy.engine.Engine [cached since 7.266s ago] {'id_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf'), 'param_1': 1}
2026-02-18 16:24:33,288 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,288 INFO sqlalchemy.engine.Engine [cached since 6.721s ago] {'session_id_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,290 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,291 INFO sqlalchemy.engine.Engine [cached since 6.72s ago] {'session_id_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,295 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,297 INFO sqlalchemy.engine.Engine [cached since 7.278s ago] {'id_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860'), 'param_1': 1}
2026-02-18 16:24:33,299 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,299 INFO sqlalchemy.engine.Engine [cached since 6.731s ago] {'session_id_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,300 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,301 INFO sqlalchemy.engine.Engine [cached since 6.73s ago] {'session_id_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,302 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,306 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,315 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,315 INFO sqlalchemy.engine.Engine [cached since 7.584s ago] {'id': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2340', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,316 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,321 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,321 INFO sqlalchemy.engine.Engine [cached since 7.58s ago] {'pk_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:33,325 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,329 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,330 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,330 INFO sqlalchemy.engine.Engine [cached since 7.422s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,332 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,332 INFO sqlalchemy.engine.Engine [cached since 7.42s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,338 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,338 INFO sqlalchemy.engine.Engine [cached since 7.319s ago] {'id_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2'), 'param_1': 1}
2026-02-18 16:24:33,340 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,340 INFO sqlalchemy.engine.Engine [cached since 7.319s ago] {'session_name': 'Updated 6404', 'sessions_id': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,341 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,344 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,345 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,345 INFO sqlalchemy.engine.Engine [cached since 7.603s ago] {'pk_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,350 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,350 INFO sqlalchemy.engine.Engine [cached since 7.331s ago] {'id_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df'), 'param_1': 1}
2026-02-18 16:24:33,352 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,353 INFO sqlalchemy.engine.Engine [cached since 7.331s ago] {'session_name': 'Updated 2948', 'sessions_id': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,354 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,358 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,358 INFO sqlalchemy.engine.Engine [cached since 7.616s ago] {'pk_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,363 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,363 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,364 INFO sqlalchemy.engine.Engine [cached since 7.632s ago] {'id': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5100', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,366 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,368 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,368 INFO sqlalchemy.engine.Engine [cached since 7.627s ago] {'pk_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:33,371 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,371 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,371 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,376 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,376 INFO sqlalchemy.engine.Engine [cached since 7.645s ago] {'id': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8486', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,378 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,383 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,383 INFO sqlalchemy.engine.Engine [cached since 7.641s ago] {'pk_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:33,384 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,385 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,398 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,398 INFO sqlalchemy.engine.Engine [cached since 7.378s ago] {'id_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf'), 'param_1': 1}
2026-02-18 16:24:33,399 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,400 INFO sqlalchemy.engine.Engine [cached since 6.724s ago] {'param_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,401 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,401 INFO sqlalchemy.engine.Engine [cached since 6.723s ago] {'param_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,403 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,403 INFO sqlalchemy.engine.Engine [cached since 6.713s ago] {'param_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,404 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,404 INFO sqlalchemy.engine.Engine [cached since 6.708s ago] {'param_1': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,406 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,406 INFO sqlalchemy.engine.Engine [cached since 6.703s ago] {'id': UUID('d3f0c68c-255b-4ccb-aa0e-d3da33764fbf')}
2026-02-18 16:24:33,408 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,417 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,417 INFO sqlalchemy.engine.Engine [cached since 7.398s ago] {'id_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860'), 'param_1': 1}
2026-02-18 16:24:33,419 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,419 INFO sqlalchemy.engine.Engine [cached since 6.743s ago] {'param_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,420 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,421 INFO sqlalchemy.engine.Engine [cached since 6.742s ago] {'param_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,422 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,423 INFO sqlalchemy.engine.Engine [cached since 6.733s ago] {'param_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,424 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,424 INFO sqlalchemy.engine.Engine [cached since 6.728s ago] {'param_1': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,425 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,425 INFO sqlalchemy.engine.Engine [cached since 6.722s ago] {'id': UUID('0b3dd1de-ac25-45a5-a3cb-eba5b43ae860')}
2026-02-18 16:24:33,428 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,441 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,441 INFO sqlalchemy.engine.Engine [cached since 7.533s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,443 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,443 INFO sqlalchemy.engine.Engine [cached since 7.531s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,447 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,454 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,454 INFO sqlalchemy.engine.Engine [cached since 7.546s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,456 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,456 INFO sqlalchemy.engine.Engine [cached since 7.545s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,462 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,463 INFO sqlalchemy.engine.Engine [cached since 7.555s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,464 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,465 INFO sqlalchemy.engine.Engine [cached since 7.553s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,470 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,470 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,472 INFO sqlalchemy.engine.Engine [cached since 7.452s ago] {'id_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643'), 'param_1': 1}
2026-02-18 16:24:33,473 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,473 INFO sqlalchemy.engine.Engine [cached since 7.452s ago] {'session_name': 'Updated 3469', 'sessions_id': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,475 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,478 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,478 INFO sqlalchemy.engine.Engine [cached since 7.737s ago] {'pk_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,481 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,484 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,484 INFO sqlalchemy.engine.Engine [cached since 7.033s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,486 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,487 INFO sqlalchemy.engine.Engine [cached since 7.031s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,491 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,492 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,492 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,500 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,500 INFO sqlalchemy.engine.Engine [cached since 7.048s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,502 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,503 INFO sqlalchemy.engine.Engine [cached since 7.048s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,508 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,524 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,524 INFO sqlalchemy.engine.Engine [cached since 7.505s ago] {'id_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970'), 'param_1': 1}
2026-02-18 16:24:33,526 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,526 INFO sqlalchemy.engine.Engine [cached since 7.504s ago] {'session_name': 'Updated 6385', 'sessions_id': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:33,527 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,530 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,530 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,530 INFO sqlalchemy.engine.Engine [cached since 7.789s ago] {'pk_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:33,534 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,540 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,541 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,541 INFO sqlalchemy.engine.Engine [cached since 7.522s ago] {'id_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e'), 'param_1': 1}
2026-02-18 16:24:33,542 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,543 INFO sqlalchemy.engine.Engine [cached since 6.975s ago] {'session_id_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,544 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,544 INFO sqlalchemy.engine.Engine [cached since 6.974s ago] {'session_id_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,547 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,551 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,551 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,552 INFO sqlalchemy.engine.Engine [cached since 7.533s ago] {'id_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f'), 'param_1': 1}
2026-02-18 16:24:33,554 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,554 INFO sqlalchemy.engine.Engine [cached since 7.532s ago] {'session_name': 'Updated 8058', 'sessions_id': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:33,555 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,558 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,560 INFO sqlalchemy.engine.Engine [cached since 7.818s ago] {'pk_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,566 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,566 INFO sqlalchemy.engine.Engine [cached since 7.547s ago] {'id_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8'), 'param_1': 1}
2026-02-18 16:24:33,568 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,568 INFO sqlalchemy.engine.Engine [cached since 7.546s ago] {'session_name': 'Updated 3918', 'sessions_id': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:33,569 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,573 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,573 INFO sqlalchemy.engine.Engine [cached since 7.831s ago] {'pk_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:33,576 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,577 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,583 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,583 INFO sqlalchemy.engine.Engine [cached since 7.564s ago] {'id_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70'), 'param_1': 1}
2026-02-18 16:24:33,585 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,585 INFO sqlalchemy.engine.Engine [cached since 7.018s ago] {'session_id_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,587 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,587 INFO sqlalchemy.engine.Engine [cached since 7.017s ago] {'session_id_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,591 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,599 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,599 INFO sqlalchemy.engine.Engine [cached since 7.867s ago] {'id': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7461', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,600 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,603 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,603 INFO sqlalchemy.engine.Engine [cached since 7.862s ago] {'pk_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,611 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,611 INFO sqlalchemy.engine.Engine [cached since 7.879s ago] {'id': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2509', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,613 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,616 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,617 INFO sqlalchemy.engine.Engine [cached since 7.875s ago] {'pk_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:33,619 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,620 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,629 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,629 INFO sqlalchemy.engine.Engine [cached since 7.61s ago] {'id_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e'), 'param_1': 1}
2026-02-18 16:24:33,631 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,632 INFO sqlalchemy.engine.Engine [cached since 6.956s ago] {'param_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,633 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,634 INFO sqlalchemy.engine.Engine [cached since 6.955s ago] {'param_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,635 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,636 INFO sqlalchemy.engine.Engine [cached since 6.946s ago] {'param_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,637 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,638 INFO sqlalchemy.engine.Engine [cached since 6.941s ago] {'param_1': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,639 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,639 INFO sqlalchemy.engine.Engine [cached since 6.936s ago] {'id': UUID('72e0145e-cc83-4f88-a746-a25aa54a412e')}
2026-02-18 16:24:33,641 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,647 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,647 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,648 INFO sqlalchemy.engine.Engine [cached since 7.196s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,650 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,650 INFO sqlalchemy.engine.Engine [cached since 7.195s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,655 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,662 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,664 INFO sqlalchemy.engine.Engine [cached since 7.211s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,666 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,666 INFO sqlalchemy.engine.Engine [cached since 7.21s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,670 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,677 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,677 INFO sqlalchemy.engine.Engine [cached since 7.657s ago] {'id_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70'), 'param_1': 1}
2026-02-18 16:24:33,678 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,678 INFO sqlalchemy.engine.Engine [cached since 7.003s ago] {'param_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,679 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,680 INFO sqlalchemy.engine.Engine [cached since 7.002s ago] {'param_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,681 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,682 INFO sqlalchemy.engine.Engine [cached since 6.992s ago] {'param_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,682 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,682 INFO sqlalchemy.engine.Engine [cached since 6.987s ago] {'param_1': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,685 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,685 INFO sqlalchemy.engine.Engine [cached since 6.982s ago] {'id': UUID('16e2f591-84bd-4b07-bc43-e6f710369f70')}
2026-02-18 16:24:33,688 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,706 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,707 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,707 INFO sqlalchemy.engine.Engine [cached since 7.799s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,709 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,709 INFO sqlalchemy.engine.Engine [cached since 7.797s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,714 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,715 INFO sqlalchemy.engine.Engine [cached since 7.807s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,716 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,717 INFO sqlalchemy.engine.Engine [cached since 7.805s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,720 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,721 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,731 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,732 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,733 INFO sqlalchemy.engine.Engine [cached since 7.713s ago] {'id_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df'), 'param_1': 1}
2026-02-18 16:24:33,734 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,735 INFO sqlalchemy.engine.Engine [cached since 7.167s ago] {'session_id_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,736 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,736 INFO sqlalchemy.engine.Engine [cached since 7.165s ago] {'session_id_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,743 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,743 INFO sqlalchemy.engine.Engine [cached since 7.291s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,745 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,745 INFO sqlalchemy.engine.Engine [cached since 7.289s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,748 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,749 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,754 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,755 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,755 INFO sqlalchemy.engine.Engine [cached since 7.736s ago] {'id_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2'), 'param_1': 1}
2026-02-18 16:24:33,757 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,758 INFO sqlalchemy.engine.Engine [cached since 7.19s ago] {'session_id_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,759 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,759 INFO sqlalchemy.engine.Engine [cached since 7.189s ago] {'session_id_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,762 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,778 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,778 INFO sqlalchemy.engine.Engine [cached since 7.759s ago] {'id_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df'), 'param_1': 1}
2026-02-18 16:24:33,780 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,780 INFO sqlalchemy.engine.Engine [cached since 7.105s ago] {'param_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,782 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,783 INFO sqlalchemy.engine.Engine [cached since 7.104s ago] {'param_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,784 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,784 INFO sqlalchemy.engine.Engine [cached since 7.095s ago] {'param_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,786 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,786 INFO sqlalchemy.engine.Engine [cached since 7.09s ago] {'param_1': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,788 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,789 INFO sqlalchemy.engine.Engine [cached since 7.085s ago] {'id': UUID('d29b70bd-6b80-4fd1-b2d7-3a5167f164df')}
2026-02-18 16:24:33,791 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,797 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,797 INFO sqlalchemy.engine.Engine [cached since 7.345s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,800 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,800 INFO sqlalchemy.engine.Engine [cached since 7.344s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,807 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,807 INFO sqlalchemy.engine.Engine [cached since 7.788s ago] {'id_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac'), 'param_1': 1}
2026-02-18 16:24:33,809 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,809 INFO sqlalchemy.engine.Engine [cached since 7.787s ago] {'session_name': 'Updated 4706', 'sessions_id': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:33,810 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,813 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,813 INFO sqlalchemy.engine.Engine [cached since 8.071s ago] {'pk_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,819 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,819 INFO sqlalchemy.engine.Engine [cached since 7.8s ago] {'id_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643'), 'param_1': 1}
2026-02-18 16:24:33,821 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,821 INFO sqlalchemy.engine.Engine [cached since 7.254s ago] {'session_id_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,823 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,824 INFO sqlalchemy.engine.Engine [cached since 7.253s ago] {'session_id_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,829 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,829 INFO sqlalchemy.engine.Engine [cached since 7.81s ago] {'id_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d'), 'param_1': 1}
2026-02-18 16:24:33,832 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:33,832 INFO sqlalchemy.engine.Engine [cached since 7.81s ago] {'session_name': 'Updated 8490', 'sessions_id': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:33,833 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,837 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,837 INFO sqlalchemy.engine.Engine [cached since 8.095s ago] {'pk_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:33,841 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,842 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,842 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:33,842 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,848 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,848 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,849 INFO sqlalchemy.engine.Engine [cached since 7.829s ago] {'id_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2'), 'param_1': 1}
2026-02-18 16:24:33,850 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,850 INFO sqlalchemy.engine.Engine [cached since 7.175s ago] {'param_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,852 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,852 INFO sqlalchemy.engine.Engine [cached since 7.173s ago] {'param_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,853 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,853 INFO sqlalchemy.engine.Engine [cached since 7.164s ago] {'param_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,855 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,855 INFO sqlalchemy.engine.Engine [cached since 7.159s ago] {'param_1': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,857 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,857 INFO sqlalchemy.engine.Engine [cached since 7.154s ago] {'id': UUID('e27d57c5-3c97-4f2d-a944-6b17c776d9d2')}
2026-02-18 16:24:33,859 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,868 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,868 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,868 INFO sqlalchemy.engine.Engine [cached since 7.416s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,871 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,871 INFO sqlalchemy.engine.Engine [cached since 7.415s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,880 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,880 INFO sqlalchemy.engine.Engine [cached since 7.428s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,883 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,883 INFO sqlalchemy.engine.Engine [cached since 7.427s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,885 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,888 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,892 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,892 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,893 INFO sqlalchemy.engine.Engine [cached since 8.161s ago] {'id': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6230', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,894 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,898 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,898 INFO sqlalchemy.engine.Engine [cached since 8.156s ago] {'pk_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,902 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,902 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:33,903 INFO sqlalchemy.engine.Engine [cached since 8.171s ago] {'id': UUID('7a9b7210-b579-4727-9cd2-d186d099201f'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7513', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:33,905 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,909 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:33,910 INFO sqlalchemy.engine.Engine [cached since 8.167s ago] {'pk_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:33,912 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:33,913 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,924 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,924 INFO sqlalchemy.engine.Engine [cached since 7.905s ago] {'id_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970'), 'param_1': 1}
2026-02-18 16:24:33,926 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,926 INFO sqlalchemy.engine.Engine [cached since 7.358s ago] {'session_id_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:33,927 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,928 INFO sqlalchemy.engine.Engine [cached since 7.357s ago] {'session_id_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,933 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,934 INFO sqlalchemy.engine.Engine [cached since 7.915s ago] {'id_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643'), 'param_1': 1}
2026-02-18 16:24:33,935 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:33,935 INFO sqlalchemy.engine.Engine [cached since 7.26s ago] {'param_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,937 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:33,937 INFO sqlalchemy.engine.Engine [cached since 7.26s ago] {'param_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,941 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:33,941 INFO sqlalchemy.engine.Engine [cached since 7.251s ago] {'param_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,942 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:33,942 INFO sqlalchemy.engine.Engine [cached since 7.246s ago] {'param_1': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,944 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:33,944 INFO sqlalchemy.engine.Engine [cached since 7.241s ago] {'id': UUID('91bed65e-a0bf-4643-a270-f44df6f85643')}
2026-02-18 16:24:33,946 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:33,949 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,956 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,956 INFO sqlalchemy.engine.Engine [cached since 7.937s ago] {'id_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8'), 'param_1': 1}
2026-02-18 16:24:33,958 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,958 INFO sqlalchemy.engine.Engine [cached since 7.391s ago] {'session_id_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:33,960 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,960 INFO sqlalchemy.engine.Engine [cached since 7.39s ago] {'session_id_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:33,964 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,967 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:33,967 INFO sqlalchemy.engine.Engine [cached since 7.949s ago] {'id_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f'), 'param_1': 1}
2026-02-18 16:24:33,970 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,971 INFO sqlalchemy.engine.Engine [cached since 7.403s ago] {'session_id_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:33,972 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,973 INFO sqlalchemy.engine.Engine [cached since 7.402s ago] {'session_id_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,978 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,978 INFO sqlalchemy.engine.Engine [cached since 8.07s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,980 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,980 INFO sqlalchemy.engine.Engine [cached since 8.069s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:33,983 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:33,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:33,993 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:33,993 INFO sqlalchemy.engine.Engine [cached since 8.085s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:33,995 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:33,995 INFO sqlalchemy.engine.Engine [cached since 8.084s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,000 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,003 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,038 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,039 INFO sqlalchemy.engine.Engine [cached since 8.307s ago] {'id': UUID('086cad37-f013-4563-9077-066ddd17fd0e'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4095', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,043 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,049 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,050 INFO sqlalchemy.engine.Engine [cached since 8.308s ago] {'pk_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,055 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,060 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,061 INFO sqlalchemy.engine.Engine [cached since 8.041s ago] {'id_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970'), 'param_1': 1}
2026-02-18 16:24:34,063 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,064 INFO sqlalchemy.engine.Engine [cached since 7.388s ago] {'param_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:34,065 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,066 INFO sqlalchemy.engine.Engine [cached since 7.387s ago] {'param_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:34,067 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,068 INFO sqlalchemy.engine.Engine [cached since 7.378s ago] {'param_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:34,069 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,069 INFO sqlalchemy.engine.Engine [cached since 7.373s ago] {'param_1': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:34,072 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,072 INFO sqlalchemy.engine.Engine [cached since 7.369s ago] {'id': UUID('b56d9c42-2ab2-4f1c-8773-5f72992f2970')}
2026-02-18 16:24:34,074 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,084 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,085 INFO sqlalchemy.engine.Engine [cached since 8.065s ago] {'id_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8'), 'param_1': 1}
2026-02-18 16:24:34,087 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,087 INFO sqlalchemy.engine.Engine [cached since 7.412s ago] {'param_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:34,090 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,090 INFO sqlalchemy.engine.Engine [cached since 7.412s ago] {'param_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:34,093 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,094 INFO sqlalchemy.engine.Engine [cached since 7.404s ago] {'param_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:34,096 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,096 INFO sqlalchemy.engine.Engine [cached since 7.399s ago] {'param_1': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:34,097 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,098 INFO sqlalchemy.engine.Engine [cached since 7.394s ago] {'id': UUID('811ff928-1d68-4063-8bbd-54cbfd252dc8')}
2026-02-18 16:24:34,100 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,107 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,107 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,108 INFO sqlalchemy.engine.Engine [cached since 8.376s ago] {'id': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1487', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,109 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,113 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,113 INFO sqlalchemy.engine.Engine [cached since 8.371s ago] {'pk_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,119 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,119 INFO sqlalchemy.engine.Engine [cached since 8.1s ago] {'id_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f'), 'param_1': 1}
2026-02-18 16:24:34,121 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,122 INFO sqlalchemy.engine.Engine [cached since 7.446s ago] {'param_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:34,123 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,123 INFO sqlalchemy.engine.Engine [cached since 7.445s ago] {'param_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:34,126 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,126 INFO sqlalchemy.engine.Engine [cached since 7.436s ago] {'param_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:34,127 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,128 INFO sqlalchemy.engine.Engine [cached since 7.431s ago] {'param_1': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:34,129 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,129 INFO sqlalchemy.engine.Engine [cached since 7.426s ago] {'id': UUID('58f26737-eb85-4fbb-9543-3e8136509a8f')}
2026-02-18 16:24:34,131 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,134 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,144 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,144 INFO sqlalchemy.engine.Engine [cached since 8.125s ago] {'id_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8'), 'param_1': 1}
2026-02-18 16:24:34,146 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,146 INFO sqlalchemy.engine.Engine [cached since 8.124s ago] {'session_name': 'Updated 2890', 'sessions_id': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,147 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,151 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,151 INFO sqlalchemy.engine.Engine [cached since 8.41s ago] {'pk_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,159 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,160 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,160 INFO sqlalchemy.engine.Engine [cached since 8.141s ago] {'id_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f'), 'param_1': 1}
2026-02-18 16:24:34,162 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,162 INFO sqlalchemy.engine.Engine [cached since 8.14s ago] {'session_name': 'Updated 6354', 'sessions_id': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,164 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,166 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,167 INFO sqlalchemy.engine.Engine [cached since 8.425s ago] {'pk_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,169 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,176 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,176 INFO sqlalchemy.engine.Engine [cached since 8.444s ago] {'id': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5519', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,178 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,181 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,182 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,182 INFO sqlalchemy.engine.Engine [cached since 8.44s ago] {'pk_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,184 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,185 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,191 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,191 INFO sqlalchemy.engine.Engine [cached since 8.283s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,193 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,194 INFO sqlalchemy.engine.Engine [cached since 8.282s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,197 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,204 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,204 INFO sqlalchemy.engine.Engine [cached since 7.752s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,206 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,206 INFO sqlalchemy.engine.Engine [cached since 7.751s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,209 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,213 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,214 INFO sqlalchemy.engine.Engine [cached since 7.762s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,215 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,217 INFO sqlalchemy.engine.Engine [cached since 7.761s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,224 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,224 INFO sqlalchemy.engine.Engine [cached since 8.316s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,225 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,225 INFO sqlalchemy.engine.Engine [cached since 8.314s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,228 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,229 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,240 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,240 INFO sqlalchemy.engine.Engine [cached since 8.333s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,242 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,242 INFO sqlalchemy.engine.Engine [cached since 8.331s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,246 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,255 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,256 INFO sqlalchemy.engine.Engine [cached since 8.236s ago] {'id_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac'), 'param_1': 1}
2026-02-18 16:24:34,257 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,258 INFO sqlalchemy.engine.Engine [cached since 7.69s ago] {'session_id_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,259 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,259 INFO sqlalchemy.engine.Engine [cached since 7.689s ago] {'session_id_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,262 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,266 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,266 INFO sqlalchemy.engine.Engine [cached since 8.247s ago] {'id_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e'), 'param_1': 1}
2026-02-18 16:24:34,268 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,268 INFO sqlalchemy.engine.Engine [cached since 8.247s ago] {'session_name': 'Updated 9691', 'sessions_id': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,269 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,273 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,274 INFO sqlalchemy.engine.Engine [cached since 8.532s ago] {'pk_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,277 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,281 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,282 INFO sqlalchemy.engine.Engine [cached since 8.263s ago] {'id_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d'), 'param_1': 1}
2026-02-18 16:24:34,284 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,284 INFO sqlalchemy.engine.Engine [cached since 7.716s ago] {'session_id_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,285 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,286 INFO sqlalchemy.engine.Engine [cached since 7.716s ago] {'session_id_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,291 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,291 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,292 INFO sqlalchemy.engine.Engine [cached since 8.56s ago] {'id': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4547', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,294 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,297 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,297 INFO sqlalchemy.engine.Engine [cached since 8.555s ago] {'pk_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,301 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,302 INFO sqlalchemy.engine.Engine [cached since 8.571s ago] {'id': UUID('0feb433e-f6a2-4f51-b742-244822113f89'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1180', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,304 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,308 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,308 INFO sqlalchemy.engine.Engine [cached since 8.567s ago] {'pk_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,314 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,314 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,314 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,322 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,323 INFO sqlalchemy.engine.Engine [cached since 8.304s ago] {'id_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167'), 'param_1': 1}
2026-02-18 16:24:34,325 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,325 INFO sqlalchemy.engine.Engine [cached since 8.303s ago] {'session_name': 'Updated 1523', 'sessions_id': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,326 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,329 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,329 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,330 INFO sqlalchemy.engine.Engine [cached since 8.588s ago] {'pk_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,333 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,342 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,343 INFO sqlalchemy.engine.Engine [cached since 8.611s ago] {'id': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 1430', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,346 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,350 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,350 INFO sqlalchemy.engine.Engine [cached since 8.608s ago] {'pk_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:34,355 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,362 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,363 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,363 INFO sqlalchemy.engine.Engine [cached since 8.344s ago] {'id_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5'), 'param_1': 1}
2026-02-18 16:24:34,365 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,365 INFO sqlalchemy.engine.Engine [cached since 8.343s ago] {'session_name': 'Updated 8357', 'sessions_id': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,366 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,370 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,370 INFO sqlalchemy.engine.Engine [cached since 8.628s ago] {'pk_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,377 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,377 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,377 INFO sqlalchemy.engine.Engine [cached since 8.358s ago] {'id_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac'), 'param_1': 1}
2026-02-18 16:24:34,379 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,379 INFO sqlalchemy.engine.Engine [cached since 7.704s ago] {'param_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,381 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,381 INFO sqlalchemy.engine.Engine [cached since 7.703s ago] {'param_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,383 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,384 INFO sqlalchemy.engine.Engine [cached since 7.694s ago] {'param_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,385 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,385 INFO sqlalchemy.engine.Engine [cached since 7.689s ago] {'param_1': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,387 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,388 INFO sqlalchemy.engine.Engine [cached since 7.685s ago] {'id': UUID('3b4bfaca-0e2f-4c88-afe3-931a8e9ce6ac')}
2026-02-18 16:24:34,391 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,394 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,402 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,402 INFO sqlalchemy.engine.Engine [cached since 8.495s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,405 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,406 INFO sqlalchemy.engine.Engine [cached since 8.494s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,411 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,411 INFO sqlalchemy.engine.Engine [cached since 8.391s ago] {'id_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d'), 'param_1': 1}
2026-02-18 16:24:34,413 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,413 INFO sqlalchemy.engine.Engine [cached since 7.737s ago] {'param_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,414 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,414 INFO sqlalchemy.engine.Engine [cached since 7.736s ago] {'param_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,416 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,416 INFO sqlalchemy.engine.Engine [cached since 7.727s ago] {'param_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,417 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,418 INFO sqlalchemy.engine.Engine [cached since 7.722s ago] {'param_1': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,419 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,420 INFO sqlalchemy.engine.Engine [cached since 7.717s ago] {'id': UUID('c2dca537-b707-4fbf-9f1c-88843e2f5c8d')}
2026-02-18 16:24:34,423 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,430 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,430 INFO sqlalchemy.engine.Engine [cached since 8.522s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,432 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,432 INFO sqlalchemy.engine.Engine [cached since 8.521s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,438 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,439 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,451 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,451 INFO sqlalchemy.engine.Engine [cached since 7.999s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,453 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,453 INFO sqlalchemy.engine.Engine [cached since 7.998s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,458 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,458 INFO sqlalchemy.engine.Engine [cached since 8.551s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,460 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,460 INFO sqlalchemy.engine.Engine [cached since 8.549s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,466 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,466 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,472 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,472 INFO sqlalchemy.engine.Engine [cached since 8.02s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,474 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,474 INFO sqlalchemy.engine.Engine [cached since 8.019s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,477 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,494 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,495 INFO sqlalchemy.engine.Engine [cached since 8.475s ago] {'id_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89'), 'param_1': 1}
2026-02-18 16:24:34,497 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,497 INFO sqlalchemy.engine.Engine [cached since 8.475s ago] {'session_name': 'Updated 5734', 'sessions_id': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,498 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,503 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,503 INFO sqlalchemy.engine.Engine [cached since 8.762s ago] {'pk_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,511 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,511 INFO sqlalchemy.engine.Engine [cached since 8.492s ago] {'id_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2'), 'param_1': 1}
2026-02-18 16:24:34,513 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,513 INFO sqlalchemy.engine.Engine [cached since 8.491s ago] {'session_name': 'Updated 8546', 'sessions_id': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:34,515 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,517 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,518 INFO sqlalchemy.engine.Engine [cached since 8.776s ago] {'pk_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:34,521 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,525 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,532 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,533 INFO sqlalchemy.engine.Engine [cached since 8.513s ago] {'id_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8'), 'param_1': 1}
2026-02-18 16:24:34,534 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,535 INFO sqlalchemy.engine.Engine [cached since 7.967s ago] {'session_id_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,536 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,537 INFO sqlalchemy.engine.Engine [cached since 7.966s ago] {'session_id_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,544 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,544 INFO sqlalchemy.engine.Engine [cached since 8.525s ago] {'id_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f'), 'param_1': 1}
2026-02-18 16:24:34,545 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,546 INFO sqlalchemy.engine.Engine [cached since 7.979s ago] {'session_id_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,547 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,548 INFO sqlalchemy.engine.Engine [cached since 7.978s ago] {'session_id_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,551 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,552 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,557 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,557 INFO sqlalchemy.engine.Engine [cached since 8.538s ago] {'id_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95'), 'param_1': 1}
2026-02-18 16:24:34,559 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,560 INFO sqlalchemy.engine.Engine [cached since 8.537s ago] {'session_name': 'Updated 9139', 'sessions_id': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:34,560 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,563 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,563 INFO sqlalchemy.engine.Engine [cached since 8.822s ago] {'pk_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:34,567 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,578 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,578 INFO sqlalchemy.engine.Engine [cached since 8.126s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,581 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,581 INFO sqlalchemy.engine.Engine [cached since 8.125s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,584 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,591 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,591 INFO sqlalchemy.engine.Engine [cached since 8.86s ago] {'id': UUID('480b6ca0-7563-4050-b3c9-bb564034531a'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6829', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,593 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,596 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,597 INFO sqlalchemy.engine.Engine [cached since 8.855s ago] {'pk_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,602 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,602 INFO sqlalchemy.engine.Engine [cached since 8.87s ago] {'id': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4246', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,604 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,607 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,607 INFO sqlalchemy.engine.Engine [cached since 8.866s ago] {'pk_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:34,611 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,611 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,615 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,615 INFO sqlalchemy.engine.Engine [cached since 8.163s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,617 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,618 INFO sqlalchemy.engine.Engine [cached since 8.162s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,621 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,630 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,630 INFO sqlalchemy.engine.Engine [cached since 8.611s ago] {'id_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f'), 'param_1': 1}
2026-02-18 16:24:34,631 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,631 INFO sqlalchemy.engine.Engine [cached since 7.956s ago] {'param_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,633 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,633 INFO sqlalchemy.engine.Engine [cached since 7.955s ago] {'param_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,635 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,635 INFO sqlalchemy.engine.Engine [cached since 7.945s ago] {'param_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,637 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,638 INFO sqlalchemy.engine.Engine [cached since 7.941s ago] {'param_1': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,639 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,640 INFO sqlalchemy.engine.Engine [cached since 7.936s ago] {'id': UUID('7a9b7210-b579-4727-9cd2-d186d099201f')}
2026-02-18 16:24:34,642 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,647 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,648 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,649 INFO sqlalchemy.engine.Engine [cached since 8.629s ago] {'id_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8'), 'param_1': 1}
2026-02-18 16:24:34,651 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,651 INFO sqlalchemy.engine.Engine [cached since 7.975s ago] {'param_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,652 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,653 INFO sqlalchemy.engine.Engine [cached since 7.974s ago] {'param_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,654 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,654 INFO sqlalchemy.engine.Engine [cached since 7.965s ago] {'param_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,656 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,656 INFO sqlalchemy.engine.Engine [cached since 7.96s ago] {'param_1': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,658 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,658 INFO sqlalchemy.engine.Engine [cached since 7.955s ago] {'id': UUID('c0662601-9846-4c8a-be9c-03090a66c8e8')}
2026-02-18 16:24:34,660 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,670 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,670 INFO sqlalchemy.engine.Engine [cached since 8.219s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,673 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,673 INFO sqlalchemy.engine.Engine [cached since 8.218s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,678 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,685 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,687 INFO sqlalchemy.engine.Engine [cached since 8.667s ago] {'id_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e'), 'param_1': 1}
2026-02-18 16:24:34,689 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,690 INFO sqlalchemy.engine.Engine [cached since 8.122s ago] {'session_id_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,691 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,692 INFO sqlalchemy.engine.Engine [cached since 8.121s ago] {'session_id_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,698 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,702 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,702 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,702 INFO sqlalchemy.engine.Engine [cached since 8.795s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,705 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,705 INFO sqlalchemy.engine.Engine [cached since 8.793s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,711 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,711 INFO sqlalchemy.engine.Engine [cached since 8.804s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,713 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,714 INFO sqlalchemy.engine.Engine [cached since 8.802s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,715 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,719 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,719 INFO sqlalchemy.engine.Engine [cached since 8.7s ago] {'id_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167'), 'param_1': 1}
2026-02-18 16:24:34,721 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,721 INFO sqlalchemy.engine.Engine [cached since 8.154s ago] {'session_id_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,723 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,723 INFO sqlalchemy.engine.Engine [cached since 8.153s ago] {'session_id_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,728 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,729 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,741 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,741 INFO sqlalchemy.engine.Engine [cached since 8.722s ago] {'id_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5'), 'param_1': 1}
2026-02-18 16:24:34,743 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,743 INFO sqlalchemy.engine.Engine [cached since 8.176s ago] {'session_id_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,745 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,745 INFO sqlalchemy.engine.Engine [cached since 8.175s ago] {'session_id_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,750 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,755 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,756 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,757 INFO sqlalchemy.engine.Engine [cached since 8.738s ago] {'id_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e'), 'param_1': 1}
2026-02-18 16:24:34,759 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,759 INFO sqlalchemy.engine.Engine [cached since 8.084s ago] {'param_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,760 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,760 INFO sqlalchemy.engine.Engine [cached since 8.082s ago] {'param_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,762 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,763 INFO sqlalchemy.engine.Engine [cached since 8.073s ago] {'param_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,764 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,764 INFO sqlalchemy.engine.Engine [cached since 8.068s ago] {'param_1': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,766 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,766 INFO sqlalchemy.engine.Engine [cached since 8.062s ago] {'id': UUID('086cad37-f013-4563-9077-066ddd17fd0e')}
2026-02-18 16:24:34,768 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,780 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,781 INFO sqlalchemy.engine.Engine [cached since 8.761s ago] {'id_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19'), 'param_1': 1}
2026-02-18 16:24:34,782 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,782 INFO sqlalchemy.engine.Engine [cached since 8.76s ago] {'session_name': 'Updated 5596', 'sessions_id': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:34,783 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,787 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,787 INFO sqlalchemy.engine.Engine [cached since 9.046s ago] {'pk_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,794 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,794 INFO sqlalchemy.engine.Engine [cached since 8.342s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,797 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,797 INFO sqlalchemy.engine.Engine [cached since 8.342s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,804 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,804 INFO sqlalchemy.engine.Engine [cached since 8.785s ago] {'id_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167'), 'param_1': 1}
2026-02-18 16:24:34,806 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,806 INFO sqlalchemy.engine.Engine [cached since 8.131s ago] {'param_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,807 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,808 INFO sqlalchemy.engine.Engine [cached since 8.129s ago] {'param_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,809 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,809 INFO sqlalchemy.engine.Engine [cached since 8.12s ago] {'param_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,810 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,810 INFO sqlalchemy.engine.Engine [cached since 8.115s ago] {'param_1': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,812 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,812 INFO sqlalchemy.engine.Engine [cached since 8.109s ago] {'id': UUID('ba915e1c-4bf8-4ddc-98c5-6ef938d3a167')}
2026-02-18 16:24:34,814 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,820 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,820 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,827 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,827 INFO sqlalchemy.engine.Engine [cached since 8.374s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,828 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,829 INFO sqlalchemy.engine.Engine [cached since 8.373s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,834 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,835 INFO sqlalchemy.engine.Engine [cached since 8.816s ago] {'id_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a'), 'param_1': 1}
2026-02-18 16:24:34,837 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:34,838 INFO sqlalchemy.engine.Engine [cached since 8.816s ago] {'session_name': 'Updated 9573', 'sessions_id': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:34,839 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,843 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,843 INFO sqlalchemy.engine.Engine [cached since 9.101s ago] {'pk_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:34,846 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,847 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,853 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,853 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,854 INFO sqlalchemy.engine.Engine [cached since 8.402s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,856 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,856 INFO sqlalchemy.engine.Engine [cached since 8.401s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,862 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,864 INFO sqlalchemy.engine.Engine [cached since 8.844s ago] {'id_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5'), 'param_1': 1}
2026-02-18 16:24:34,866 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,866 INFO sqlalchemy.engine.Engine [cached since 8.19s ago] {'param_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,867 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,867 INFO sqlalchemy.engine.Engine [cached since 8.189s ago] {'param_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,868 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,869 INFO sqlalchemy.engine.Engine [cached since 8.179s ago] {'param_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,870 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,870 INFO sqlalchemy.engine.Engine [cached since 8.175s ago] {'param_1': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,872 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,872 INFO sqlalchemy.engine.Engine [cached since 8.17s ago] {'id': UUID('97489fc6-a460-405a-b6a7-5d1cd65f8ab5')}
2026-02-18 16:24:34,875 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,878 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,882 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,883 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,883 INFO sqlalchemy.engine.Engine [cached since 9.151s ago] {'id': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 3746', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,885 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,888 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,889 INFO sqlalchemy.engine.Engine [cached since 9.147s ago] {'pk_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,893 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,893 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,894 INFO sqlalchemy.engine.Engine [cached since 9.162s ago] {'id': UUID('886765c4-a287-4c26-884b-56733d884d49'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 5401', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,895 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,899 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,899 INFO sqlalchemy.engine.Engine [cached since 9.157s ago] {'pk_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:34,902 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,902 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,913 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,914 INFO sqlalchemy.engine.Engine [cached since 8.894s ago] {'id_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89'), 'param_1': 1}
2026-02-18 16:24:34,916 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,916 INFO sqlalchemy.engine.Engine [cached since 8.348s ago] {'session_id_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,917 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,917 INFO sqlalchemy.engine.Engine [cached since 8.347s ago] {'session_id_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,920 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,923 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,924 INFO sqlalchemy.engine.Engine [cached since 8.905s ago] {'id_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2'), 'param_1': 1}
2026-02-18 16:24:34,926 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,926 INFO sqlalchemy.engine.Engine [cached since 8.359s ago] {'session_id_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:34,929 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,929 INFO sqlalchemy.engine.Engine [cached since 8.358s ago] {'session_id_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,932 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,938 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,938 INFO sqlalchemy.engine.Engine [cached since 8.919s ago] {'id_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95'), 'param_1': 1}
2026-02-18 16:24:34,940 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,940 INFO sqlalchemy.engine.Engine [cached since 8.373s ago] {'session_id_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:34,942 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,942 INFO sqlalchemy.engine.Engine [cached since 8.372s ago] {'session_id_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:34,945 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,949 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,949 INFO sqlalchemy.engine.Engine [cached since 9.042s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,951 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,952 INFO sqlalchemy.engine.Engine [cached since 9.04s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,958 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:34,958 INFO sqlalchemy.engine.Engine [cached since 9.05s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:34,959 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:34,959 INFO sqlalchemy.engine.Engine [cached since 9.048s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:34,962 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:34,962 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,967 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:34,967 INFO sqlalchemy.engine.Engine [cached since 9.236s ago] {'id': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 2440', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:34,969 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:34,972 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,973 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:34,973 INFO sqlalchemy.engine.Engine [cached since 9.231s ago] {'pk_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:34,976 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:34,986 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:34,987 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:34,987 INFO sqlalchemy.engine.Engine [cached since 8.969s ago] {'id_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89'), 'param_1': 1}
2026-02-18 16:24:34,990 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:34,991 INFO sqlalchemy.engine.Engine [cached since 8.316s ago] {'param_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,992 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:34,993 INFO sqlalchemy.engine.Engine [cached since 8.314s ago] {'param_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,995 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:34,995 INFO sqlalchemy.engine.Engine [cached since 8.306s ago] {'param_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,996 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:34,997 INFO sqlalchemy.engine.Engine [cached since 8.301s ago] {'param_1': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:34,998 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:34,998 INFO sqlalchemy.engine.Engine [cached since 8.295s ago] {'id': UUID('0feb433e-f6a2-4f51-b742-244822113f89')}
2026-02-18 16:24:35,000 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,008 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:35,009 INFO sqlalchemy.engine.Engine [cached since 9.277s ago] {'id': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 6058', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:35,011 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,015 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,015 INFO sqlalchemy.engine.Engine [cached since 9.273s ago] {'pk_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,020 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,029 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,029 INFO sqlalchemy.engine.Engine [cached since 9.01s ago] {'id_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2'), 'param_1': 1}
2026-02-18 16:24:35,032 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,032 INFO sqlalchemy.engine.Engine [cached since 8.357s ago] {'param_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:35,034 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,035 INFO sqlalchemy.engine.Engine [cached since 8.356s ago] {'param_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:35,036 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,037 INFO sqlalchemy.engine.Engine [cached since 8.347s ago] {'param_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:35,039 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,039 INFO sqlalchemy.engine.Engine [cached since 8.343s ago] {'param_1': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:35,041 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,041 INFO sqlalchemy.engine.Engine [cached since 8.338s ago] {'id': UUID('d9f14e7d-27a2-42a5-8220-a167604960e2')}
2026-02-18 16:24:35,043 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,051 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,051 INFO sqlalchemy.engine.Engine [cached since 9.032s ago] {'id_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95'), 'param_1': 1}
2026-02-18 16:24:35,053 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,053 INFO sqlalchemy.engine.Engine [cached since 8.378s ago] {'param_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:35,055 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,055 INFO sqlalchemy.engine.Engine [cached since 8.376s ago] {'param_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:35,057 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,057 INFO sqlalchemy.engine.Engine [cached since 8.367s ago] {'param_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:35,058 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,058 INFO sqlalchemy.engine.Engine [cached since 8.362s ago] {'param_1': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:35,060 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,060 INFO sqlalchemy.engine.Engine [cached since 8.357s ago] {'id': UUID('3e39ef1c-29f1-4f26-ad6a-38da43ad3e95')}
2026-02-18 16:24:35,062 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,074 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,075 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:35,075 INFO sqlalchemy.engine.Engine [cached since 9.343s ago] {'id': UUID('7e4e3ccd-e275-446b-967b-df18043e1537'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 8486', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:35,076 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,079 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,079 INFO sqlalchemy.engine.Engine [cached since 9.338s ago] {'pk_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,085 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,085 INFO sqlalchemy.engine.Engine [cached since 9.178s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,087 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,088 INFO sqlalchemy.engine.Engine [cached since 9.177s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,091 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:35,092 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,097 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,098 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,098 INFO sqlalchemy.engine.Engine [cached since 9.079s ago] {'id_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26'), 'param_1': 1}
2026-02-18 16:24:35,099 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,099 INFO sqlalchemy.engine.Engine [cached since 9.078s ago] {'session_name': 'Updated 6944', 'sessions_id': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,101 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,104 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,104 INFO sqlalchemy.engine.Engine [cached since 9.362s ago] {'pk_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,109 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,109 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,109 INFO sqlalchemy.engine.Engine [cached since 9.091s ago] {'id_1': UUID('886765c4-a287-4c26-884b-56733d884d49'), 'param_1': 1}
2026-02-18 16:24:35,111 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,112 INFO sqlalchemy.engine.Engine [cached since 9.09s ago] {'session_name': 'Updated 4254', 'sessions_id': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,113 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,117 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,117 INFO sqlalchemy.engine.Engine [cached since 9.375s ago] {'pk_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,120 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:35,121 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,128 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,129 INFO sqlalchemy.engine.Engine [cached since 9.22s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,130 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,130 INFO sqlalchemy.engine.Engine [cached since 9.219s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,133 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,139 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,140 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,140 INFO sqlalchemy.engine.Engine [cached since 8.688s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,142 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,143 INFO sqlalchemy.engine.Engine [cached since 8.687s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,147 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,151 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,152 INFO sqlalchemy.engine.Engine [cached since 8.699s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,154 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,154 INFO sqlalchemy.engine.Engine [cached since 8.698s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,157 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,162 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,163 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,163 INFO sqlalchemy.engine.Engine [cached since 9.256s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,165 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,165 INFO sqlalchemy.engine.Engine [cached since 9.254s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,170 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,177 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,177 INFO sqlalchemy.engine.Engine [cached since 9.158s ago] {'id_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977'), 'param_1': 1}
2026-02-18 16:24:35,179 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,180 INFO sqlalchemy.engine.Engine [cached since 9.158s ago] {'session_name': 'Updated 3999', 'sessions_id': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,181 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,184 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,184 INFO sqlalchemy.engine.Engine [cached since 9.442s ago] {'pk_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,190 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,201 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:35,202 INFO sqlalchemy.engine.Engine [cached since 9.47s ago] {'id': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 4283', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:35,204 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,208 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,208 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,208 INFO sqlalchemy.engine.Engine [cached since 9.467s ago] {'pk_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,214 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,215 INFO sqlalchemy.engine.Engine [cached since 9.195s ago] {'id_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19'), 'param_1': 1}
2026-02-18 16:24:35,217 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,217 INFO sqlalchemy.engine.Engine [cached since 8.649s ago] {'session_id_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,218 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,218 INFO sqlalchemy.engine.Engine [cached since 8.648s ago] {'session_id_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,220 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:24:35,222 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,225 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,225 INFO sqlalchemy.engine.Engine [cached since 9.206s ago] {'id_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef'), 'param_1': 1}
2026-02-18 16:24:35,227 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,228 INFO sqlalchemy.engine.Engine [cached since 9.206s ago] {'session_name': 'Updated 2080', 'sessions_id': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,229 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,232 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,232 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,232 INFO sqlalchemy.engine.Engine [cached since 9.49s ago] {'pk_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,239 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,239 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,240 INFO sqlalchemy.engine.Engine [cached since 9.22s ago] {'id_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a'), 'param_1': 1}
2026-02-18 16:24:35,241 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,242 INFO sqlalchemy.engine.Engine [cached since 8.674s ago] {'session_id_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,243 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,243 INFO sqlalchemy.engine.Engine [cached since 8.672s ago] {'session_id_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,245 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,248 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,255 INFO sqlalchemy.engine.Engine INSERT INTO sessions (id, user_id, session_name, device_type, session_status, calibration_data, settings, ended_at, duration_seconds, avg_fatigue_score, max_fatigue_score, alert_count) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(session_name)s, %(device_type)s, %(session_status)s, %(calibration_data)s, %(settings)s, %(ended_at)s, %(duration_seconds)s, %(avg_fatigue_score)s, %(max_fatigue_score)s, %(alert_count)s) RETURNING sessions.started_at
2026-02-18 16:24:35,256 INFO sqlalchemy.engine.Engine [cached since 9.524s ago] {'id': UUID('3437302d-4c43-4f17-9879-4d8274a6e994'), 'user_id': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'session_name': 'Load Test 7289', 'device_type': 'Muse 2', 'session_status': 'active', 'calibration_data': '{}', 'settings': '{}', 'ended_at': None, 'duration_seconds': None, 'avg_fatigue_score': None, 'max_fatigue_score': None, 'alert_count': 0}
2026-02-18 16:24:35,258 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,261 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,261 INFO sqlalchemy.engine.Engine [cached since 9.519s ago] {'pk_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,265 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,273 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,273 INFO sqlalchemy.engine.Engine [cached since 9.254s ago] {'id_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537'), 'param_1': 1}
2026-02-18 16:24:35,275 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,275 INFO sqlalchemy.engine.Engine [cached since 9.253s ago] {'session_name': 'Updated 9595', 'sessions_id': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,276 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,279 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,279 INFO sqlalchemy.engine.Engine [cached since 9.537s ago] {'pk_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,284 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,296 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,296 INFO sqlalchemy.engine.Engine [cached since 9.277s ago] {'id_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19'), 'param_1': 1}
2026-02-18 16:24:35,298 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,299 INFO sqlalchemy.engine.Engine [cached since 8.624s ago] {'param_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,300 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,301 INFO sqlalchemy.engine.Engine [cached since 8.623s ago] {'param_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,303 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,303 INFO sqlalchemy.engine.Engine [cached since 8.614s ago] {'param_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,305 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,305 INFO sqlalchemy.engine.Engine [cached since 8.609s ago] {'param_1': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,306 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,307 INFO sqlalchemy.engine.Engine [cached since 8.604s ago] {'id': UUID('fc5c3922-b0dd-4fcf-8563-7a1eaf8f8f19')}
2026-02-18 16:24:35,309 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,315 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,315 INFO sqlalchemy.engine.Engine [cached since 9.407s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,316 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,317 INFO sqlalchemy.engine.Engine [cached since 9.406s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,321 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408463, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,325 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,326 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,326 INFO sqlalchemy.engine.Engine [cached since 9.307s ago] {'id_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a'), 'param_1': 1}
2026-02-18 16:24:35,328 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,328 INFO sqlalchemy.engine.Engine [cached since 8.653s ago] {'param_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,330 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,330 INFO sqlalchemy.engine.Engine [cached since 8.652s ago] {'param_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,331 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,332 INFO sqlalchemy.engine.Engine [cached since 8.642s ago] {'param_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,333 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,333 INFO sqlalchemy.engine.Engine [cached since 8.637s ago] {'param_1': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,335 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,335 INFO sqlalchemy.engine.Engine [cached since 8.632s ago] {'id': UUID('480b6ca0-7563-4050-b3c9-bb564034531a')}
2026-02-18 16:24:35,337 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,352 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,353 INFO sqlalchemy.engine.Engine [cached since 9.445s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,355 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY sessions.started_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,355 INFO sqlalchemy.engine.Engine [cached since 9.443s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,359 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,367 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,367 INFO sqlalchemy.engine.Engine [cached since 8.915s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,369 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,369 INFO sqlalchemy.engine.Engine [cached since 8.913s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,375 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,375 INFO sqlalchemy.engine.Engine [cached since 8.923s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,377 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,377 INFO sqlalchemy.engine.Engine [cached since 8.922s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,382 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:35,383 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,395 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,395 INFO sqlalchemy.engine.Engine [cached since 9.376s ago] {'id_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0'), 'param_1': 1}
2026-02-18 16:24:35,397 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,397 INFO sqlalchemy.engine.Engine [cached since 9.375s ago] {'session_name': 'Updated 3556', 'sessions_id': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,398 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,402 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,402 INFO sqlalchemy.engine.Engine [cached since 9.66s ago] {'pk_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,409 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,416 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,416 INFO sqlalchemy.engine.Engine [cached since 9.398s ago] {'id_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994'), 'param_1': 1}
2026-02-18 16:24:35,419 INFO sqlalchemy.engine.Engine UPDATE sessions SET session_name=%(session_name)s WHERE sessions.id = %(sessions_id)s::UUID
2026-02-18 16:24:35,419 INFO sqlalchemy.engine.Engine [cached since 9.397s ago] {'session_name': 'Updated 2996', 'sessions_id': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,420 INFO sqlalchemy.engine.Engine COMMIT
2026-02-18 16:24:35,423 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,423 INFO sqlalchemy.engine.Engine SELECT sessions.id, sessions.user_id, sessions.session_name, sessions.device_type, sessions.session_status, sessions.calibration_data, sessions.settings, sessions.started_at, sessions.ended_at, sessions.duration_seconds, sessions.avg_fatigue_score, sessions.max_fatigue_score, sessions.alert_count 
FROM sessions 
WHERE sessions.id = %(pk_1)s::UUID
2026-02-18 16:24:35,423 INFO sqlalchemy.engine.Engine [cached since 9.682s ago] {'pk_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,428 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,432 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,432 INFO sqlalchemy.engine.Engine [cached since 9.413s ago] {'id_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26'), 'param_1': 1}
2026-02-18 16:24:35,434 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,434 INFO sqlalchemy.engine.Engine [cached since 8.866s ago] {'session_id_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,435 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,435 INFO sqlalchemy.engine.Engine [cached since 8.865s ago] {'session_id_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,440 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,441 INFO sqlalchemy.engine.Engine [cached since 9.422s ago] {'id_1': UUID('886765c4-a287-4c26-884b-56733d884d49'), 'param_1': 1}
2026-02-18 16:24:35,443 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,443 INFO sqlalchemy.engine.Engine [cached since 8.875s ago] {'session_id_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,445 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,445 INFO sqlalchemy.engine.Engine [cached since 8.874s ago] {'session_id_1': UUID('886765c4-a287-4c26-884b-56733d884d49'), 'param_1': 100, 'param_2': 0}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,451 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,451 INFO sqlalchemy.engine.Engine [cached since 8.999s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,454 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,454 INFO sqlalchemy.engine.Engine [cached since 8.998s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,456 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:35,456 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:24:35,457 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,464 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,464 INFO sqlalchemy.engine.Engine [cached since 9.012s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,466 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,468 INFO sqlalchemy.engine.Engine [cached since 9.012s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,471 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,503 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,506 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,507 INFO sqlalchemy.engine.Engine [cached since 9.054s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,513 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,514 INFO sqlalchemy.engine.Engine [cached since 9.058s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,523 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,533 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,534 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,535 INFO sqlalchemy.engine.Engine [cached since 9.516s ago] {'id_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26'), 'param_1': 1}
2026-02-18 16:24:35,540 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,541 INFO sqlalchemy.engine.Engine [cached since 8.865s ago] {'param_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,545 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,545 INFO sqlalchemy.engine.Engine [cached since 8.867s ago] {'param_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,549 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,550 INFO sqlalchemy.engine.Engine [cached since 8.86s ago] {'param_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,552 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,553 INFO sqlalchemy.engine.Engine [cached since 8.857s ago] {'param_1': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,556 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,557 INFO sqlalchemy.engine.Engine [cached since 8.853s ago] {'id': UUID('bd2b8c02-d244-4c64-8a65-5a31fb12cc26')}
2026-02-18 16:24:35,561 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,574 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,575 INFO sqlalchemy.engine.Engine [cached since 9.556s ago] {'id_1': UUID('886765c4-a287-4c26-884b-56733d884d49'), 'param_1': 1}
2026-02-18 16:24:35,579 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,580 INFO sqlalchemy.engine.Engine [cached since 8.905s ago] {'param_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,584 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,585 INFO sqlalchemy.engine.Engine [cached since 8.906s ago] {'param_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,590 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,591 INFO sqlalchemy.engine.Engine [cached since 8.901s ago] {'param_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,593 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,594 INFO sqlalchemy.engine.Engine [cached since 8.898s ago] {'param_1': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,598 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,599 INFO sqlalchemy.engine.Engine [cached since 8.895s ago] {'id': UUID('886765c4-a287-4c26-884b-56733d884d49')}
2026-02-18 16:24:35,602 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,613 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,614 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,615 INFO sqlalchemy.engine.Engine [cached since 9.596s ago] {'id_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977'), 'param_1': 1}
2026-02-18 16:24:35,618 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,619 INFO sqlalchemy.engine.Engine [cached since 9.052s ago] {'session_id_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,622 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,623 INFO sqlalchemy.engine.Engine [cached since 9.052s ago] {'session_id_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,628 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,642 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,642 INFO sqlalchemy.engine.Engine [cached since 9.623s ago] {'id_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef'), 'param_1': 1}
2026-02-18 16:24:35,645 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,646 INFO sqlalchemy.engine.Engine [cached since 9.078s ago] {'session_id_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,648 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,648 INFO sqlalchemy.engine.Engine [cached since 9.078s ago] {'session_id_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,655 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,669 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,669 INFO sqlalchemy.engine.Engine [cached since 9.65s ago] {'id_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537'), 'param_1': 1}
2026-02-18 16:24:35,671 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,672 INFO sqlalchemy.engine.Engine [cached since 9.104s ago] {'session_id_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,673 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,673 INFO sqlalchemy.engine.Engine [cached since 9.103s ago] {'session_id_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,676 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,681 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,681 INFO sqlalchemy.engine.Engine [cached since 9.662s ago] {'id_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977'), 'param_1': 1}
2026-02-18 16:24:35,683 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,683 INFO sqlalchemy.engine.Engine [cached since 9.008s ago] {'param_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,684 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,686 INFO sqlalchemy.engine.Engine [cached since 9.007s ago] {'param_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,687 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,688 INFO sqlalchemy.engine.Engine [cached since 8.998s ago] {'param_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,689 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,690 INFO sqlalchemy.engine.Engine [cached since 8.993s ago] {'param_1': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,691 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,691 INFO sqlalchemy.engine.Engine [cached since 8.988s ago] {'id': UUID('61be027a-f5b7-40b8-8e64-c19f75d58977')}
2026-02-18 16:24:35,693 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,702 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,703 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,703 INFO sqlalchemy.engine.Engine [cached since 9.684s ago] {'id_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef'), 'param_1': 1}
2026-02-18 16:24:35,705 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,705 INFO sqlalchemy.engine.Engine [cached since 9.03s ago] {'param_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,706 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,707 INFO sqlalchemy.engine.Engine [cached since 9.029s ago] {'param_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,708 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,709 INFO sqlalchemy.engine.Engine [cached since 9.02s ago] {'param_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,710 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,711 INFO sqlalchemy.engine.Engine [cached since 9.015s ago] {'param_1': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,712 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,712 INFO sqlalchemy.engine.Engine [cached since 9.01s ago] {'id': UUID('f27d52c3-5fb6-4e49-9e2d-06d699877fef')}
2026-02-18 16:24:35,715 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,724 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,724 INFO sqlalchemy.engine.Engine [cached since 9.272s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,726 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,727 INFO sqlalchemy.engine.Engine [cached since 9.271s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,730 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,735 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,736 INFO sqlalchemy.engine.Engine [cached since 9.283s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5')}
2026-02-18 16:24:35,738 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts JOIN sessions ON alerts.session_id = sessions.id 
WHERE sessions.user_id = %(user_id_1)s::UUID ORDER BY alerts.timestamp DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,739 INFO sqlalchemy.engine.Engine [cached since 9.283s ago] {'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'param_1': 20, 'param_2': 0}
2026-02-18 16:24:35,741 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,744 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,744 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,745 INFO sqlalchemy.engine.Engine [cached since 9.726s ago] {'id_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537'), 'param_1': 1}
2026-02-18 16:24:35,746 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,747 INFO sqlalchemy.engine.Engine [cached since 9.071s ago] {'param_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,748 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,748 INFO sqlalchemy.engine.Engine [cached since 9.07s ago] {'param_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,750 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,750 INFO sqlalchemy.engine.Engine [cached since 9.06s ago] {'param_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,751 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,751 INFO sqlalchemy.engine.Engine [cached since 9.055s ago] {'param_1': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,753 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,753 INFO sqlalchemy.engine.Engine [cached since 9.049s ago] {'id': UUID('7e4e3ccd-e275-446b-967b-df18043e1537')}
2026-02-18 16:24:35,755 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,768 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,769 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,769 INFO sqlalchemy.engine.Engine [cached since 9.75s ago] {'id_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0'), 'param_1': 1}
2026-02-18 16:24:35,772 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,772 INFO sqlalchemy.engine.Engine [cached since 9.204s ago] {'session_id_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,773 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,774 INFO sqlalchemy.engine.Engine [cached since 9.203s ago] {'session_id_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,775 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,779 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,779 INFO sqlalchemy.engine.Engine [cached since 9.76s ago] {'id_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994'), 'param_1': 1}
2026-02-18 16:24:35,781 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID) AS anon_1
2026-02-18 16:24:35,782 INFO sqlalchemy.engine.Engine [cached since 9.214s ago] {'session_id_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,782 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE eeg_data.session_id = %(session_id_1)s::UUID ORDER BY eeg_data.timestamp ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2026-02-18 16:24:35,784 INFO sqlalchemy.engine.Engine [cached since 9.213s ago] {'session_id_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994'), 'param_1': 100, 'param_2': 0}
2026-02-18 16:24:35,785 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408465, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,792 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,793 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,793 INFO sqlalchemy.engine.Engine [cached since 9.774s ago] {'id_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0'), 'param_1': 1}
2026-02-18 16:24:35,795 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,796 INFO sqlalchemy.engine.Engine [cached since 9.12s ago] {'param_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,797 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,797 INFO sqlalchemy.engine.Engine [cached since 9.118s ago] {'param_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,798 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,799 INFO sqlalchemy.engine.Engine [cached since 9.109s ago] {'param_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,800 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,800 INFO sqlalchemy.engine.Engine [cached since 9.104s ago] {'param_1': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,801 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,802 INFO sqlalchemy.engine.Engine [cached since 9.098s ago] {'id': UUID('0367ccd6-7ec2-4763-82f0-0056c60359f0')}
2026-02-18 16:24:35,803 INFO sqlalchemy.engine.Engine COMMIT

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408464, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:24:35,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:24:35,811 INFO sqlalchemy.engine.Engine SELECT sessions.id AS sessions_id, sessions.user_id AS sessions_user_id, sessions.session_name AS sessions_session_name, sessions.device_type AS sessions_device_type, sessions.session_status AS sessions_session_status, sessions.calibration_data AS sessions_calibration_data, sessions.settings AS sessions_settings, sessions.started_at AS sessions_started_at, sessions.ended_at AS sessions_ended_at, sessions.duration_seconds AS sessions_duration_seconds, sessions.avg_fatigue_score AS sessions_avg_fatigue_score, sessions.max_fatigue_score AS sessions_max_fatigue_score, sessions.alert_count AS sessions_alert_count 
FROM sessions 
WHERE sessions.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2026-02-18 16:24:35,811 INFO sqlalchemy.engine.Engine [cached since 9.792s ago] {'id_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994'), 'param_1': 1}
2026-02-18 16:24:35,813 INFO sqlalchemy.engine.Engine SELECT eeg_data.id AS eeg_data_id, eeg_data.session_id AS eeg_data_session_id, eeg_data.timestamp AS eeg_data_timestamp, eeg_data.raw_channels AS eeg_data_raw_channels, eeg_data.delta_power AS eeg_data_delta_power, eeg_data.theta_power AS eeg_data_theta_power, eeg_data.alpha_power AS eeg_data_alpha_power, eeg_data.beta_power AS eeg_data_beta_power, eeg_data.gamma_power AS eeg_data_gamma_power, eeg_data.theta_alpha_ratio AS eeg_data_theta_alpha_ratio, eeg_data.beta_alpha_ratio AS eeg_data_beta_alpha_ratio, eeg_data.signal_quality AS eeg_data_signal_quality, eeg_data.cognitive_state AS eeg_data_cognitive_state, eeg_data.eeg_fatigue_score AS eeg_data_eeg_fatigue_score 
FROM eeg_data 
WHERE %(param_1)s::UUID = eeg_data.session_id
2026-02-18 16:24:35,814 INFO sqlalchemy.engine.Engine [cached since 9.138s ago] {'param_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,815 INFO sqlalchemy.engine.Engine SELECT face_detection_events.id AS face_detection_events_id, face_detection_events.session_id AS face_detection_events_session_id, face_detection_events.timestamp AS face_detection_events_timestamp, face_detection_events.eye_aspect_ratio AS face_detection_events_eye_aspect_ratio, face_detection_events.mouth_aspect_ratio AS face_detection_events_mouth_aspect_ratio, face_detection_events.eyes_closed AS face_detection_events_eyes_closed, face_detection_events.yawning AS face_detection_events_yawning, face_detection_events.blink_count AS face_detection_events_blink_count, face_detection_events.blink_rate AS face_detection_events_blink_rate, face_detection_events.head_yaw AS face_detection_events_head_yaw, face_detection_events.head_pitch AS face_detection_events_head_pitch, face_detection_events.head_roll AS face_detection_events_head_roll, face_detection_events.face_fatigue_score AS face_detection_events_face_fatigue_score 
FROM face_detection_events 
WHERE %(param_1)s::UUID = face_detection_events.session_id
2026-02-18 16:24:35,815 INFO sqlalchemy.engine.Engine [cached since 9.137s ago] {'param_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,817 INFO sqlalchemy.engine.Engine SELECT game_events.id AS game_events_id, game_events.session_id AS game_events_session_id, game_events.timestamp AS game_events_timestamp, game_events.event_type AS game_events_event_type, game_events.event_data AS game_events_event_data, game_events.speed AS game_events_speed, game_events.lane_deviation AS game_events_lane_deviation, game_events.weather AS game_events_weather, game_events.time_of_day AS game_events_time_of_day 
FROM game_events 
WHERE %(param_1)s::UUID = game_events.session_id
2026-02-18 16:24:35,817 INFO sqlalchemy.engine.Engine [cached since 9.127s ago] {'param_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,818 INFO sqlalchemy.engine.Engine SELECT alerts.id AS alerts_id, alerts.session_id AS alerts_session_id, alerts.timestamp AS alerts_timestamp, alerts.alert_level AS alerts_alert_level, alerts.fatigue_score AS alerts_fatigue_score, alerts.eeg_contribution AS alerts_eeg_contribution, alerts.face_contribution AS alerts_face_contribution, alerts.trigger_reason AS alerts_trigger_reason, alerts.acknowledged AS alerts_acknowledged 
FROM alerts 
WHERE %(param_1)s::UUID = alerts.session_id
2026-02-18 16:24:35,818 INFO sqlalchemy.engine.Engine [cached since 9.122s ago] {'param_1': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,820 INFO sqlalchemy.engine.Engine DELETE FROM sessions WHERE sessions.id = %(id)s::UUID
2026-02-18 16:24:35,820 INFO sqlalchemy.engine.Engine [cached since 9.117s ago] {'id': UUID('3437302d-4c43-4f17-9879-4d8274a6e994')}
2026-02-18 16:24:35,822 INFO sqlalchemy.engine.Engine COMMIT
============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
2026-02-18 16:26:08,704 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 16:26:08,705 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:26:08,707 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 16:26:08,707 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:26:08,708 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 16:26:08,709 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:26:08,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:08,713 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:08,713 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:08,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:08,949 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:08,949 INFO sqlalchemy.engine.Engine [cached since 0.2366s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:09,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:09,197 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:09,199 INFO sqlalchemy.engine.Engine [cached since 0.4855s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:09,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:09,429 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:09,429 INFO sqlalchemy.engine.Engine [cached since 0.7174s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:09,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:09,663 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:09,663 INFO sqlalchemy.engine.Engine [cached since 0.9506s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:09,869 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:26:09,869 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:26:09,870 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:26:09,870 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:26:09,870 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408568, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408569, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:26:42,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:26:42,196 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:26:42,197 INFO sqlalchemy.engine.Engine [cached since 33.48s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:26:42,401 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408602, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408602, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408602, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
2026-02-18 16:28:30,768 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 16:28:30,768 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:28:30,771 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 16:28:30,772 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:28:30,774 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 16:28:30,774 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:28:30,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:30,780 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:28:30,781 INFO sqlalchemy.engine.Engine [generated in 0.00074s] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:28:30,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:30,996 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:28:30,996 INFO sqlalchemy.engine.Engine [cached since 0.2161s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:28:31,226 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,229 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:28:31,229 INFO sqlalchemy.engine.Engine [cached since 0.4492s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:28:31,459 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,460 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:28:31,460 INFO sqlalchemy.engine.Engine [cached since 0.6804s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:28:31,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,678 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:28:31,678 INFO sqlalchemy.engine.Engine [cached since 0.8986s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:28:31,883 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,883 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,883 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,883 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,883 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:31,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,899 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:31,900 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 31, 896054, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:31,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,910 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:31,910 INFO sqlalchemy.engine.Engine [cached since 0.01114s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 31, 908080, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:31,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,917 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:31,918 INFO sqlalchemy.engine.Engine [cached since 0.01886s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 31, 916079, tzinfo=datetime.timezone.utc)}
2026-02-18 16:28:31,921 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,921 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:28:31,922 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:31,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,928 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:31,928 INFO sqlalchemy.engine.Engine [cached since 0.02992s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 31, 925599, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:31,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:31,936 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:31,936 INFO sqlalchemy.engine.Engine [cached since 0.03764s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 31, 934927, tzinfo=datetime.timezone.utc)}
2026-02-18 16:28:31,939 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:31,940 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:32,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:32,631 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:32,631 INFO sqlalchemy.engine.Engine [cached since 0.7325s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 32, 624449, tzinfo=datetime.timezone.utc)}
2026-02-18 16:28:32,638 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:32,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:32,650 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:32,651 INFO sqlalchemy.engine.Engine [cached since 0.7519s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 32, 647203, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:32,658 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:32,659 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:32,660 INFO sqlalchemy.engine.Engine [cached since 0.7606s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 32, 657162, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:32,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:32,668 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:32,668 INFO sqlalchemy.engine.Engine [cached since 0.7692s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 32, 666040, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:28:32,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:28:32,674 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:28:32,674 INFO sqlalchemy.engine.Engine [cached since 0.7753s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 28, 32, 672681, tzinfo=datetime.timezone.utc)}
2026-02-18 16:28:32,676 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:32,676 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:32,677 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:28:32,677 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408710, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408711, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
2026-02-18 16:29:56,225 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-02-18 16:29:56,225 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:29:56,227 INFO sqlalchemy.engine.Engine select current_schema()
2026-02-18 16:29:56,227 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:29:56,228 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-02-18 16:29:56,228 INFO sqlalchemy.engine.Engine [raw sql] {}
2026-02-18 16:29:56,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:56,234 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:29:56,235 INFO sqlalchemy.engine.Engine [generated in 0.00078s] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:29:56,438 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:56,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:56,450 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:29:56,450 INFO sqlalchemy.engine.Engine [cached since 0.2163s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:29:56,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:56,656 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:29:56,657 INFO sqlalchemy.engine.Engine [cached since 0.4231s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:29:56,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:56,888 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:29:56,888 INFO sqlalchemy.engine.Engine [cached since 0.6536s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:29:57,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,118 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:29:57,118 INFO sqlalchemy.engine.Engine [cached since 0.8844s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:29:57,323 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,323 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,324 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,324 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,334 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,336 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:57,336 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 57, 332075, tzinfo=datetime.timezone.utc)}
2026-02-18 16:29:57,340 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,350 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:57,351 INFO sqlalchemy.engine.Engine [cached since 0.01508s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 57, 348396, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,356 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,358 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:57,358 INFO sqlalchemy.engine.Engine [cached since 0.02206s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 57, 355926, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,365 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:57,365 INFO sqlalchemy.engine.Engine [cached since 0.02935s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 57, 363115, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
2026-02-18 16:29:57,368 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,368 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,368 INFO sqlalchemy.engine.Engine ROLLBACK
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,372 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:57,372 INFO sqlalchemy.engine.Engine [cached since 0.0365s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 57, 370452, tzinfo=datetime.timezone.utc)}
2026-02-18 16:29:57,374 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,562 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:57,562 INFO sqlalchemy.engine.Engine [generated in 0.00088s] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 57, 557651, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,573 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,593 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:57,593 INFO sqlalchemy.engine.Engine [cached since 0.03129s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 57, 590684, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,605 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:57,606 INFO sqlalchemy.engine.Engine [cached since 0.04481s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 57, 603965, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,614 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,618 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,618 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:57,619 INFO sqlalchemy.engine.Engine [cached since 0.05653s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 57, 617052, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,624 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,630 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:57,630 INFO sqlalchemy.engine.Engine [cached since 0.06894s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 57, 629679, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,633 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,633 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,796 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:57,797 INFO sqlalchemy.engine.Engine [generated in 0.00076s] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 790739, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,808 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:57,810 INFO sqlalchemy.engine.Engine [generated in 0.00087s] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 790739, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,814 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:57,814 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 790739, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,817 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,849 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,850 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:57,850 INFO sqlalchemy.engine.Engine [cached since 0.05416s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 847179, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,858 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:57,859 INFO sqlalchemy.engine.Engine [cached since 0.05031s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 847179, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,861 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:57,862 INFO sqlalchemy.engine.Engine [cached since 0.04883s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 847179, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,866 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,869 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:57,870 INFO sqlalchemy.engine.Engine [cached since 0.07331s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 868244, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,873 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:57,874 INFO sqlalchemy.engine.Engine [cached since 0.06508s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 868244, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,875 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:57,876 INFO sqlalchemy.engine.Engine [cached since 0.06297s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 868244, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,882 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,882 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:57,882 INFO sqlalchemy.engine.Engine [cached since 0.08607s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 881287, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,886 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:57,886 INFO sqlalchemy.engine.Engine [cached since 0.07736s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 881287, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,888 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:57,888 INFO sqlalchemy.engine.Engine [cached since 0.07565s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 881287, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:57,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:57,895 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:57,895 INFO sqlalchemy.engine.Engine [cached since 0.09927s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 894314, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,897 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:57,898 INFO sqlalchemy.engine.Engine [cached since 0.08864s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 894314, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,900 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:57,900 INFO sqlalchemy.engine.Engine [cached since 0.0869s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 57, 894314, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:57,902 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,902 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:57,903 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,033 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:58,033 INFO sqlalchemy.engine.Engine [cached since 0.6979s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 58, 30580, tzinfo=datetime.timezone.utc)}
2026-02-18 16:29:58,037 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,119 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:58,120 INFO sqlalchemy.engine.Engine [cached since 0.7846s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 58, 114071, tzinfo=datetime.timezone.utc)}
2026-02-18 16:29:58,127 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,132 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,132 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:58,133 INFO sqlalchemy.engine.Engine [cached since 0.7975s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 58, 130594, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,141 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,142 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:58,142 INFO sqlalchemy.engine.Engine [cached since 0.8068s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 58, 140513, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,149 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:29:58,149 INFO sqlalchemy.engine.Engine [cached since 0.8129s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 29, 58, 147017, tzinfo=datetime.timezone.utc)}
2026-02-18 16:29:58,151 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,151 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,151 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,252 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,255 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:58,256 INFO sqlalchemy.engine.Engine [cached since 0.6945s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 58, 251420, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,262 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,369 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:58,371 INFO sqlalchemy.engine.Engine [cached since 0.8091s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 58, 364355, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,379 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,389 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:58,390 INFO sqlalchemy.engine.Engine [cached since 0.8286s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 58, 387425, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,398 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:58,398 INFO sqlalchemy.engine.Engine [cached since 0.8363s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 58, 396954, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,404 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:29:58,405 INFO sqlalchemy.engine.Engine [cached since 0.8431s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 29, 58, 403692, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,407 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,407 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,407 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,477 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:58,478 INFO sqlalchemy.engine.Engine [cached since 0.6816s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 474758, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,482 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:58,483 INFO sqlalchemy.engine.Engine [cached since 0.6742s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 474758, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,487 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:58,488 INFO sqlalchemy.engine.Engine [cached since 0.6747s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 474758, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,493 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,625 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:58,625 INFO sqlalchemy.engine.Engine [cached since 0.829s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 621264, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,628 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:58,628 INFO sqlalchemy.engine.Engine [cached since 0.8195s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 621264, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,630 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:58,631 INFO sqlalchemy.engine.Engine [cached since 0.8175s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 621264, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,634 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,639 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:58,639 INFO sqlalchemy.engine.Engine [cached since 0.8428s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 637941, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,642 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:58,642 INFO sqlalchemy.engine.Engine [cached since 0.8331s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 637941, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,644 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:58,644 INFO sqlalchemy.engine.Engine [cached since 0.8311s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 637941, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,650 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:58,650 INFO sqlalchemy.engine.Engine [cached since 0.8539s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 649298, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,652 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:58,653 INFO sqlalchemy.engine.Engine [cached since 0.8434s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 649298, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,654 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:58,654 INFO sqlalchemy.engine.Engine [cached since 0.8409s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 649298, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:29:58,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:29:58,660 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:29:58,660 INFO sqlalchemy.engine.Engine [cached since 0.8636s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 658722, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,662 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:29:58,663 INFO sqlalchemy.engine.Engine [cached since 0.8533s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 658722, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,664 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:29:58,665 INFO sqlalchemy.engine.Engine [cached since 0.8513s ago] {'since': datetime.datetime(2026, 1, 19, 9, 29, 58, 658722, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:29:58,667 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,667 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:29:58,668 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408796, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408797, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:14,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:14,360 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:31:14,361 INFO sqlalchemy.engine.Engine [cached since 78.13s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:31:14,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:14,569 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:31:14,569 INFO sqlalchemy.engine.Engine [cached since 78.34s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:31:14,769 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:14,769 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:14,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:14,773 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:31:14,774 INFO sqlalchemy.engine.Engine [cached since 78.54s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:31:14,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:14,977 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:31:14,978 INFO sqlalchemy.engine.Engine [cached since 78.74s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:31:15,176 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,178 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.full_name AS users_full_name, users.role AS users_role, users.is_active AS users_is_active, users.oauth_provider AS users_oauth_provider, users.google_id AS users_google_id, users.profile_picture AS users_profile_picture, users.name_manually_edited AS users_name_manually_edited, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2026-02-18 16:31:15,179 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'email_1': 'loadtest@fumorive.com', 'param_1': 1}
2026-02-18 16:31:15,378 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,378 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,378 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,390 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,390 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:15,391 INFO sqlalchemy.engine.Engine [cached since 78.06s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 15, 388419, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,396 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:15,396 INFO sqlalchemy.engine.Engine [cached since 78.06s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 15, 394798, tzinfo=datetime.timezone.utc)}
2026-02-18 16:31:15,399 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,399 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,405 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:15,405 INFO sqlalchemy.engine.Engine [cached since 78.07s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 15, 402803, tzinfo=datetime.timezone.utc)}
2026-02-18 16:31:15,408 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,414 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:15,415 INFO sqlalchemy.engine.Engine [cached since 78.08s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 15, 412272, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,423 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:15,423 INFO sqlalchemy.engine.Engine [cached since 78.09s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 15, 420539, tzinfo=datetime.timezone.utc)}
2026-02-18 16:31:15,426 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,427 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,644 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,647 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:15,649 INFO sqlalchemy.engine.Engine [cached since 78.09s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 15, 641639, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,654 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,663 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:15,664 INFO sqlalchemy.engine.Engine [cached since 78.1s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 15, 662080, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,669 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:15,669 INFO sqlalchemy.engine.Engine [cached since 78.11s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 15, 667141, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,674 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:15,674 INFO sqlalchemy.engine.Engine [cached since 78.11s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 15, 673046, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,678 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:15,678 INFO sqlalchemy.engine.Engine [cached since 78.12s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 15, 677028, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,680 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,680 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,680 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:15,680 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,905 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:15,907 INFO sqlalchemy.engine.Engine [cached since 78.11s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 900371, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,918 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:15,919 INFO sqlalchemy.engine.Engine [cached since 78.11s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 900371, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,926 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:15,927 INFO sqlalchemy.engine.Engine [cached since 78.11s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 900371, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,932 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,950 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:15,950 INFO sqlalchemy.engine.Engine [cached since 78.15s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 947501, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,957 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:15,957 INFO sqlalchemy.engine.Engine [cached since 78.15s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 947501, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,959 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:15,960 INFO sqlalchemy.engine.Engine [cached since 78.15s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 947501, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,971 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:15,971 INFO sqlalchemy.engine.Engine [cached since 78.18s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 968521, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,976 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:15,977 INFO sqlalchemy.engine.Engine [cached since 78.17s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 968521, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,980 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:15,981 INFO sqlalchemy.engine.Engine [cached since 78.17s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 968521, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:15,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:15,993 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:15,993 INFO sqlalchemy.engine.Engine [cached since 78.2s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 990731, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:15,997 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:15,998 INFO sqlalchemy.engine.Engine [cached since 78.19s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 990731, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,001 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,001 INFO sqlalchemy.engine.Engine [cached since 78.19s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 15, 990731, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,010 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,010 INFO sqlalchemy.engine.Engine [cached since 78.21s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 7947, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,014 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,014 INFO sqlalchemy.engine.Engine [cached since 78.21s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 7947, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,017 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,018 INFO sqlalchemy.engine.Engine [cached since 78.2s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 7947, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,021 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,237 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:16,237 INFO sqlalchemy.engine.Engine [cached since 78.9s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 16, 233864, tzinfo=datetime.timezone.utc)}
2026-02-18 16:31:16,242 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,248 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:16,248 INFO sqlalchemy.engine.Engine [cached since 78.91s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 16, 246812, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,254 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:16,255 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 16, 252233, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,260 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:16,260 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 16, 258369, tzinfo=datetime.timezone.utc)}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,264 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,265 INFO sqlalchemy.engine.Engine SELECT count(sessions.id) AS total_sessions, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_1)s) AS completed, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_2)s) AS active, count(sessions.id) FILTER (WHERE sessions.session_status = %(session_status_3)s) AS failed, avg(sessions.duration_seconds) AS avg_duration_s, sum(sessions.duration_seconds) AS total_duration_s, avg(sessions.avg_fatigue_score) AS avg_fatigue, max(sessions.max_fatigue_score) AS peak_fatigue, sum(sessions.alert_count) AS total_alerts 
FROM sessions 
WHERE sessions.user_id = %(user_id_1)s::UUID AND sessions.started_at >= %(started_at_1)s
2026-02-18 16:31:16,265 INFO sqlalchemy.engine.Engine [cached since 78.93s ago] {'session_status_1': 'completed', 'session_status_2': 'active', 'session_status_3': 'failed', 'user_id_1': UUID('e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'), 'started_at_1': datetime.datetime(2026, 1, 19, 9, 31, 16, 263261, tzinfo=datetime.timezone.utc)}
2026-02-18 16:31:16,267 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,267 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,267 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,267 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,479 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:16,479 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 16, 475873, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,482 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,492 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:16,492 INFO sqlalchemy.engine.Engine [cached since 78.93s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 16, 490182, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,498 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:16,499 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 16, 497183, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,503 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,504 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:16,505 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 16, 502303, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,510 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket(%(bucket)s, a.bucket)  AS period,
            AVG(a.avg_fatigue_score)        AS avg_fatigue,
            AVG(a.avg_theta_alpha_ratio)    AS avg_theta_alpha,
            COUNT(DISTINCT a.session_id)    AS session_count
        FROM eeg_1min_agg a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.bucket >= %(since)s
          AND s.user_id = %(user_id)s
        GROUP BY period
        ORDER BY period ASC
    
2026-02-18 16:31:16,510 INFO sqlalchemy.engine.Engine [cached since 78.95s ago] {'bucket': '1 day', 'since': datetime.datetime(2026, 2, 11, 9, 31, 16, 509103, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,512 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,512 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,512 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,512 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,721 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,721 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 719007, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,727 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,727 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 719007, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,730 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,730 INFO sqlalchemy.engine.Engine [cached since 78.92s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 719007, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,733 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,737 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,737 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 736667, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,739 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,739 INFO sqlalchemy.engine.Engine [cached since 78.93s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 736667, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,742 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,742 INFO sqlalchemy.engine.Engine [cached since 78.93s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 736667, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,746 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,746 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,746 INFO sqlalchemy.engine.Engine [cached since 78.95s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 745589, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,748 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,748 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 745589, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,750 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,750 INFO sqlalchemy.engine.Engine [cached since 78.94s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 745589, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,755 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,755 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,755 INFO sqlalchemy.engine.Engine [cached since 78.96s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 754119, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,757 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,759 INFO sqlalchemy.engine.Engine [cached since 78.95s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 754119, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,760 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,760 INFO sqlalchemy.engine.Engine [cached since 78.95s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 754119, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

2026-02-18 16:31:16,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-02-18 16:31:16,765 INFO sqlalchemy.engine.Engine 
        SELECT a.alert_level, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.alert_level
        ORDER BY cnt DESC
    
2026-02-18 16:31:16,765 INFO sqlalchemy.engine.Engine [cached since 78.97s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 764195, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,767 INFO sqlalchemy.engine.Engine 
        SELECT a.trigger_reason, COUNT(*) AS cnt
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY a.trigger_reason
        ORDER BY cnt DESC
        LIMIT 10
    
2026-02-18 16:31:16,767 INFO sqlalchemy.engine.Engine [cached since 78.96s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 764195, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,768 INFO sqlalchemy.engine.Engine 
        SELECT
            time_bucket('1 day', a.timestamp) AS day,
            COUNT(*) AS total,
            COUNT(*) FILTER (WHERE a.alert_level = 'warning')  AS warnings,
            COUNT(*) FILTER (WHERE a.alert_level = 'critical') AS criticals
        FROM alerts a
        JOIN sessions s ON s.id = a.session_id
        WHERE a.timestamp >= %(since)s AND s.user_id = %(user_id)s
        GROUP BY day
        ORDER BY day ASC
    
2026-02-18 16:31:16,768 INFO sqlalchemy.engine.Engine [cached since 78.96s ago] {'since': datetime.datetime(2026, 1, 19, 9, 31, 16, 764195, tzinfo=datetime.timezone.utc), 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5'}
2026-02-18 16:31:16,771 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,771 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,771 INFO sqlalchemy.engine.Engine ROLLBACK
2026-02-18 16:31:16,771 INFO sqlalchemy.engine.Engine ROLLBACK

==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408874, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================


==================================================
[AUTH] Starting get_current_user...
[LOG] Checking if token is blacklisted...
[OK] Token is not blacklisted
[LOG] Calling verify_token...
[SEARCH] Verifying access token...
[SEARCH] Token (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJsb...
[OK] Token decoded successfully
[LIST] Payload type: access
[LIST] Expected type: access
[OK] Token verified successfully
[OK] Token payload received: {'sub': 'loadtest@fumorive.com', 'user_id': 'e2ca2ff9-450d-4c6d-9a95-64068ab97ab5', 'email': 'loadtest@fumorive.com', 'full_name': 'Load Test User', 'role': 'student', 'exp': 1771408875, 'type': 'access'}
[LOG] User ID from token: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[OK] User UUID: e2ca2ff9-450d-4c6d-9a95-64068ab97ab5
[LOG] Checking cache for user e2ca2ff9-450d-4c6d-9a95-64068ab97ab5...
[OK] User found in cache
[OK] get_current_user completed successfully (from cache)
==================================================

============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
============================================================
[START] Fumorive Backend API Starting...
[ENV] Environment: development
[CORS] Origins: ['http://localhost:5173', 'http://localhost:3000', 'http://127.0.0.1:5173']

[REDIS] Initializing Redis...
[OK] Redis connected: redis://localhost:6379/0

[FIREBASE] Initializing Firebase...

[EEG] Starting EEG data buffer...
[EEG] Buffer started successfully

[DOCS] Documentation: /api/docs
[WS]   WebSocket: /api/v1/ws/session/{session_id}
============================================================
============================================================
[STOP] Fumorive Backend API Shutting Down...

[EEG] Stopping EEG data buffer...
[EEG] Buffer stopped and flushed

[REDIS] Closing Redis connection...
[OK] Redis connection closed
============================================================
